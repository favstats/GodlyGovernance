!function(t,e){for(var n in e)t[n]=e[n]}(this,function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(19)},,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){window.PoWaSettings=(0,_.extendDeep)({},R,window.PoWaSettings),PoWaSettings.client=PoWaSettings.client||(0,_.sniffClient)(),PoWaSettings.videoSupport=PoWaSettings.videoSupport||(0,_.getVideoSupport)();var e=PoWaSettings.client;e.isWindows&&e.isIE&&11==e.version&&(PoWaSettings.videoSupport.hlsJS=!1);var n=(0,_.extend)({},x,t);n.id=n.id.replace?n.id.replace(/(^#)/,""):n.id,n.muted=!(!n.autoplay||!(e.isAndroid||e.isMobile||e.isTablet||e.isSafari&&e.version>=11))||n.muted,N.set(this,n)}function a(){var t=N.get(this),e=(0,v.$)("#"+t.id);return e.css((0,_.extend)({},(0,_.notEmpty)(t.style)?t.style:_.DEFAULT_STYLE,{paddingBottom:100*(t.aspectRatio||_.SIXTEEN_BY_NINE)+"%"},_.REQUIRED_STYLE)),W.set(this,e),e}function r(){var t=N.get(this),e=W.get(this);if(e&&(t.$promo||(0,_.notEmpty)(t.promo))){var n=new A.PoWaPane({id:t.id,data:t.promo,template:PoWaSettings.pane.template});return e.append(n),V.set(this,n),n}}function s(){var t=this,e=I.get(this),n=L.get(this),i=N.get(this),o=W.get(this);if(o&&(i.$promo||(0,_.notEmpty)(i.promo))){var a=function(){var a=i.$promo?i.$promo:new b.PoWaShot({id:i.id,data:i.promo,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template,promoVideo:i.promoVideo});return(0,_.extend)(O,b.PoWaShot.EVENTS),(0,w.forEach)(b.PoWaShot.EVENTS,function(t){a.on(t,function(i){i=i.detail?i.detail:i,t!==b.PoWaShot.EVENTS.PROMO_RENDER||n[O.POWA_READY]||!function(){var t=i.visible;e.once(O.POWA_READY,function(){return e.trigger(b.PoWaShot.EVENTS.PROMO_RENDER,{visible:t})})}(),e.trigger(t,i),t===b.PoWaShot.EVENTS.PROMO_CUSTOM&&e.trigger(i.type,i)})}),window.powaData&&window.powaData[i.uuid]&&window.powaData[i.uuid].showErrorPane===!0?a.show():i.autoplay&&!i.$promo&&a.hide(),o.append(a),j.set(t,a),{v:a}}();if("object"===("undefined"==typeof a?"undefined":g(a)))return a.v}}function l(){var t=L.get(this),e=N.get(this),n=PoWaSettings.videoSupport;t.stream=e.stream?e.stream:n.hls||n.hlsJS?e.video.streams[0]:(0,w.reject)(e.video.streams,function(t){return t.toLowerCase().endsWith(".m3u8")})[0],e.stream&&delete e.stream,e.debug&&console.debug("stream",t.stream)}function u(){var t=this,e=L.get(this),n=N.get(this),i=I.get(this),o=W.get(this);if(o){var a=function(){var a=o.attr("id").replace("powa","powa-player"),r=e.stream&&e.stream.toLowerCase().endsWith(".m3u8")&&!PoWaSettings.videoSupport.hls?"":e.stream,s=new m.PoWaPlayer({controls:n.controls,debug:n.debug,id:a,muted:n.muted,preload:n.preload,stashVolume:n.stashVolume,video:r,volume:n.volume});return(0,w.forEach)(m.PoWaPlayer.EVENTS,function(e){var o=m.PoWaPlayer.powaDown(e);s.on(e,function(a){var r=U.get(t);if(e===m.PoWaPlayer.EVENTS.START){if(r){var l=n.adTag();r.getStatus().isPreloading?t.startAd():l?(t.loadAd(l),t.startAd()):s.play()}else s.play();i.trigger(o,a.detail?a.detail:a)}else r&&PoWaSettings.client.isIOS?r.isRunning()||(e===m.PoWaPlayer.EVENTS.END&&s.clearStarted(),i.trigger(o,a.detail?a.detail:a)):i.trigger(o,a.detail?a.detail:a)}),n.on&&n.on[o]&&"function"==typeof n.on[o]&&i.on(o,n.on[o])}),o.append(s),B.set(t,s),{v:s}}();if("object"===("undefined"==typeof a?"undefined":g(a)))return a.v}}function d(){var t=this,e=N.get(this);e.video&&(e.track||e.video.tracks)&&!function(){var n=I.get(t),i=B.get(t),o=new S.PoWaSub({subtitles:e.subtitles,track:e.track,tracks:e.video.tracks});e.track&&delete e.track,n.once(O.PLAY,function(){i.append(o),o.show()}),F.set(t,o)}()}function c(t){var e=PoWaSettings.videoSupport;return t.toLowerCase().endsWith("m3u8")&&!e.hls&&e.hlsJS}function p(){function t(t,e){var r=new Hls({capLevelToPlayerSize:!0});r.once=function(t,e){var n=arguments,i=function i(){r.off(t,i),e(n)};r.on(t,i)},r.on(Hls.Events.ERROR,function(t,e){if(e.fatal&&"bufferAppendError"!==e.details){var i=Object.assign({},e);i.context=Object.assign({},e.context),i.context.loader=null,i.loader=Object.assign({},e.loader),i.loader.context=null,n.trigger(O.ERROR,i)}}),r.on(Hls.Events.MANIFEST_PARSED,function(t,e){a.debug&&console.debug("["+P+"][HLS] manifest loaded, "+e.levels.length+" quality levels"),n.trigger(O.LOADED,e)}),r.loadSource(o.stream),r.on(Hls.Events.MEDIA_ATTACHED,function(){a.debug&&console.debug("["+P+"][HLS] attached")}),n.once(O.PLAY,function(){r.attachMedia(i.elements[0])}),M.set(this,r),t()}var e=this,n=I.get(this),i=B.get(this),o=L.get(this),a=N.get(this);return new Promise(function(n,i){"function"==typeof window.Hls?t.call(e,n,i):c(o.stream)?(0,_.promiseScript)(a.hlsJSURL).then(function(o){t.call(e,n,i)}).catch(i):n()})}function h(){var t=this;return new Promise(function(e,n){var i=N.get(t);i.ads?!function(){var n=I.get(t),o=j.get(t),a=B.get(t),r=i.adHacks?E.PoWaSellGoogimaHacks:k.PoWaSellGoogima;if(a){var s=(0,_.extend)({$container:W.get(t),$player:a,adBar:i.adBar,autoplay:i.autoplay,debug:i.debug,id:i.id,prerollOnly:i.prerollOnly,ready:function(s){U.set(t,s),(0,_.extend)(O,r.EVENTS),(0,_.extend)(C,r.STATES),W.get(t).on("resize",s.resize),s.on(O.AD_LOADED,function(t){PoWaSettings.client.isIOS||a.pause()}),s.on(O.AD_MUTE,function(t){return a.mute(t.detail.muted)}),s.on(O.AD_CLICK,function(t){s.pause(),i.debug&&console.debug("mobile: "+(PoWaSettings.client.isMobile?"✓":"✗")+" tablet: "+(PoWaSettings.client.isTablet?"✓":"✗")+" adClick:",t)}),s.on(O.AD_END,function(e){var i=M.get(t),r=L.get(t),l=function(){var t=s.getStatus();t.isPreloading&&!a.started?o.show():"adClick"===e.detail.status?o.show():a.play()};a.getStatus().state!==m.PoWaPlayer.STATES.SKIPPED&&(i&&r.stream.toLowerCase().endsWith(".m3u8")?(n.once(O.LOADED,l),a.clear(function(){"hidden"===document.visibilityState?!function(){var t=function t(e){console.debug("onVisibilityChange()","visible"===document.visibilityState),"visible"===document.visibilityState&&(i.loadSource(r.stream),document.removeEventListener("visibilitychange",t))};document.addEventListener("visibilitychange",t)}():i.loadSource(r.stream)})):PoWaSettings.client.isIOS&&e.detail.status===O.AD_ERROR?(a.once(m.PoWaPlayer.EVENTS.LOADED,l),a.load(r.stream)):l())}),(0,w.forEach)(r.EVENTS,function(t){s.on(t,function(e){return n.trigger(t,e.detail)}),i.advertising&&i.advertising.on&&i.advertising.on[t]&&"function"==typeof i.advertising.on[t]&&n.on(t,i.advertising.on[t])}),e(s)},setupError:function(i,o){var a=L.get(t);n.trigger(r.EVENTS.AD_SETUP_ERROR,i),a.adBlocked=o.getStatus().state===r.STATES.AD_BLOCKED,e()}},i.advertising,PoWaSettings.advertising);new r(s)}}():e()})}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWa=void 0;var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},v=n(7),m=n(11),w=n(9),y=n(10),b=n(12),k=n(13),E=n(16),S=n(17),A=n(18),_=n(8),P="PoWa",T="2e78a95",O=(0,_.extend)({ALL:"*",POWA_READY:"powaReady",POWA_RENDER:"powaRender",POWA_ERROR:"powaError",RESIZE:"resize",SETUP_ERROR:"setupError"},(0,w.map)(m.PoWaPlayer.EVENTS,m.PoWaPlayer.powaDown)),C=(0,_.extend)({},m.PoWaPlayer.STATES),D=1e3,R={promo:{size:"medium"}},x={id:"",debug:!0,autoShowPromo:D/4,hlsJSURL:"https://cdn.jsdelivr.net/hls.js/latest/hls.min.js",controls:!0,autoplay:!1,preload:"none",stashVolume:!0,ready:console.debug,error:console.error,blurb:!1},M=new WeakMap,I=new WeakMap,L=new WeakMap,N=new WeakMap,W=new WeakMap,j=new WeakMap,V=new WeakMap,B=new WeakMap,U=new WeakMap,F=new WeakMap,$=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),["loadVideo","loadAd","startAd","skipAd","pause","play","togglePlay","seekTime","seekPosition","jumpForward","jumpBack","mute","volume","showPromo","hidePromo","showControls","hideControls","showSubtitles","hideSubtitles","getStatus","on","off","once","onceIf","until","trigger"].map(function(t){return e[t]=e[t].bind(e)}),L.set(this,{});var c=new y.PoWaOnPoWaOff;I.set(this,c),o.call(this,n),a.call(this),s.call(this),n.autoinit&&r.call(this),l.call(this),u.call(this),d.call(this),p.call(this).then(function(){return h.call(e)}).then(function(){var t=L.get(e),n=N.get(e),i=j.get(e),o=B.get(e),a=U.get(e);c.on(O.PROMO_PLAY,function(){a&&a.initialUserAction(),o.play()}),c.on(O.AD_PLAY,i.hide),c.on(O.PLAY,i.hide),c.on(O.END,function(){if(n.autoShowPromo){var o=function(){e.getStatus().running||(i.show(),t.autoShowPromoTimeout=null)};t.autoShowPromoTimeout=setTimeout(o,n.autoShowPromo)}}),t[O.POWA_READY]=!0,n.ready(e),I.get(e).trigger(O.POWA_READY,e),n.autoplay&&e.play()}).catch(function(t){return I.get(e).trigger(O.SETUP_ERROR,t)})}return f(t,null,[{key:"MODULE",get:function(){return P}},{key:"EVENTS",get:function(){return O}},{key:"STATES",get:function(){return C}},{key:"VERSION",get:function(){return T}}]),f(t,[{key:"loadVideo",value:function(t){var e=this,n=M.get(this),i=j.get(this),o=B.get(this),a=F.get(this),r=L.get(this),s=N.get(this),u=U.get(this),f=function(){s.video=t,l.call(e),u&&u.clearStatus();var a=function(){o.clearStarted(),d.call(e),c(r.stream)?n?n.loadSource(r.stream):(u&&(u.destroy(),U.set(e,null)),p.call(e).then(function(){return h.call(e)}).catch(function(t){console.error(t)})):n?(n.destroy(),M.set(e,null),o.load(r.stream)):o.load(r.stream)};o.getStatus().state===m.PoWaPlayer.STATES.SKIPPED?o.skip(a):o.clear(a),i.update(t.promo)};s.debug&&console.debug("["+P+"][load]",t),this.getStatus().running&&o.setSkipped(),a&&(s.subtitles=a.showing(),a.detach(),F.set(this,null)),u&&u.isRunning()?(u.once(O.AD_END,f),u.skip()):f()}},{key:"loadAd",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=N.get(this),i=U.get(this);n.debug&&console.debug("["+P+"][loadAd] - "+t),t&&i&&i.requestAds(t,e)}},{key:"startAd",value:function(){var t=this,e=N.get(this),n=B.get(this),i=U.get(this),o=I.get(this);e.debug&&console.debug("["+P+"][startAd]"),i&&!function(){var e=i.getStatus(),a=e.adTagRequest;e.state!==k.PoWaSellGoogima.STATES.AD_ERROR?(a&&I.get(t).trigger(O.AD_WAITING,{type:O.AD_WAITING,adMeta:Object.assign({adTagRequest:a,isPreloading:e.isPreloading},e.adMeta)}),e.adReady?i.startAd():a&&(o.once(O.AD_READY,function(){var t=i.getStatus();t.adTagRequest===a&&i.startAd()}),o.once(O.AD_ERROR,function(){var t=i.getStatus();t.adTagRequest===a&&n.play()}))):n.play()}()}},{key:"skipAd",value:function(){var t=N.get(this),e=U.get(this);t.debug&&console.debug("["+P+"][skipAd]"),e&&e.isRunning()&&e.skip()}},{key:"pause",value:function(){var t=N.get(this),e=U.get(this);t.debug&&console.debug("["+P+"][pause]"),e&&e.isRunning()?e.pause():B.get(this).pause()}},{key:"play",value:function(){var t=L.get(this),e=N.get(this),n=U.get(this);e.debug&&console.debug("["+P+"][play]"),t.autoShowPromoTimeout&&(clearTimeout(t.autoShowPromoTimeout),t.autoShowPromoTimeout=null),n&&n.isRunning()?n.play():(n&&n.initialUserAction(),B.get(this).play())}},{key:"togglePlay",value:function(){B.get(this).togglePlay()}},{key:"seekTime",value:function(t){B.get(this).seekTime(t)}},{key:"seekPosition",value:function(t){B.get(this).seekPosition(t)}},{key:"jumpForward",value:function(t){B.get(this).jumpForward(t)}},{key:"jumpBack",value:function(t){B.get(this).jumpBack(t)}},{key:"mute",value:function(t){B.get(this).mute(t)}},{key:"volume",value:function(t){B.get(this).volume(t)}},{key:"showPromo",value:function(){var t=N.get(this);t.debug&&console.debug("["+P+"][showPromo]"),j.get(this).show()}},{key:"hidePromo",value:function(){var t=N.get(this);t.debug&&console.debug("["+P+"][hidePromo]"),j.get(this).hide()}},{key:"showControls",value:function(){B.get(this).setControls(!0)}},{key:"hideControls",value:function(){B.get(this).setControls(!1)}},{key:"showSubtitles",value:function(t){var e=N.get(this),n=F.get(this);e.subtitles=t,n&&n.show(t)}},{key:"hideSubtitles",value:function(){var t=F.get(this);t&&t.hide()}},{key:"getStatus",value:function(){var t=L.get(this),e=N.get(this),n=B.get(this),i=U.get(this),o=F.get(this),a=i?i.getStatus():{},r=n?n.getStatus():{},s=o?o.getStatus():{},l={running:!!(r.running||a.running||(0,_.notEmpty)(a)&&a.state===C.AD_CLICKED&&r.state===C.IDLE),playing:!!(r.state===C.PLAYING||(0,_.notEmpty)(a)&&a.state===C.AD_PLAYING),state:a.running?a.state:(0,_.notEmpty)(r)?r.state:(0,_.notEmpty)(a)?a.state:null};return t.stream&&(l.stream=t.stream),t.adBlocked&&(l.adBlocked=t.adBlocked),(0,_.notEmpty)(r)&&(0,_.extend)(l,{time:r.time,muted:r.muted,volume:r.volume,duration:r.duration}),(0,_.notEmpty)(a)&&(0,_.extend)(l,{adStatus:a,adRunning:a.running,adTime:a.timing.duration-(a.timing.remaining>=0?a.timing.remaining:a.timing.lastRemaining),adDuration:a.timing.duration}),(0,_.notEmpty)(s)&&(s.showing=void 0===s.showing&&e.subtitles?e.subtitles:s.showing?s.showing:null,l.subtitles=s),l}},{key:"on",value:function(t,e,n){I.get(this).on(t,e)}},{key:"off",value:function(t,e){I.get(this).off(t,e)}},{key:"once",value:function(t,e,n){I.get(this).once(t,e)}},{key:"onceIf",value:function(t,e,n,i){I.get(this).onceIf(t,e,n)}},{key:"until",value:function(t,e,n,i){I.get(this).until(t,e,n)}},{key:"trigger",value:function(t){I.get(this).trigger(t)}}]),t}();e.PoWa=$,window.PoWa=$},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return new S(t)}function r(){k=null,E.size&&(E.forEach(function(t){var e=y.get(t),n=b.get(t),i=t.width(),o=t.height();if(e!==i||n!==o){var a=(0,g.isFullscreen)();y.set(t,i),b.set(t,o),w.get(t).trigger("resize",{width:i,height:o,oldWidth:e,oldHeight:n,fullscreen:a})}}),k=requestAnimationFrame(r))}function s(t){var e=w.get(this);e.on("resize",t),E.add(this),y.set(this,this.width()),b.set(this,this.height()),k||(k=requestAnimationFrame(r))}function l(t){var e=w.get(this);e.off("resize",t),e.length("resize")||E.delete(this)}function u(t){var e=this;this.isInDOM()?t():window.MutationObserver?(this._bodyObserver=new MutationObserver(function(n){e.isInDOM()&&(e._bodyObserver.disconnect(),t())}),this._bodyObserver.observe(document.body,{childList:!0})):requestAnimationFrame(function(){return u.call(e,t)})}function d(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function c(t,e){t.classList?t.classList.add(e):d(t,e)||(t.className+=" "+e)}function p(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaPack=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.$=a;var g=n(8),v=n(10),m={ADDED_TO_DOM:"addedToDOM",RESIZE:"resize"},w=new WeakMap,y=new WeakMap,b=new WeakMap,k=void 0,E=new Set,S=e.PoWaPack=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?"":arguments[0],a=arguments[1];if(o(this,t),["add","append","after","attr","createDomNode","find","getElement","getElements","hasClass","addClass","removeClass","html","css","parent","children","width","height","offset","position","isInDOM","show","hide","visible","empty","filter","which","forEach","map","reduce","on","off","once","onceIf","until","trigger"].map(function(t){return e[t]=e[t].bind(e)}),w.set(this,new v.PoWaOnPoWaOff),this.elements=[],n="string"==typeof n?n.trim():n,n instanceof HTMLElement)this.elements.push(n);else if(n instanceof NodeList)this.elements=[].concat(i(n));else if(n.length&&"<"===n[0]){var r;(r=this.elements).push.apply(r,i(this.createDomNode(n)))}else if(n.length&&"#"===n[0])this.elements.push(this.getElement(n,a));else{var s;(s=this.elements).push.apply(s,i(this.getElements(n,a)))}}return f(t,null,[{key:"EVENTS",get:function(){return m}}]),f(t,[{key:"add",value:function(e){var n=this;e=e instanceof t?e:new t(e),e.elements.forEach(function(t){return n.elements.push(t)})}},{key:"append",value:function(e){var n=this;e=e instanceof t?e:new t(e),this.elements.length?e.elements.forEach(function(t){return n.elements[n.elements.length-1].appendChild(t)}):e.elements.forEach(function(t){return n.elements.push(t)})}},{key:"after",value:function(e){var n=this;e=e instanceof t?e:new t(e),this.elements.length?(e.elements.reverse(),e.elements.forEach(function(t){var e=n.elements[n.elements.length-1];e.parentNode.insertBefore(t,e.nextSibling)}),e.elements.reverse()):e.elements.forEach(function(t){return n.elements.push(t)})}},{key:"attr",value:function(t,e){return"undefined"==typeof e&&this.elements.length?this.elements[0].getAttribute(t):void(e===!0&&this.elements.length?this.elements.forEach(function(e){return e.setAttribute(t,"")}):e===!1&&this.elements.length?this.elements.forEach(function(e){return e.removeAttribute(t)}):this.elements.forEach(function(n){return n.setAttribute(t,e)}))}},{key:"removeAttr",value:function(t){this.elements.forEach(function(e){return e.removeAttribute(t)})}},{key:"createDomNode",value:function(t){if("string"==typeof t){var e=document.createElement("div");c(e,"powapack-husk"),e.innerHTML=t;var n=e.childNodes;return Array.prototype.slice.call(n)}}},{key:"detach",value:function(){this.elements.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},{key:"getElement",value:function(t,e){return(e||document).querySelector(t)}},{key:"getElements",value:function(t,e){if(!t)return[];var n=(e||document).querySelectorAll(t);return Array.prototype.slice.call(n)}},{key:"hasClass",value:function(t){var e=this.elements.map(function(e){return d(e,t)});return 0===e.length?void 0:1===e.length?e[0]:e}},{key:"addClass",value:function(t){this.elements.forEach(function(e){return c(e,t)})}},{key:"removeClass",value:function(t){this.elements.forEach(function(e){return p(e,t)})}},{key:"html",value:function(t){if(this.elements.length){if(!t)return this.elements[0].innerHTML;this.elements[0].innerHTML=t}}},{key:"css",value:function(t){var e=this,n=function(n){if("object"===h(t[n])){var i=e.find(n);i.css(t[n])}else e.elements.forEach(function(e){return e.style[n]=t[n]})};for(var i in t)n(i)}},{key:"parent",value:function(){return this.elements.length?new t(this.elements[0].parentNode):null}},{key:"children",value:function(){return this.elements.length?new t(this.elements[0].childNodes):null}},{key:"width",value:function(){return this.elements.length?this.elements[0].offsetWidth:null}},{key:"height",value:function(){return this.elements.length?this.elements[0].offsetHeight:null}},{key:"offset",value:function(){if(!this.elements.length)return null;var t=this.elements[0].getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}},{key:"position",value:function(){return this.elements.length?{top:this.elements[0].offsetTop,left:this.elements[0].offsetLeft}:null}},{key:"isInDOM",value:function(){return this.elements.length?this.reduce(function(t,e){return t&&document.body.contains(e)},!0):null}},{key:"find",value:function(e){e=e.replace(/\s/g,"");var n=[];if(1===this.elements.length)return new t(e,this.elements[0]);if(this.elements.forEach(function(i){return n.push(new t(e,i))}),n.length){var o=function(){var t=void 0;return n.forEach(function(e){if(t){var n;(n=t.elements).push.apply(n,i(e.elements))}else t=e}),{v:t}}();return"object"===("undefined"==typeof o?"undefined":h(o))?o.v:void 0}}},{key:"show",value:function(){return this.elements.reduce(function(t,e){return e instanceof HTMLElement&&"none"===e.style.display?(e.style.display=e.getAttribute("data-display")||"block",!0):t},!1)}},{key:"hide",value:function(){return this.elements.reduce(function(t,e){if(e instanceof HTMLElement){var n="none"!==e.style.display?e.style.display:e.currentStyle&&e.currentStyle.display?e.currentStyle.display:getComputedStyle(e).display;return"none"!==n?(e.setAttribute("data-display",e.style.display),e.style.display="none",!0):t}return t},!1)}},{key:"visible",value:function(){return this.elements.reduce(function(t,e){return e instanceof HTMLElement?t&&"none"!==e.style.display:t},!0)}},{key:"empty",value:function(){this.elements.forEach(function(t){return t.innerHTML=""})}},{key:"filter",value:function(t){return this.elements.filter(t)}},{key:"which",value:function(t){return this.elements.find(t)}},{key:"forEach",value:function(t){return this.elements.forEach(t),this}},{key:"map",value:function(t){return this.elements.map(t)}},{key:"reduce",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null!=this.elements[0]?this.elements[0]:0:arguments[1];return this.elements.reduce(t,e)}},{key:"on",value:function(t,e){if(t&&e)switch(t){case m.RESIZE:s.call(this,e);break;case m.ADDED_TO_DOM:u.call(this,e);break;default:this.elements.forEach(function(n){return n.addEventListener(t,e)})}}},{key:"off",value:function(t,e){if(t&&e)switch(t){case m.RESIZE:l.call(this,e);break;case m.ADDED_TO_DOM:break;default:this.elements.forEach(function(n){return n.removeEventListener(t,e)})}}},{key:"once",value:function(t,e){var n=this,i=arguments;t&&e&&!function(){var o=function o(){n.off(t,o),e(i)};n.on(t,o)}()}},{key:"onceIf",value:function(t,e,n){var i=arguments,o=this;t&&n&&!function(){var a=function a(){e(i)&&(o.off(t,a),n(i))};o.on(t,a)}()}},{key:"until",value:function(t,e,n){var i=arguments,o=this;t&&n&&!function(){var a=function a(){n(i),e(i)&&o.off(t,a)};o.on(t,a)}()}},{key:"trigger",value:function(t,e){var n=this;t&&!function(){var i=new CustomEvent(t,{detail:e});n.elements.forEach(function(t){return t.dispatchEvent(i)})}()}}]),t}()},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function a(t){return JSON.parse(JSON.stringify(t))}function r(){}function s(t){return setTimeout(t,0)}function l(){var t=arguments.length<=0||void 0===arguments[0]?document.location.search:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"&":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"=":arguments[2],i={};return t.replace(/(^\?)/,"").split(e).forEach(function(t){t=t.split(n),i[t[0]]=t[1]}),i}function u(t){var e=arguments.length<=1||void 0===arguments[1]?"&":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"=":arguments[2];return(0,G.reduce)(t,function(t,i,o){return i="object"===("undefined"==typeof i?"undefined":Q(i))?JSON.stringify(i):i,""+t+(t?e:"")+o+n+encodeURIComponent(i)},"")}function d(t){return t.replace(J,"")}function c(){function t(){var t=window.MediaSource||window.WebKitMediaSource,e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return n&&i}var e=document.createElement("video"),n=!!e.canPlayType;return!!n&&{ogg:e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),h264:e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),webm:e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),vp9:e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),hls:e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""),hlsJS:t()}}function p(t){function e(t){var e={},n=/^data-/;return(0,G.forEach)(t,function(t,i){n.test(i)&&(i=i.substr(5),e[E(i)]=t)}),e}return t.dataset?t.dataset:(t.dataset=e(t.attributes),t.dataset)}function h(){var t=rt.isSafari&&rt.version>=11,e=rt.isChrome&&rt.version>=64;return!(rt.isMobile||rt.isTablet||rt.isAndroid||t||e)}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){(0,G.forEach)(e,function(n,i){e.hasOwnProperty(i)&&(t[i]=n)})}),t}function g(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){(0,G.forEach)(e,function(n,i){e.hasOwnProperty(i)&&(v(n)&&v(t[i])?g(t[i],n):t[i]=n)})}),t}function v(t){return!(!t||"object"!==("undefined"==typeof t?"undefined":Q(t))||Array.isArray(t))}function m(t){return!t||0===Object.keys(t).length}function w(t){return v(t)&&Object.keys(t).length}function y(t){return t="string"==typeof t?t:JSON.stringify(t),t.split("").reduce(function(t,e){return t=31*t+e.charCodeAt(0),t&t},0)}function b(){return!!(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen)}function k(t){return"string"!=typeof t?t:"true"===t.toLowerCase()||"false"!==t.toLowerCase()&&("null"===t.toLowerCase()?null:"undefined"===t.toLowerCase()?void 0:isNaN(Number(t))?X.test(t)||Z.test(t)?JSON.parse(decodeURIComponent(t)):t:Number(t))}function E(t){return t.replace(tt,function(t){return t.toLowerCase()}).replace(nt,function(t,e){return e.toUpperCase()})}function S(t){return t.replace(tt,function(t){return t.toLowerCase()}).replace(et,function(t,e,n){return e+"-"+n.toLowerCase()})}function A(t){var e=E(t);return e[0].toUpperCase()+e.slice(1)}function _(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];if(e="string"==typeof e?e.replace(it,".").split(".").filter(function(t){return!!t}):e,e.length){var i=e.shift();return i in t&&void 0!==t[i]?_(t[i],e,n):n}return void 0!==t?t:n}function P(t){var e=window.open(t,"_blank");e.focus()}function T(t,e,n){var i=document.createElement("script"),o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o),i.onerror=n,i.onload=e,i.type="text/javascript",i.async=!0,i.src=t}function O(t){return new Promise(function(e,n){return T(t,e,n)})}function C(t){var e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}function D(t,e,n){var i=document.createElement("link"),o=document.getElementsByTagName("head")[0];o.appendChild(i),i.onerror=n,i.onload=e,i.type="text/css",i.rel="stylesheet",i.href=t}function R(t){return new Promise(function(e,n){return D(t,e,n)})}function x(t){var e=t.id||++ot,n=t.callbackParam||"cb",o="powaResolvees"+e,a="powaCallback"+e,r="powaScript"+e;if(window[o]=window[o]||[],"function"==typeof t.resolve&&window[o].push(t.resolve),!window[a]){window[a]=function(t){delete window[a];var e=document.getElementById(r);e.parentNode.removeChild(e),window[o].forEach(function(e){return e(t)}),delete window[o]};var s=u(f(i({},n,a),t.data)),l=document.createElement("script");l.onerror=t.reject,l.id=r,l.src=""+t.url+(t.url.includes("?")?"&":"?")+s,document.body.appendChild(l)}}function M(t){var e=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=arguments.length<=2||void 0===arguments[2]?r:arguments[2],i=new XMLHttpRequest;return i.onreadystatechange=function(){i.readyState>3&&(at.test(i.status)?e(i.responseText):n(i))},i.onerror=function(){return n(i)},i.open("GET",t),i.timeout=st,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),i}function I(t,e){var n=arguments.length<=2||void 0===arguments[2]?r:arguments[2],i=arguments.length<=3||void 0===arguments[3]?r:arguments[3],o=new XMLHttpRequest;return o.onreadystatechange=function(){o.readyState>3&&(at.test(o.status)?n(o.responseText):i(o))},o.onerror=function(){return i(o)},o.open("POST",t),o.timeout=st,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e)),o}function L(t,e){if(!t)return null;if("object"===("undefined"==typeof t?"undefined":Q(t)))(0,G.forEach)(t,function(t,e){return L(e,t)});else try{return localStorage.setItem(t,e),!0}catch(t){return!1}}function N(t){var e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(!t)return e;try{var i=localStorage.getItem(t);if(null!==i)return n?i:k(i);throw i}catch(t){return e}}function W(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],i=t.match(e);return i&&i.length>n?i[n]:""}function j(t){if(!t&&w(rt))return rt;if(t=t?t:window.navigator&&navigator.userAgent?navigator.userAgent:""){var e=/ipod|iphone|ipad/i.test(t),n=/android/i.test(t),i=/silk/i.test(t),o=/CrOS/i.test(t),a=/windows phone/i.test(t),r=!a&&/windows/i.test(t),s=!e&&!i&&/macintosh/i.test(t),l=!n&&/linux/i.test(t),u=W(t,/edge\/(\d+(\.\d+)?)/i),d=W(t,/version\/(\d+(\.\d+)?)/i),c=/tablet|ipad/i.test(t),p=!c&&/[^-]mobi/i.test(t),h=document.documentElement.ontouchstart;rt={version:d,isAndroid:n,isIOS:e,isKindle:!1,isLinux:l,isMac:s,isChromeOs:o,isWindows:r,isWindowsPhone:a,isAndroidBrowser:!1,isChrome:!1,isFirefox:!1,isIE:!1,isSafari:!1,isSamsungBrowser:!1,isSilk:i,isMobile:p,isTablet:c,isTouch:h,isWebView:!1},a?f(rt,{browserName:"explorer",version:u?u:W(t,/iemobile\/(\d+(\.\d+)?)/i),isIE:!0}):/msie|trident/i.test(t)?f(rt,{browserName:"explorer",version:W(t,/(?:msie |rv:)(\d+(\.\d+)?)/i),isIE:!0}):/chrome.+? edge/i.test(t)?f(rt,{browserName:"edge",version:u,isIE:!0}):/firefox/i.test(t)?f(rt,{browserName:"firefox",version:W(t,/firefox[ \/](\d+(\.\d+)?)/i),isFirefox:!0}):i?f(rt,{browserName:"silk",version:W(t,/silk\/(\d+(\.\d+)?)/i),isKindle:!0}):/samsungbrowser/i.test(t)?f(rt,{browserName:"samsung",version:W(t,/samsungbrowser\/(\d+(\.\d+)?)/i),isSamsungBrowser:!0,isWebView:/\swv\)/i.test(t)}):/chrome/i.test(t)?f(rt,{browserName:"chrome",version:W(t,/chrome\/(\d+(\.\d+)?)/i),isChrome:!0,isWebView:/\swv\)/i.test(t)}):n?f(rt,{browserName:"android",version:d,isAndroidBrowser:!0}):/CriOS/i.test(t)?f(rt,{browserName:"chrome-ios",version:d?d:W(t,/ OS (\d+)/i),isChrome:!0,isWebView:!d}):/safari|applewebkit/i.test(t)?f(rt,{browserName:"safari",version:d?d:W(t,/ OS (\d+)/i),isSafari:!0,isWebView:!d}):e&&f(rt,{browserName:"safari",version:d?d:W(t,/ OS (\d+)/i),isSafari:!0,isWebView:!d}),rt.browserName=rt.browserName,rt.version=Number(rt.version)}return rt}function V(t){var e=Math.floor(t/3600),n=Math.floor(t/60)-60*e,i=Math.floor(t%60),o=e?e+":":"",a=e&&n<10?"0"+n+":":n+":",r=i<10?"0"+i:i;return""+o+a+r}function B(t,e,n){return t.includes("//")?"//cdn-www.infobae.arcpublishing.com/resizer/?op=resize&url="+encodeURIComponent(t)+"&mode=crop&w="+(e||640)+(n?"&h="+n:"")+"&q=99":t}function U(t){var e="; "+document.cookie,n=e.split("; "+t+"=");if(2==n.length)return n.pop().split(";").shift()}function F(t,e,n){var i=new Date;i.setTime(i.getTime()+864e5*n),document.cookie=t+"="+e+";path=/;expires="+i.toGMTString()}function $(t){F(t,"",-1)}function H(t,e){if(!t)return null;var n=e||.5,i=t.getBoundingClientRect();return i.top+t.offsetHeight*n>=0&&i.left>=0&&i.bottom-t.offsetHeight*n<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)||i.top<0&&i.bottom>(window.innerHeight||document.documentElement.clientHeight)}function z(){var t="powatest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function q(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Y(t,e,n){return t>=e&&t<=n}function K(t){return"function"==typeof Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t;
}Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_STYLE=e.REQUIRED_STYLE=e.SIXTEEN_BY_NINE=e.ONE_SECOND=e.hasFont=void 0;var Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.onReady=o,e.clone=a,e.noop=r,e.nextTick=s,e.getQueryStringParameters=l,e.querystringify=u,e.protocolAgnosticURL=d,e.getVideoSupport=c,e.ensureDataset=p,e.canAutoplay=h,e.extend=f,e.extendDeep=g,e.isObject=v,e.isEmpty=m,e.notEmpty=w,e.hash=y,e.isFullscreen=b,e.parseString=k,e.camelCase=E,e.kabobCase=S,e.snakeCase=A,e.get=_,e.openInNewTab=P,e.loadScript=T,e.promiseScript=O,e.addCSS=C,e.loadCSS=D,e.promiseCSS=R,e.getJSONP=x,e.ajaxGET=M,e.ajaxPOST=I,e.stashLocal=L,e.fetchLocal=N,e.getCapturingGroup=W,e.sniffClient=j,e.formatTime=V,e.resizeImage=B,e.getCookie=U,e.setCookie=F,e.deleteCookie=$,e.isElementInViewport=H,e.isLocalStorageSupported=z,e.getRandomNumber=q,e.isNumWithin=Y,e.isInteger=K;var G=n(9),J=/^http:/,X=/^{.*}$/,Z=/^\[.*\]$/,tt=/^[A-Z]/,et=/(\S+?)([A-Z]+)/g,nt=/-([a-z]?)/g,it=/[\[\]]/g,ot=(e.hasFont=function(){function t(t,e){var n=arguments.length<=2||void 0===arguments[2]?100:arguments[2],i=document.createElement("span");i.innerHTML=Array(100).join("wi"),i.style.cssText="position: absolute !important; width: auto !important; font-size: 128px !important; left: -99999px !important;",i.style.fontFamily=t,document.body&&document.body.appendChild(i),setTimeout(function(){var t=i.offsetWidth;document.body.removeChild(i),e(t)},n)}var e=["monospace","serif","sans-serif"],n=[];return e.forEach(function(e){t(e,function(t){return n.push({font:e,width:t})},0)}),function(e,i){var o=[];n.forEach(function(a){t(e+", "+a.font,function(t){o.push(t!==a.width),o.length===n.length&&i(o.reduce(function(t,e){return t||e},!1))})})}}(),0),at=/^2\d\d$/,rt={},st=e.ONE_SECOND=1e3,lt=e.SIXTEEN_BY_NINE=9/16;e.REQUIRED_STYLE=Object.freeze({position:"relative"}),e.DEFAULT_STYLE=Object.freeze({background:"#000",height:0,overflow:"hidden",paddingBottom:100*lt+"%"})},function(t,e){"use strict";function n(t){var e={value:function(){return t}};return s(y,function(n,i){e[i]=function(){return t=n.apply(void 0,[t].concat(Array.prototype.slice.call(arguments))),e}}),e}function i(t){return a(t,function(t){return!!t})}function o(t,e){if(Array.isArray(t)){for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return!0}else for(var o in t)if(t[o]===e)return!0;return!1}function a(t,e){var n={};return Array.isArray(t)?t.filter(e):(s(t,function(t,i){e(t,i)&&(n[i]=t)}),n)}function r(t,e){if(Array.isArray(t))return t.find(e);for(var n in t)if(e(t[n]))return t[n]}function s(t,e){if(Array.isArray(t))t.forEach(e);else for(var n in t)e(t[n],n,t);return t}function l(t,e){var n={};return s(t,function(t){var i="string"==typeof e?t[e]:e(t);n[i]=n[i]||[],n[i].push(t)}),n}function u(t){return t}function d(t,e){var n={};return Array.isArray(t)?t.map(e):(s(t,function(i,o){n[o]=e(i,o,t)}),n)}function c(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=arguments[1],n=-(1/0);return e?!function(){var i=-(1/0);s(t,function(t,o,a){var r=e(t,o,a);(r>i||r===-(1/0)&&n===-(1/0))&&(n=t,i=r)})}():s(t,function(t){return n=t>n?t:n}),n}function p(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=arguments[1],n=1/0;return e?!function(){var i=1/0;s(t,function(t,o,a){var r=e(t,o,a);(r<i||r===1/0&&n===1/0)&&(n=t,i=r)})}():s(t,function(t){return n=t<n?t:n}),n}function h(t,e){var n={};return s(t,function(t,i){o(e,i)||(n[i]=t)}),n}function f(t,e){var n={};return e.forEach(function(e){return n[e]=t[e]}),n}function g(t){var e=arguments.length<=1||void 0===arguments[1]?u:arguments[1];return Array.from(Array(t),function(t,n){return e(n)})}function v(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=arguments[1],n=arguments.length<=2||void 0===arguments[2]?null!=t[0]?t[0]:0:arguments[2];return Array.isArray(t)?t.reduce(e,n):(s(t,function(t,i,o){n=e(n,t,i,o)}),n)}function m(t,e){return a(t,function(t,n,i){return!e(t,n,i)})}function w(t){var e=arguments.length<=1||void 0===arguments[1]?u:arguments[1];return!!r(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.chain=n,e.compact=i,e.contains=o,e.filter=a,e.find=r,e.forEach=s,e.groupBy=l,e.identity=u,e.map=d,e.max=c,e.min=p,e.omit=h,e.pick=f,e.range=g,e.reduce=v,e.reject=m,e.some=w;var y=e._={compact:i,contains:o,filter:a,find:r,forEach:s,groupBy:l,identity:u,map:d,max:c,min:p,omit:h,pick:f,range:g,reduce:v,reject:m,some:w}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.PoWaOnPoWaOff=function(){function t(){n(this,t),this.events={}}return i(t,[{key:"on",value:function(t,e,n){t&&e&&(n=n||e,this.events[t]=this.events[t]||new Map,this.events[t].set(e,e.bind(n)))}},{key:"off",value:function(t,e){this.events[t]&&this.events[t].delete(e)}},{key:"once",value:function(t,e,n){var i=this,o=this;n=n||e,t&&e&&!function(){var a=function n(){o.off(t,n),e.apply(void 0,arguments)};i.on(t,a,n)}()}},{key:"onceIf",value:function(t,e,n,i){var o=this,a=this;i=i||n,t&&e&&n&&!function(){var r=function i(){e.apply(void 0,arguments)&&(a.off(t,i),n.apply(void 0,arguments))};o.on(t,r,i)}()}},{key:"until",value:function(t,e,n,i){var o=this,a=this;i=i||n,t&&e&&n&&!function(){var r=function i(){n.apply(void 0,arguments),e.apply(void 0,arguments)&&a.off(t,i)};o.on(t,r,i)}()}},{key:"trigger",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.events["*"]&&this.events["*"].forEach(function(n){return n(e,t)}),this.events[t]&&this.events[t].forEach(function(n){return n(e,t)})}},{key:"length",value:function(t){return this.events[t]?this.events[t].size:0}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t){var e=t.replace(f,"");return e=e[0].toLowerCase()+e.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaPlayer=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(9),u=n(8),d=n(7),c="PoWaPlayer",p={COMPLETE:"powaComplete",END:"powaEnd",ERROR:"powaError",FIRST_FRAME:"powaFirstFrame",LOADED:"powaLoaded",MEDIA_CLICK:"powaMediaClick",MEDIA_START:"powaMediaStart",MUTED:"powaMuted",PAUSE:"powaPause",PLAY:"powaPlay",PROGRESS:"powaProgress",READY:"powaReady",SKIP:"powaSkip",START:"powaStart",TIME:"powaTime",VOLUME:"powaVolume"},h={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},f=/^powa/,g=(0,l.map)(p,r),v={ENDED:"ended",ERROR:"error",IDLE:"idle",PAUSED:"paused",PLAYING:"playing",SKIPPED:"skipped"},m=Object.freeze({debug:!0,debugExclusions:["progress","suspend","timeupdate"],jumpDelta:15,preload:"metadata",stashVolume:!0,ready:function(){console.debug("["+c+"] ready")},setupError:console.error}),w=Object.freeze({backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),y=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,Object.getPrototypeOf(e).call(this,"<video></video>"));return n.media=n.elements[0],n.setDefaultStyle(),["_setupPlayerEvents","setDefaultStyle","clear","clearStarted","load","_pause","pause","_play","play","togglePlay","seekTime","seekPosition","jumpForward","jumpBack","mute","volume","setSkipped","skip","setControls","getStatus","_playerEventHandler","_endedHandler","_errorHandler","_pauseHandler","_playHandler","_progressHandler","_volumechangeHandler","_timeupdateHandler"].map(function(t){return n[t]=n[t].bind(n)}),n.settings=(0,u.extend)({},m,t),n.clearStarted(),n.state=v.IDLE,n.debug=n.settings.debug,n.debugExclusions=n.settings.debugExclusions,n._setupPlayerEvents(),n.attr("id",t.id),n.addClass("powa-video"),n.attr("crossOrigin","anonymous"),n.attr("playsinline",!0),n.attr("x-webkit-airplay","deny"),n.attr("preload",n.settings.preload),n.setControls(n.settings.controls),n.settings.volume=(0,u.get)(n,"settings.volume",(0,u.fetchLocal)("powaVolume",1)),n.settings.muted=(0,u.get)(n,"settings.muted",(0,u.fetchLocal)("powaMuted",!1)),n.volume(n.settings.volume),n.mute(n.settings.muted),n.stream=n.settings.video,n}return a(e,t),s(e,null,[{key:"powaDown",value:function(t){var e=t.replace(f,"");return e=e[0].toLowerCase()+e.slice(1)}},{key:"MODULE",get:function(){return c}},{key:"EVENTS",get:function(){return p}},{key:"STATES",get:function(){return v}}]),s(e,[{key:"_setupPlayerEvents",value:function(){var t=this;["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"].map(function(e){return t.on(e,t._playerEventHandler)}),this.on("click",function(e){t.trigger(p.MEDIA_CLICK,(0,u.extend)(t.getStatus(),{type:p.MEDIA_CLICK,event:e}))})}},{key:"setDefaultStyle",value:function(){this.css(w)}},{key:"_playerEventHandler",value:function(t){this.debug&&!this.debugExclusions.includes(t.type)&&console.debug("["+c+"] "+t.type,t),this["_"+t.type+"Handler"]&&this["_"+t.type+"Handler"](t)}},{key:"_endedHandler",value:function(t){this.state=v.ENDED,this.trigger(p.COMPLETE,(0,u.extend)(this.getStatus(),{type:g.COMPLETE,event:t})),this._ended(g.COMPLETE)}},{key:"_errorHandler",value:function(t){this.state=v.ERROR;var e=t&&t.srcElement&&t.srcElement.src?t.srcElement.src:null,n=t&&t.srcElement&&t.srcElement.error&&t.srcElement.error.code?t.srcElement.error.code:null,i=(0,u.extend)(this.getStatus(),{stream:e,code:n,mediaError:n?h[n]:null,type:g.ERROR,event:t});null===n&&(i.nonBlocking=!0),console.error(p.ERROR,i),this.trigger(p.ERROR,i),this._ended(g.ERROR)}},{key:"_loadstartHandler",value:function(t){this.clearing?(this.state=v.IDLE,this.clearing=!1):this.media.src&&!this.media.src.startsWith("blob:")&&(this.state=v.IDLE,this.trigger(p.LOADED,(0,u.extend)(this.getStatus(),{type:g.LOADED,event:t})))}},{key:"_pauseHandler",value:function(t){this.state=this.state===v.SKIPPED?v.SKIPPED:v.PAUSED,this.trigger(p.PAUSE,(0,u.extend)(this.getStatus(),{type:g.PAUSE,event:t}))}},{key:"_playHandler",value:function(t){this.started&&this.mediaStarted&&(this.state=v.PLAYING,this.trigger(p.PLAY,(0,u.extend)(this.getStatus(),{type:g.PLAY,event:t})))}},{key:"_progressHandler",value:function(t){if(this.media.buffered&&this.media.buffered.length){var e=this.media.buffered.end(this.media.buffered.length-1)/this.media.duration;this.trigger(p.PROGRESS,(0,u.extend)(this.getStatus(),{type:g.PROGRESS,progress:e,event:t}))}}},{key:"_volumechangeHandler",value:function(t){var e=this.getStatus();this.settings.stashVolume&&(0,u.stashLocal)({powaVolume:e.volume,powaMuted:e.muted});var n=this.settings.muted!==e.muted,i=this.settings.volume!==e.volume;n&&(this.attr("muted",e.muted),this.settings.muted=e.muted,this.trigger(p.MUTED,(0,u.extend)(e,{type:g.MUTED,event:t}))),i&&(this.settings.volume=e.volume,this.trigger(p.VOLUME,(0,u.extend)(e,{type:g.VOLUME,event:t})))}},{key:"_timeupdateHandler",value:function(t){this.started&&this.mediaStarted&&(this.firstFrame&&(this.firstFrame=!1,this.trigger(p.FIRST_FRAME,(0,u.extend)(this.getStatus(),{type:g.FIRST_FRAME}))),this.trigger(p.TIME,(0,u.extend)(this.getStatus(),{type:g.TIME,event:t})))}},{key:"_ended",value:function(t,e){this.debug&&!this.debugExclusions.includes(p.END)&&console.debug("["+c+"] "+p.END,t),this.state=v.IDLE,this.trigger(p.END,(0,u.extend)(this.getStatus(),{status:t},e))}},{key:"clear",value:function(t){this.debug&&console.debug("["+c+"][clear]"),this.media.load(),this.media.src?(this.clearing=!0,this.once("loadstart",t)):t()}},{key:"clearStarted",value:function(){this.started=!1,this.mediaStarted=!1,this.firstFrame=!0}},{key:"load",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?u.noop:arguments[1];this.debug&&console.debug("["+c+"][load]",t),t!==this.stream&&(this.clearStarted(),this.stream=t),this.on(p.LOADED,e),this.media.load(),this.attr("src",t)}},{key:"_pause",value:function(){var t=this.media.pause();void 0!==t&&t.then(u.noop).catch(u.noop)}},{key:"pause",value:function(){this.debug&&console.debug("["+c+"][pause]"),this._pause()}},{key:"_play",value:function(){var t=this.media.play();void 0!==t&&t.then(u.noop).catch(u.noop)}},{key:"play",value:function(){this.debug&&console.debug("["+c+"][play]"),this.started?this.mediaStarted?this._play():(this.mediaStarted=!0,this.trigger(p.MEDIA_START,(0,u.extend)(this.getStatus(),{type:p.MEDIA_START})),this.stream?this.load(this.stream,this._play):this._play()):(this.started=!0,this._play(),this.trigger(p.START,(0,u.extend)(this.getStatus(),{type:g.START})))}},{key:"togglePlay",value:function(){this.state===v.PLAYING?this.pause():this.play()}},{key:"seekTime",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.debug&&console.debug("["+c+"][seekTime]"),this.media.currentTime=t}},{key:"seekPosition",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.debug&&console.debug("["+c+"][seekPosition]"),this.media.currentTime=this.media.duration*t}},{key:"jumpForward",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.settings.jumpDelta:arguments[0];this.media.currentTime=this.media.currentTime+t}},{key:"jumpBack",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.settings.jumpDelta:arguments[0];this.media.currentTime=this.media.currentTime-t}},{key:"mute",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this.media.muted:arguments[0];this.media.muted=t,this.attr("muted",t)}},{key:"volume",value:function(t){this.media.volume=t}},{key:"setSkipped",value:function(){this.state=v.SKIPPED,this._pause()}},{key:"skip",value:function(t){var e=this;this.debug&&console.debug("["+c+"][skip]"),this.state=v.SKIPPED;var n=this.getStatus();this.trigger(p.SKIP,(0,u.extend)(n,{type:g.SKIP})),this.clear(function(){e._ended(g.SKIP,(0,l.pick)(n,["time","duration"])),t()})}},{key:"setControls",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this.attr("controls"):arguments[0];t?this.attr("controls",!0):this.removeAttr("controls")}},{key:"getStatus",value:function(){return{controls:this.media.controls,duration:this.media.duration,muted:this.media.muted,running:this.state===v.PAUSED||this.state===v.PLAYING,source:this.media.src,state:this.state,time:this.media.currentTime,volume:this.media.volume}}}]),e}(d.PoWaPack);e.PoWaPlayer=y},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t){return'<div class="powa-shot" id="'+t.id+'-powa-shot"></div>'}function s(t){var e="▶ Play",n='\n\t\t<div class="powa-shot-image powa-shot-click" style="background-image: url(\''+t.image+'\')">\n\t\t\t<div class="powa-shot-title">'+(t.title?t.title:"")+'</div>\n\t\t\t<div class="powa-shot-play-btn powa-shot-click powa-shot-click-play">'+(t.playText?t.playText:e)+"</div>\n\t\t</div>";return n.trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaShot=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(7),d=n(9),c=n(8),p={PROMO_CLICK:"promoClick",PROMO_CUSTOM:"promoCustom",PROMO_HOVER:"promoHover",PROMO_PLAY:"promoPlay",PROMO_RENDER:"promoRender",PROMO_TOUCH:"promoTouch"},h={debug:!1},f={backgroundColor:"black",zIndex:1,width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",overflow:"hidden",backgroundSize:"cover",backgroundPosition:"center",".powa-shot-image":{width:"100%",height:"100%",overflow:"hidden",backgroundSize:"cover",backgroundPosition:"center"},".powa-shot-title":{fontSize:"xx-large",color:"#EEE",textShadow:"2px 2px 3px rgba(0,0,0, 0.8)",position:"absolute",top:"30px",left:"30px"},".powa-shot-play-btn":{cursor:"pointer",fontSize:"xx-large",color:"#EEE",padding:"10px",borderRadius:"5px",backgroundColor:"#111",position:"absolute",bottom:"30px",left:"30px"}},g={click:{dotClassName:".powa-shot-click",customRE:/^powa-shot-(click-\w*)/,event:p.PROMO_CLICK},mouseenter:{dotClassName:".powa-shot-hover",customRE:/^powa-shot-(hover-\w*)/,event:p.PROMO_HOVER},mouseleave:{dotClassName:".powa-shot-hover",customRE:/^powa-shot-(hover-\w*)/,event:p.PROMO_HOVER},touchstart:{dotClassName:".powa-shot-touch",customRE:/^powa-shot-(touch-\w*)/,event:p.PROMO_TOUCH},touchend:{dotClassName:".powa-shot-touch",customRE:/^powa-shot-(touch-\w*)/,event:p.PROMO_TOUCH}};e.PoWaShot=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,Object.getPrototypeOf(e).call(this,r(t)));return n.settings=(0,c.extend)({},h,t),["_eventHandler","update"].map(function(t){n[t]=n[t].bind(n)}),n.on(u.PoWaPack.EVENTS.ADDED_TO_DOM,function(){n.trigger(p.PROMO_RENDER,{visible:n.visible()})}),n.update(Object.assign({},t.data,{promoVideo:t.promoVideo})),n}return a(e,t),l(e,null,[{key:"EVENTS",get:function(){return p}}]),l(e,[{key:"_eventHandler",value:function(t){var e=this;t.powaShotHandled||!function(){t.powaShotHandled=!0;var n=g[t.type],i=t.currentTarget&&t.currentTarget.classList?Array.from(t.currentTarget.classList):t.currentTarget&&t.currentTarget.className?t.currentTarget.className.split(" "):[],o=(0,d.reduce)(i,function(t,e){var i=(0,c.getCapturingGroup)(e,n.customRE);return i&&t.push(i),t},[]);o.length?(0,d.forEach)(o,function(n){var i="promo"+(0,c.snakeCase)(n);"promoClickPlay"===i?e.trigger(p.PROMO_PLAY,{type:p.PROMO_PLAY,event:t}):e.trigger(p.PROMO_CUSTOM,{type:i,event:t})}):e.trigger(n.event,{type:n.event,event:t})}()}},{key:"update",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(this.html(this.settings.template?this.settings.template(e):s(e)),!this.settings.template||this.settings.style){var n=this.settings.style||f;this.css(n)}(0,d.forEach)(g,function(e,n){t.$interactables=t.find(e.dotClassName),t.$interactables.on(n,t._eventHandler)})}}]),e}(u.PoWaPack)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e,n){if(!1===e.hasOwnProperty("partnerCode"))return!1;var i=document.createElement("script");n=n||t&&("undefined"!=typeof t.O?t.O.parentNode:document.body)||document.body;var o=[],a={adsManager:t,ids:e,imaSDK:!0,events:[],dispatchEvent:function(t){var e=this.sendEvent,n=this.events;e?(n&&(n.push(t),t=n),e(t)):n.push(t)}},r={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&t){var s,l="_moatApi"+Math.floor(1e8*Math.random());for(s in google.ima.AdEvent.Type){var u=function(e){if(a.sendEvent){for(e=o.length-1;0<=e;e--)t.removeEventListener(o[e].type,o[e].func);a.sendEvent(a.events)}else a.events.push({type:r[e.type]||e.type,adVolume:t.getVolume()})};t.addEventListener(google.ima.AdEvent.Type[s],u),o.push({type:google.ima.AdEvent.Type[s],func:u})}}l="undefined"!=typeof l?l:"";var d,c;try{d=n.ownerDocument,c=d.defaultView||d.parentWindow}catch(t){d=document,c=window}return c[l]=a,i.type="text/javascript",n&&n.appendChild(i),i.src="https://z.moatads.com/"+e.partnerCode+"/moatvideo.js#"+l,a}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaSellGoogima=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),d=n(14),c=n(9),p=n(8),h="PoWaSellGoogima",f={AD_COMPANIONS:"adCompanions",AD_COMPLETE:"adComplete",AD_CLICK:"adClick",AD_DESTROYED:"adDestroyed",AD_END:"adEnd",AD_ERROR:"adError",AD_FIRST_FRAME:"adFirstFrame",AD_IMPRESSION:"adImpression",AD_READY:"adReady",AD_LOADED:"adLoaded",AD_WAITING:"adWaiting",AD_MUTE:"adMute",AD_PAUSE:"adPause",AD_PLAY:"adPlay",AD_SETUP_ERROR:"adSetupError",AD_SKIP:"adSkip",AD_START:"adStart",AD_TIME:"adTime",AD_REQUEST:"adRequest",AD_REQUEST_TIMEOUT:"adRequestTimeout",CONTENT_PAUSE_REQUESTED:"contentPauseRequested",CONTENT_PAUSE_RESUMED:"contentPauseResumed"},g={AD_REQUESTED:"adRequested",AD_LOADED:"adLoaded",AD_PLAYING:"adPlaying",AD_PAUSED:"adPaused",AD_START_REQUESTED:"adStartRequested",AD_BLOCKED:"adBlocked",AD_CLICKED:"adClicked",AD_ENDED:"adEnded",AD_ERROR:"adError",AD_IDLE:"adIdle",AD_SKIPPED:"adSkipped"},v="https://imasdk.googleapis.com/js/sdkloader/ima3.js",m=1e3,w=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e={};window.PoWaSettings&&PoWaSettings.advertising&&(e=t.isPreloading?PoWaSettings.advertising.prefetchAdTimeouts:PoWaSettings.advertising.adTimeouts);var n=e.vastLoadTimeout,i=(0,p.getQueryStringParameters)().vastLoadTimeout||n||5;return parseInt(i)*m},y=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e={};window.PoWaSettings&&PoWaSettings.advertising&&(e=t.isPreloading?PoWaSettings.advertising.prefetchAdTimeouts:PoWaSettings.advertising.adTimeouts);var n=e.loadVideoTimeout,i=(0,p.getQueryStringParameters)().loadVideoTimeout||n||-1;return parseInt(i)*m},b=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e={};window.PoWaSettings&&PoWaSettings.advertising&&(e=t.isPreloading?PoWaSettings.advertising.prefetchAdTimeouts:PoWaSettings.advertising.adTimeouts);var n=e.requestAdsTimeout,i=(0,p.getQueryStringParameters)().adTimeoutLength||n||8;return parseInt(i)*m},k={debug:!1,adCompanions:{width:300,height:200,selectionCriteria:{creativeType:"All",resourceType:"All",sizeCriteria:"IgnoreSize"}},locale:"",vpaidEnabled:!0,ready:function(){console.debug("["+h+"] ready")},setupError:console.error},E=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e);var a=o(this,Object.getPrototypeOf(e).call(this,(0,p.extend)({},k,t),(0,p.extend)(f,n),g));["_setupPoWaSellGoogima","_setupIMA","_setupMoat","_onAdsManagerLoaded","_processAdsManager","_eventHandler","_allAdsCompletedHandler","_completeHandler","_errorHandler","_loadedHandler","_muteHandler","_pauseHandler","_resumeHandler","_skipHandler","_startHandler","_volumeChangeHandler","_adEnded","_timeCheck","_adCompanionCheck","_onContentPauseRequested","_onContentResumeRequested","destroy","requestAds","startAd","contentEnded","initialUserAction","pause","play","skip","isRunning","isMuted","mute","resize","clearStatus","getStatus"].map(function(t){a[t]=a[t].bind(a)}),a.adTimeout,a.clearStatus();var r=new Promise(function(t,e){window.google&&"object"===s(google.ima)?t():(0,p.loadScript)(v,t,e)});return r.then(function(){a._setupPoWaSellGoogima(t),a._setupIMA(t),t.ready(a)}).catch(function(e){a.state=g.AD_BLOCKED,t.setupError({error:e,message:"Probable ad blocker"},a)}),a}return a(e,t),u(e,null,[{key:"MODULE",get:function(){return h}}]),u(e,[{key:"_setupPoWaSellGoogima",value:function(t){if(!this.settings.$player)throw this.state=g.AD_ERROR,{error:"missing player",message:"Video player element required"};this.$player=this.settings.$player,this.customClickDiv=t.customClickDiv}},{key:"_setupIMA",value:function(t){this.settings.vpaidEnabled&&google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.settings.locale&&google.ima.settings.setLocale(this.settings.locale),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.$adContainer.elements[0],this.$player.elements[0],this.customClickDiv),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsManager=null,this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1,this),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this)}},{key:"_setupMoat",value:function(){this.settings.moatID&&r(this.adsManager,{partnerCode:this.settings.moatID,viewMode:(0,p.isFullscreen)()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL},this.$adContainer.elements[0])}},{key:"_onAdsManagerLoaded",value:function(t){var e=new google.ima.AdsRenderingSettings;e.loadVideoTimeout=this.loadVideoTimeout,e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.adsManager=t.getAdsManager(this.$player.elements[0],e),this._processAdsManager()}},{key:"_processAdsManager",value:function(){var t=this;this.adsManager.isCustomClickTrackingUsed()&&(this.customClickDiv.style.display="table"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,!1,this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,!1,this),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this),(0,c.forEach)(google.ima.AdEvent.Type,function(e){return t.adsManager.addEventListener(e,t._eventHandler,!1,t)}),this.adReady=!0,this.trigger(f.AD_READY,{type:f.AD_READY,adMeta:this.adMeta})}},{key:"_eventHandler",value:function(t){var e=t.getAd();this.settings.debug&&console.debug("["+h+"] "+t.type,e),this["_"+t.type+"Handler"]&&this["_"+t.type+"Handler"](e,t)}},{key:"_allAdsCompletedHandler",value:function(t){this.state=g.AD_ENDED;var e=this.state===g.AD_CLICKED?f.AD_CLICK:this.state===g.AD_SKIPPED?f.AD_SKIP:f.AD_COMPLETE;this._adEnded(e)}},{key:"_clickHandler",value:function(t){this.state=g.AD_CLICKED;var e={duration:this.timing.duration,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(f.AD_CLICK,{type:f.AD_CLICK,adMeta:Object.assign({adTimeoutLength:this.adTimeoutLength,isPreloading:this.isPreloading},this.adMeta),event:e})}},{key:"_completeHandler",value:function(t){this.state=g.AD_ENDED,this.trigger(f.AD_COMPLETE,{type:f.AD_COMPLETE,adMeta:Object.assign({adTimeoutLength:this.adTimeoutLength,adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)})}},{key:"_durationChangeHandler",value:function(t){var e=this.timing.duration;this.timing.duration=t.getDuration(),this.trigger(f.AD_DURATION_CHANGE,{type:f.AD_DURATION_CHANGE,oldDuration:e,duration:this.timing.duration})}},{key:"_errorHandler",value:function(t){this.$player.pause();var e=t.getError();this.state=g.AD_ERROR;var n={error:e.toString(),event:t,type:f.AD_ERROR,adMeta:Object.assign({adTimeoutLength:this.adTimeoutLength,adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)};this.trigger(f.AD_ERROR,n),this.state===g.AD_START_REQUESTED&&(this._onContentResumeRequested(f.AD_ERROR),this._adEnded(f.AD_ERROR))}},{key:"_impressionHandler",value:function(t,e){this.trigger(f.AD_IMPRESSION,{type:f.AD_IMPRESSION,adMeta:Object.assign({adTimeoutLength:this.adTimeoutLength,adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)})}},{key:"_loadedHandler",value:function(t,e){var n=this.$player.getStatus();n.muted?this.adsManager.setVolume(0):this.adsManager.setVolume(n.volume),this.state=g.AD_LOADED,this.adMeta=e.getAdData()||{},this.timing={duration:t.getDuration(),firstFrame:!0,lastRemaining:null,remaining:this.adsManager.getRemainingTime()},this.trigger(f.AD_LOADED,{type:f.AD_LOADED,adMeta:Object.assign({adTimeoutLength:this.adTimeoutLength,adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)}),t.isLinear()||this._onContentResumeRequested("adNotLinear")}},{key:"_muteHandler",value:function(){}},{key:"_pauseHandler",value:function(t){this.state=g.AD_PAUSED,this.trigger(f.AD_PAUSE,{type:f.AD_PAUSE,adMeta:Object.assign({adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)})}},{key:"_resumeHandler",value:function(t){this.state=g.AD_PLAYING,this.trigger(f.AD_PLAY,{type:f.AD_PLAY,adMeta:Object.assign({adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)})}},{key:"_skipHandler",value:function(t){this.state=g.AD_SKIPPED;var e={duration:this.timing.duration,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(f.AD_SKIP,{adMeta:Object.assign({adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta),type:f.AD_SKIP,event:e})}},{key:"_startHandler",value:function(t){this.state=g.AD_PLAYING,(0,p.extend)(this.adMeta,{muted:this.isMuted()}),window.clearTimeout(this.adTimeout),this.trigger(f.AD_PLAY,{type:f.AD_PLAY,adMeta:Object.assign({adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)}),this.trigger(f.AD_START,{type:f.AD_START,adMeta:Object.assign({adTimeoutLength:this.adTimeoutLength,adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)}),this._timeCheck(),this._adCompanionCheck(t)}},{key:"_volumeChangeHandler",value:function(t){this.trigger(f.AD_MUTE,{type:f.AD_MUTE,muted:this.isMuted()})}},{key:"_adEnded",value:function(t){this.settings.debug&&console.debug("["+h+"] "+f.AD_END,{status:t}),this.trigger(f.AD_END,{type:f.AD_END,adMeta:Object.assign({adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta),status:t})}},{key:"_timeCheck",value:function(){this.timing.lastRemaining=this.timing.remaining;var t=this.adsManager.getRemainingTime();this.timing.remaining=Number(t.toFixed(3)),this.timing.elapsed=this.timing.duration-this.timing.remaining,this.timing.elapsed=Number(this.timing.elapsed.toFixed(3));
var e=1e3*(this.timing.remaining%1).toFixed(3);e=e>100?e:100,this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(f.AD_FIRST_FRAME,{adMeta:this.adMeta,type:f.AD_FIRST_FRAME})),this.trigger(f.AD_TIME,{duration:this.timing.duration,elapsed:this.timing.elapsed,remaining:this.timing.remaining,type:f.AD_TIME})),this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,e))}},{key:"_adCompanionCheck",value:function(t){var e=new google.ima.CompanionAdSelectionSettings;(0,c.forEach)(this.settings.adCompanions.selectionCriteria,function(t,n){return e[n]=t});var n=t.getCompanionAds(this.settings.adCompanions.width,this.settings.adCompanions.height,e);n&&n.length&&(n=(0,c.map)(n,function(t){return{type:t.getContentType(),width:t.getWidth(),height:t.getHeight(),content:t.getContent()}}),this.trigger(f.AD_COMPANIONS,{type:f.AD_COMPANIONS,adCompanions:n}))}},{key:"_onContentPauseRequested",value:function(){this.trigger(f.CONTENT_PAUSE_REQUESTED,{type:f.CONTENT_PAUSE_REQUESTED,adMeta:Object.assign({adTagRequest:this.adTagRequest,isPreloading:this.isPreloading},this.adMeta)})}},{key:"_onContentResumeRequested",value:function(){this.trigger(f.CONTENT_PAUSE_RESUMED,{type:f.CONTENT_PAUSE_RESUMED,adMeta:Object.assign({},this.adMeta,{adTagRequest:this.adTagRequest,isPreloading:this.isPreloading})}),this.hide()}},{key:"destroy",value:function(){this.adsManager&&this.adsManager.destroy(),this.trigger(f.AD_DESTROYED,{type:f.AD_DESTROYED})}},{key:"requestAds",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.settings.debug&&console.debug("["+h+"][requestAds] "+t),this.state=g.AD_REQUESTED,this.adTagRequest=t,this.isPreloading=e,this.vastLoadTimeout=w({isPreloading:e}),this.loadVideoTimeout=y({isPreloading:e}),this.adTimeoutLength=b({isPreloading:e});var n=new google.ima.AdsRequest;n.adTagUrl=t,n.linearAdSlotWidth=this.$player.width(),n.linearAdSlotHeight=this.$player.height(),n.nonLinearAdSlotWidth=this.$player.width(),n.nonLinearAdSlotHeight=this.$player.height(),n.vastLoadTimeout=this.vastLoadTimeout,this.$player.getStatus().muted&&n.setAdWillPlayMuted(!0),this.settings.autoplay&&(this.settings.autoplay=!1,n.setAdWillAutoPlay(!0)),this.adsLoader.requestAds(n),this.trigger(f.AD_REQUEST,{adMeta:Object.assign({},this.adMeta,{adTimeoutLength:this.adTimeoutLength,vastLoadTimeout:this.vastLoadTimeout,loadVideoTimeout:this.loadVideoTimeout}),type:f.AD_REQUEST})}},{key:"startAd",value:function(){var t=this;this.settings.debug&&console.debug("["+h+"][startAd]"),this.state=g.AD_START_REQUESTED,this.show(),this.$player.clear(function(){var e=void 0,n=void 0;e=t.$player.width(),n=t.$player.height(),t.adsManager.init(e,n,(0,p.isFullscreen)()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),t.adsManager.start(),t._setupMoat(),delete t.adReady});var e=!this.settings.prerollOnly;e?this.adTimeout=window.setTimeout(function(){t.trigger(f.AD_REQUEST_TIMEOUT,{adMeta:Object.assign({},t.adMeta,{adTimeoutLength:t.adTimeoutLength,adTagRequest:t.adTagRequest,isPreloading:t.isPreloading,vastLoadTimeout:t.vastLoadTimeout,loadVideoTimeout:t.loadVideoTimeout}),type:f.AD_REQUEST_TIMEOUT}),t.adsManager?t.skip(!0):t._onContentResumeRequested()},this.adTimeoutLength):console.debug("not allowing ad timeout")}},{key:"initialUserAction",value:function(){this.settings.debug&&console.debug("["+h+"][initialUserAction]"),this.adDisplayContainer.initialize()}},{key:"contentEnded",value:function(){this.settings.debug&&console.debug("["+h+"][contentEnded]"),this.adsLoader.contentComplete()}},{key:"pause",value:function(){this.settings.debug&&console.debug("["+h+"][pause]"),this.adsManager&&this.adsManager.pause()}},{key:"play",value:function(){this.settings.debug&&console.debug("["+h+"][play]"),this.adsManager&&this.adsManager.resume()}},{key:"skip",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(this.settings.debug&&console.debug("["+h+"][skip]"),this.adsManager){var e={duration:this.timing.duration,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.state=this.state===g.AD_CLICKED?g.AD_CLICKED:g.AD_SKIPPED,t||this.trigger(f.AD_SKIP,{adMeta:Object.assign({},this.adMeta,{adTagRequest:this.adTagRequest,adTimeoutLength:this.adTimeoutLength,isPreloading:this.isPreloading}),type:f.AD_SKIP,event:e}),this.adsManager.stop()}}},{key:"isRunning",value:function(){var t=[g.AD_LOADED,g.AD_PLAYING,g.AD_PAUSED,g.AD_CLICKED,g.AD_START_REQUESTED];return this.isPreloading||t.push(g.AD_REQUESTED),t.includes(this.state)}},{key:"isMuted",value:function(){return this.adsManager?!this.adsManager.getVolume():null}},{key:"mute",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this.isMuted():arguments[0];this.settings.debug&&console.debug("["+h+"][mute] "+t),this.adsManager&&this.adsManager.setVolume(t?0:this.$player.getStatus().volume)}},{key:"resize",value:function(t){this.settings.debug&&console.debug("["+h+"][resize] "+t),t=l(Object.getPrototypeOf(e.prototype),"resize",this).call(this,t),this.adsManager&&this.adsManager.resize(t.width,t.height,t.fullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}},{key:"clearStatus",value:function(){var t=(0,p.get)(this,"timing._timeCheckTO",null);clearTimeout(t),this.adMeta={},this.adTagRequest="",this.isPreloading=!1,this.state=g.AD_IDLE,this.timing={_timeCheckTO:null,duration:null,firstFrame:null,lastRemaining:null,remaining:null}}},{key:"getStatus",value:function(){return{adMeta:this.adMeta,adReady:!!this.adReady,adTagRequest:this.adTagRequest,muted:this.isMuted(),running:this.isRunning(),state:this.state,timing:this.timing,isPreloading:this.isPreloading}}}]),e}(d.PoWaSell);e.PoWaSellGoogima=E},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t){return'<div id="powa-sell-ad-container-'+t.id+'"></div>'}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaSell=void 0;var s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(7),d=n(9),c=n(8),p=n(15),h="PoWaSell",f={},g={},v={ready:function(){console.debug("["+h+"] ready")},setupError:console.error,adBar:{shrinkAd:function(t,e){var n=t.height*(e.width/e.height)/2;return{top:t.height,right:n,bottom:0,left:n}},shrinkAdCSS:function(t){return{top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"}}}},m={width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"},w={position:"absolute",height:"100%",width:"100%",left:"0px",top:"0px"};e.PoWaSell=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1],a=arguments[2];i(this,e);var s=o(this,Object.getPrototypeOf(e).call(this,"<div></div>"));return s.css(m),s.hide(),(0,c.extend)(f,n),(0,c.extend)(g,a),t.adBar=t.adBar===!0?v.adBar:t.adBar?(0,c.extend)({},v.adBar,t.adBar):null,s.settings=(0,c.extend)({},v,t),["_setupPoWaSell","_setupAdBar","show","hide","_resizeForAdBar","resize","showSkip"].map(function(t){s[t]=s[t].bind(s)}),s._setupPoWaSell(),s._setupAdBar(),s.$adContainer=(0,u.$)(r(s.settings)),s.$adContainer.css(w),s.append(s.$adContainer),s}return a(e,t),l(e,null,[{key:"MODULE",get:function(){return h}},{key:"EVENTS",get:function(){return f}},{key:"STATES",get:function(){return g}}]),l(e,[{key:"_setupPoWaSell",value:function(){if(this.settings.$container)this.settings.$container.append(this);else{if(!this.settings.id)throw{error:"missing container",message:"Element ID of container or PoWaPack wrapped container element required"};this.settings.id=this.settings.id.replace(/(^#)/,"");var t=(0,u.$)("#"+this.settings.id);t.append(this)}}},{key:"_setupAdBar",value:function(){var t=this;this.settings.adBar&&((0,c.extend)(f,p.PoWaSellBar.EVENTS),this.$powaSellBar=new p.PoWaSellBar((0,c.extend)({},{id:this.settings.id},this.settings.adBar)),this.$powaSellBar.on(f.AD_BAR_PAUSE,function(){return t.pause()}),this.$powaSellBar.on(f.AD_BAR_PLAY,function(){return t.play()}),this.$powaSellBar.on(f.AD_BAR_SKIP,function(){return t.skip()}),this.$powaSellBar.on(f.AD_BAR_MUTE,function(e){return t.mute()}),this.$powaSellBar.on(f.AD_BAR_HIDE,this._resizeForAdBar),this.$powaSellBar.on(f.AD_BAR_SHOW,this._resizeForAdBar),(0,d.forEach)(p.PoWaSellBar.EVENTS,function(e){t.$powaSellBar.on(e,function(n){return t.trigger(e,n)})}),(0,d.forEach)(f,function(e){t.$powaSellBar[e]&&t.on(e,t.$powaSellBar[e])}),this.append(this.$powaSellBar))}},{key:"show",value:function(){s(Object.getPrototypeOf(e.prototype),"show",this).call(this),this._resizeForAdBar()}},{key:"hide",value:function(){s(Object.getPrototypeOf(e.prototype),"hide",this).call(this),this.$player&&this.$player.setDefaultStyle()}},{key:"_resizeForAdBar",value:function(){this.$powaSellBar&&this.settings.adBar&&this.settings.adBar.shrinkAd&&this.resize({fullscreen:(0,c.isFullscreen)(),height:this.height(),width:this.width()})}},{key:"resize",value:function(t){if(this.settings.debug&&console.debug("["+h+"][resize] "+t),this.$powaSellBar&&this.settings.adBar&&this.settings.adBar.shrinkAd&&this.settings.adBar.shrinkAdCSS){var e=this.settings.adBar.shrinkAd({height:this.$powaSellBar.height(),width:this.$powaSellBar.width()},t);(0,c.extend)(e,{height:t.height-(e.top+e.bottom),width:t.width-(e.left+e.right)});var n=this.settings.adBar.shrinkAdCSS(e);return this.$player.css(n),this.$adContainer.css(n),e}return t}},{key:"showSkip",value:function(){this.$powaSellBar&&this.$powaSellBar.showSkip()}}]),e}(u.PoWaPack)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaSellBar=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(7),l=n(8),u=n(9),d="PoWaSellBar",c={AD_BAR_HIDE:"adBarHide",AD_BAR_MUTE:"adBarMute",AD_BAR_PAUSE:"adBarPause",AD_BAR_PLAY:"adBarPlay",AD_BAR_SHOW:"adBarShow",AD_BAR_SKIP:"adBarSkip"},p={skipOffset:15,skipThreshold:2,adBarTemplate:function(t){return'<div\n\t\t\tclass="powa-ad-bar"\n\t\t\tid="'+t.id+'-ad-bar"\n\t\t\tstyle="width: 100%; height: 22px; position: absolute; top: 0px; left: 0px; pointer-events: auto; font-family: Helvetica; background-color: #000; background-color: rgba(0,0,0, 0.7); z-index: 2;"\n\t\t>\n\t\t\t<img id="'+t.id+'-ad-play" style="position: absolute; left: 0px; top: 0px; width: auto; margin: 0; padding: 0;">\n\t\t\t<img id="'+t.id+'-ad-mute" style="position: absolute; left: 25px; top: 1px; width: auto; margin: 0; padding: 0;">\n\t\t\t<span id="'+t.id+'-ad-countdown" style="color: white; font-size: 14px; font-weight: 400; position: absolute; left: 50px; top: 3px; line-height: normal; margin: 0; padding: 0;"></span>\n\t\t\t<span id="'+t.id+'-ad-skip-container" class="skip-ad-container" style="width: 100%">\n\t\t\t\t<span id="'+t.id+'-ad-skip-countdown" style="color: white; font-size: 14px; font-weight: 400; position: absolute; top: 4px; right: 5px; line-height: normal; margin: 0; padding: 0;"></span>\n\t\t\t\t<span id="'+t.id+'-ad-skip" style="color: white; font-size: 14px; font-weight: 400; position: absolute; top: 3px; right: 5px; cursor: pointer; line-height: normal; margin: 0; padding: 0;">Skip</span>\n\t\t\t</span>\n\t\t</div>'},adCountdownTemplate:function(t){return"This ad will end in "+Math.ceil(t.remaining)+" seconds"},adSkipCountdownTemplate:function(t){return"You can skip this ad in "+Math.ceil(t.skipOffset-(t.duration-t.remaining))+" seconds"},checkSizing:function(t){var e=5,n=t.$adBar,i=t.$adMuteControl,o=t.$adCountdown,a=t.$adSkipCountdown,r=t.$adSkipControl,s=o.position().left+o.width()+e,l=i.position().left+i.width()+e,u=a.width()?a.position().left:r.width()?r.position().left:0;(n.width()<s||u&&s>u)&&o.hide(),a.width()&&l>a.position().left&&a.hide()}},h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAIAAADNQonCAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAASdAAAEnQB3mYfeAAAAJ9JREFUOE+t1G0RgCAMAFAaEIEoRCEKUYhCFCIQQXe3O9QJG5vyz3M89oE698s6rOs6HQRDKo9d4yGlFGPc5OZEzhle1FpDCCLEEdgZ4Lz3DCQTENF7h9JWyhaB6UBd0wYpCIRKKaQuNYF1QYNGXRaCDEtNtNZIRxQEyV9dyLuLCmI1yy2Cv1EyId5rgRA/rXvAfCKfCMN/C/qtOpILPgG3iNE9V6J34wAAAABJRU5ErkJggg==",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAIAAADNQonCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAASdAAAEnQB3mYfeAAAAF1JREFUOE9jYKAK+E8uQNgONIEMp6DognPs7e3rkYC8vDzQaCCJLAhUA7EPuxFApch+gqgGksiCQDWjRkADZDQsECljpIQFFbIZSVkee06lyAgyyq39+/eTZCU+xQDTtEcPk8Cw2gAAAABJRU5ErkJggg==",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAASdAAAEnQB3mYfeAAAAJVJREFUOE/tk1ENwCAMREEJEpCABCQgAQlIQQoSkIIEdkkXtizA6PjdfTT8vHLptbLWKj5JSim+wSe1DmutrbXkkgeHEACg8mB8mHMGOYONMWjc5JzDJ957wl5gMtaUUgKM+sODqLYG1o0qxrg07dF1IOpSykvOk9NSSlHg7PVsTWEB4u121xHvqh4tLvg+z8U3bf6WDjULsaN9YNkfAAAAAElFTkSuQmCC",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAIAAADtKeFkAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAASdAAAEnQB3mYfeAAAAOhJREFUOE+lk1ERhCAQQCWBEYhABCMYgQhGMAIRjGIEIxjBCNy72RvOw0XU48NBZx/7dhdN0zQxRp4PljHmTT3jvxS7dV27rqsqOOf6vpewH54XVgihbdvSKeM4EsNT4UmOQkmEtMuySA6d50gyk/8oMgyDfKzwYnUUmabpKu+9hz+KoLBtWz2/dEi6mIlYa+d5PqsfeeFTF1URXJT+y6fE71VLoyHmM+m0y3iEicBcHY3Ck4oj0qKd8PRf7YjCl24eNXN/stHc4KUKykkiMou8/ur/g8hZ/6v8PuBJ/iK/v+EX9zLdf9cL1wScCm37SQgAAAAASUVORK5CYII=";e.PoWaSellBar=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,Object.getPrototypeOf(e).call(this,t.adBarTemplate?t.adBarTemplate(t):p.adBarTemplate(t)));return n.hide(),n.settings=(0,l.extend)({},p,t),n.settings.id=t.id.replace(/(^#)/,""),["_updateControls","_togglePause","_skip","_toggleMute","_checkSizing","adStart","adTime","adPause","adPlay","adComplete","adMute","showSkip"].map(function(t){n[t]=n[t].bind(n)}),n.$adPlayControl=n.find("#"+t.id+"-ad-play"),n.$adMuteControl=n.find("#"+t.id+"-ad-mute"),n.$adCountdown=n.find("#"+t.id+"-ad-countdown"),n.$adSkipContainer=n.find("#"+t.id+"-ad-skip-container"),n.$adSkipCountdown=n.find("#"+t.id+"-ad-skip-countdown"),n.$adSkipControl=n.find("#"+t.id+"-ad-skip"),n.$adSkipCountdown.hide(),n.$adSkipControl.hide(),n.on("resize",n._checkSizing),n.$adPlayControl.on("click",n._togglePause),n.$adMuteControl.on("click",n._toggleMute),n.$adSkipControl.on("click",n._skip),n.muted=!1,n.paused=!1,n._updateControls(),n}return a(e,t),r(e,null,[{key:"MODULE",get:function(){return d}},{key:"EVENTS",get:function(){return c}}]),r(e,[{key:"_updateControls",value:function(){this.$adPlayControl.attr("src",this.paused?h:f),this.$adMuteControl.attr("src",this.muted?v:g)}},{key:"_togglePause",value:function(){this.paused?this.trigger(c.AD_BAR_PLAY):this.trigger(c.AD_BAR_PAUSE)}},{key:"_skip",value:function(){this.trigger(c.AD_BAR_SKIP)}},{key:"_toggleMute",value:function(){this.trigger(c.AD_BAR_MUTE,{muted:!this.muted})}},{key:"_checkSizing",value:function(){this.settings.checkSizing&&this.settings.checkSizing({$adBar:this,$adPlayControl:this.$adPlayControl,$adMuteControl:this.$adMuteControl,$adCountdown:this.$adCountdown,$adSkipCountdown:this.$adSkipCountdown,$adSkipControl:this.$adSkipControl})}},{key:"adStart",value:function(t){this.show(),this.paused=!1,this.muted=(0,l.get)(t,"detail.adMeta.muted"),this.$adSkipControl.hide(),this._updateControls(),this.trigger(c.AD_BAR_SHOW)}},{key:"adTime",value:function(t){var e=(0,l.extend)((0,u.pick)(this.settings,["skipOffset","skipThreshold"]),t.detail),n=e.skipOffset+e.skipThreshold;this.$adCountdown.html(this.settings.adCountdownTemplate(e)),this.$adCountdown.show(),e.duration>n&&(e.duration-e.remaining>e.skipOffset?this.showSkip():(this.$adSkipCountdown.html(this.settings.adSkipCountdownTemplate(e)),this.$adSkipCountdown.show())),this._checkSizing()}},{key:"adPause",value:function(t){this.paused=!0,this._updateControls()}},{key:"adPlay",value:function(t){this.paused=!1,this._updateControls()}},{key:"adComplete",value:function(t){this.hide(),this.trigger(c.AD_BAR_HIDE)}},{key:"adMute",value:function(t){this.muted=!!t.detail.muted,this._updateControls()}},{key:"showSkip",value:function(){this.$adSkipCountdown.hide(),this.$adSkipControl.show()}}]),e}(s.PoWaPack)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaSellGoogimaHacks=void 0;var r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(8),u=n(13),d=1e3,c="PoWaSellGoogimaHacks",p={AD_COMPANIONS:"adCompanions",AD_COMPLETE:"adComplete",AD_CLICK:"adClick",AD_DESTROYED:"adDestroyed",AD_DURATION_CHANGE:"adDurationChange",AD_END:"adEnd",AD_ERROR:"adError",AD_FIRST_FRAME:"adFirstFrame",AD_LOADED:"adLoaded",AD_WAITING:"adWaiting",AD_MUTE:"adMute",AD_PAUSE:"adPause",AD_PLAY:"adPlay",AD_SETUP_ERROR:"adSetupError",AD_SKIP:"adSkip",AD_START:"adStart",AD_START_UNREPORTED:"adStartUnreported",AD_TIME:"adTime"},h={adStartTimelimit:3},f=new WeakMap;e.PoWaSellGoogimaHacks=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,Object.getPrototypeOf(e).call(this,(0,l.extend)({},h,t),p));return["_loadedHandler","_pauseHandler","_resumeHandler","_timeCheck","clearStatus"].map(function(t){n[t]=n[t].bind(n)}),n}return a(e,t),s(e,null,[{key:"MODULE",get:function(){return c}}]),s(e,[{key:"_loadedHandler",value:function(t,n){r(Object.getPrototypeOf(e.prototype),"_loadedHandler",this).call(this,t,n);var i=f.get(this);i.adStarted=!1;var o=Date.now();i.shadowTimer={lastTime:o,elapsed:0,start:o}}},{key:"_pauseHandler",value:function(t){var n=Date.now(),i=f.get(this);i.shadowTimer.elapsed+=(n-i.shadowTimer.lastTime)/d,i.shadowTimer.elapsed=Number(i.shadowTimer.elapsed.toFixed(3)),i.shadowTimer.lastTime=n,this.timing.remaining=this.timing.duration-i.shadowTimer.elapsed,this.timing.remaining=Number(this.timing.remaining.toFixed(3)),r(Object.getPrototypeOf(e.prototype),"_pauseHandler",this).call(this,t)}},{key:"_resumeHandler",value:function(t){f.get(this).shadowTimer.lastTime=Date.now(),r(Object.getPrototypeOf(e.prototype),"_resumeHandler",this).call(this,t)}},{key:"_timeCheck",value:function(){var t=Date.now(),e=f.get(this);this.timing.lastRemaining=this.timing.remaining;var n=this.adsManager.getRemainingTime();if(n="number"==typeof n?Number(n.toFixed(3)):-1,!e.adStarted){var i=(t-e.shadowTimer.start)/d;n>=0&&n!==this.timing.lastRemaining?e.adStarted=!0:i>this.settings.adStartTimelimit&&(e.adStarted=!0,this.trigger(p.AD_START_UNREPORTED,{type:p.AD_START_UNREPORTED,elapsed:i}))}if(n>this.timing.duration){var o=this.timing.duration;this.timing.duration=n+e.shadowTimer.elapsed,this.trigger(p.AD_DURATION_CHANGE,{type:p.AD_DURATION_CHANGE,oldDuration:o,duration:this.timing.duration})}e.adStarted&&this.state===u.PoWaSellGoogima.STATES.AD_PLAYING&&(e.shadowTimer.elapsed+=(t-e.shadowTimer.lastTime)/d,e.shadowTimer.elapsed=Number(e.shadowTimer.elapsed.toFixed(3)),e.shadowTimer.lastTime=t,this.timing.remaining=this.timing.duration-e.shadowTimer.elapsed,this.timing.remaining=Number(this.timing.remaining.toFixed(3)));var a=1e3*(this.timing.remaining%1).toFixed(3);a=a>100?a:100,e.adStarted?this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(p.AD_FIRST_FRAME,{adMeta:this.adMeta,type:p.AD_FIRST_FRAME})),this.trigger(p.AD_TIME,{duration:this.timing.duration,elapsed:e.shadowTimer.elapsed,remaining:this.timing.remaining,type:p.AD_TIME})):this.state===u.PoWaSellGoogima.STATES.AD_PLAYING&&(e.shadowTimer.lastTime=t),this.isRunning()&&this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,a))}},{key:"clearStatus",value:function(){r(Object.getPrototypeOf(e.prototype),"clearStatus",this).call(this),f.set(this,{adStarted:!1,remainingTimeUnchanged:0,shadowTimer:{lastTime:null,elapsed:null,start:null}})}}]),e}(u.PoWaSellGoogima)},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e='<track src="'+(t.src||t.url||"")+'" label="'+(t.label||"English")+'" srclang="'+(t.srclang||"en")+'" kind="'+(t.kind||"captions")+'"></track>';return e.trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaSub=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(8),d=n(7),c=n(9),p="PoWaSub",h={},f={debug:!1,subtitles:null,ready:function(){console.debug("["+p+"] ready")},setupError:console.error},g={};e.PoWaSub=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var n=a(this,Object.getPrototypeOf(e).call(this,""));return n.css(g),["stashSettings","getTextTracks","load","show","hide","getSubtitles","showing","getStatus"].map(function(t){return n[t]=n[t].bind(n)}),n.settings=(0,u.extend)({},f,t),n.settings.label=n.settings.subtitles||(0,u.fetchLocal)("powaSubtitles",null),n.load(),n.stashSettings(),n}return r(e,t),l(e,null,[{key:"MODULE",get:function(){return p}},{key:"EVENTS",get:function(){return h}}]),l(e,[{key:"stashSettings",value:function(){var t=this.showing();if(t!==this.settings.label){var e=this.getSubtitles(),n=e.includes(t),i=e.includes(this.settings.label);(n||null===t&&i)&&((0,u.stashLocal)("powaSubtitles",t),this.settings.label=t)}requestAnimationFrame(this.stashSettings)}},{key:"getTextTracks",value:function(){var t=this.elements[0].parentNode;return t&&t.textTracks?[].concat(i(t.textTracks)):[]}},{key:"load",value:function(){var t=(0,c.chain)(this.settings.tracks).filter(function(t){return"WEB_VTT"===t.format}).map(s).value();t&&t[0]&&this.add(t[0]),(0,u.isObject)(this.settings.track)?this.add(s(this.settings.track)):"string"==typeof this.settings.track&&this.add(s({src:this.settings.track}))}},{key:"show",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.settings.label:arguments[0];this.getTextTracks().forEach(function(e){return e.mode=e.label===t?"showing":"hidden"})}},{key:"hide",value:function(){this.getTextTracks().forEach(function(t){return t.mode="hidden"})}},{key:"getSubtitles",value:function(){var t=this.getTextTracks().filter(function(t){return"metadata"!==t.kind}).map(function(t){return t.label});return t.length?t:this.map(function(t){return t.label})}},{key:"showing",value:function(){var t=this.getTextTracks();return t.length?t.reduce(function(t,e){return"showing"===e.mode?e.label:t},null):void 0}},{key:"getStatus",value:function(){return{subtitles:this.getSubtitles(),showing:this.showing()}}}]),e}(d.PoWaPack)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t){return'<div class="powa-pane" id="'+t.id+'-powa-pane"></div>'}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaPane=void 0;var s=n(7),l=n(8),u={debug:!1};e.PoWaPane=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,Object.getPrototypeOf(e).call(this,r(t)));return n.settings=(0,l.extend)({},u,t),n.html(n.settings.template(t.data)),n}return a(e,t),e}(s.PoWaPack)},function(t,e,n){"use strict";function i(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function o(t,e){t.classList?t.classList.add(e):i(t,e)||(t.className+=" "+e)}function a(t){t.forEach(function(t){i(t,u.PROCESSED)||(o(t,u.PROCESSED),new l.PoWaDriveWapo(t))})}n(20);var r=n(8),s=n(9),l=n(103);n(114),window.PoWaSettings=window.PoWaSettings||{};var u={PLAYER_CONTAINER:"powa",PROCESSED:"powa-processed"},d=(0,s.map)(u,function(t){return"."+t});window.powaBoot=function(){window.PoWaSettings.videoSupport=window.PoWaSettings.videoSupport||(0,r.getVideoSupport)(),window.PoWaSettings.canAutoplay=window.PoWaSettings.canAutoplay||(0,r.canAutoplay)(),window.PoWaSettings.videoSupport?!function(){var t=document.querySelectorAll(d.PLAYER_CONTAINER);t=Array.prototype.slice.call(t),t=t.filter(function(t){return"1"!==t.getAttribute("data-skip-processing")}),t.forEach(window.PoWaSettings.decorator),t.length?window.PoWa?a(t):(0,r.loadScript)("https://cdn.polyfill.io/v2/polyfill.min.js?features=es6,Array.prototype.includes",function(){a(t)},console.error):console.warn("No '"+d.PLAYER_CONTAINER+"' elements found")}():console.warn("Browser does not support HTML5 video!")},window.powaBoot(),"pwa"===window.wp_site&&(window.postTvProcessEmbeds=function(){function t(){var t=document.querySelectorAll(".wpv-player, .posttv-video-embed, .posttv-player-video");Array.prototype.forEach.call(t,function(t,e){t.classList.add("powa"),t.setAttribute("data-org","wapo"),t.setAttribute("data-ad-bar","true"),"1"===t.getAttribute("data-show-endscreen")&&t.setAttribute("data-playthrough","true"),"1"===t.getAttribute("data-show-caption")&&t.setAttribute("data-blurb","1")})}t(),"function"==typeof window.powaBoot&&window.powaBoot()},window.postTvProcessEmbeds(),window.__e=window.__e||[],window.wp_pb&&window.wp_pb.StaticMethods&&window.wp_pb.StaticMethods.isPageHydrated&&window.wp_pb.StaticMethods.isPageHydrated()&&window.powaBoot(),window.__e.push(["shamble",function(){window.powaBoot()}]))},function(t,e,n){"use strict";n(21),n(91),n(100),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&this.indexOf(t,e)!==-1}),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}return"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,void(window.CustomEvent=t))}()},function(t,e,n){n(22),n(42),n(70),t.exports=n(41).WeakMap},function(t,e,n){"use strict";var i=n(23),o={};o[n(25)("toStringTag")]="z",o+""!="[object z]"&&n(29)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(24),o=n(25)("toStringTag"),a="Arguments"==i(function(){return arguments}()),r=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=r(e=Object(t),o))?n:a?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(26)("wks"),o=n(28),a=n(27).Symbol,r="function"==typeof a,s=t.exports=function(t){return i[t]||(i[t]=r&&a[t]||(r?a:o)("Symbol."+t))};s.store=i},function(t,e,n){var i=n(27),o="__core-js_shared__",a=i[o]||(i[o]={});t.exports=function(t){return a[t]||(a[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(27),o=n(30),a=n(40),r=n(28)("src"),s="toString",l=Function[s],u=(""+l).split(s);n(41).inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(a(n,"name")||o(n,"name",e)),t[e]!==n&&(l&&(a(n,r)||o(n,r,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[r]||l.call(this)})},function(t,e,n){var i=n(31),o=n(39);t.exports=n(35)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(32),o=n(34),a=n(38),r=Object.defineProperty;e.f=n(35)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(33);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(35)&&!n(36)(function(){return 7!=Object.defineProperty(n(37)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(36)(function(){return 7!=Object.defineProperty({},"a",{
get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(33),o=n(27).document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(33);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){for(var i=n(43),o=n(29),a=n(27),r=n(30),s=n(46),l=n(25),u=l("iterator"),d=l("toStringTag"),c=s.Array,p=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;h<5;h++){var f,g=p[h],v=a[g],m=v&&v.prototype;if(m){m[u]||r(m,u,c),m[d]||r(m,d,g),s[g]=c;for(f in i)m[f]||o(m,f,i[f],!0)}}},function(t,e,n){"use strict";var i=n(44),o=n(45),a=n(46),r=n(47);t.exports=n(50)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i=n(25)("unscopables"),o=Array.prototype;void 0==o[i]&&n(30)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports={}},function(t,e,n){var i=n(48),o=n(49);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var i=n(51),o=n(52),a=n(29),r=n(30),s=n(40),l=n(46),u=n(55),d=n(67),c=n(68),p=n(25)("iterator"),h=!([].keys&&"next"in[].keys()),f="@@iterator",g="keys",v="values",m=function(){return this};t.exports=function(t,e,n,w,y,b,k){u(n,e,w);var E,S,A,_=function(t){if(!h&&t in C)return C[t];switch(t){case g:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},P=e+" Iterator",T=y==v,O=!1,C=t.prototype,D=C[p]||C[f]||y&&C[y],R=D||_(y),x=y?T?_("entries"):R:void 0,M="Array"==e?C.entries||D:D;if(M&&(A=c(M.call(new t)),A!==Object.prototype&&(d(A,P,!0),i||s(A,p)||r(A,p,m))),T&&D&&D.name!==v&&(O=!0,R=function(){return D.call(this)}),i&&!k||!h&&!O&&C[p]||r(C,p,R),l[e]=R,l[P]=m,y)if(E={values:T?R:_(v),keys:b?R:_(g),entries:x},k)for(S in E)S in C||a(C,S,E[S]);else o(o.P+o.F*(h||O),e,E);return E}},function(t,e){t.exports=!1},function(t,e,n){var i=n(27),o=n(41),a=n(30),r=n(29),s=n(53),l="prototype",u=function(t,e,n){var d,c,p,h,f=t&u.F,g=t&u.G,v=t&u.S,m=t&u.P,w=t&u.B,y=g?i:v?i[e]||(i[e]={}):(i[e]||{})[l],b=g?o:o[e]||(o[e]={}),k=b[l]||(b[l]={});g&&(n=e);for(d in n)c=!f&&y&&void 0!==y[d],p=(c?y:n)[d],h=w&&c?s(p,i):m&&"function"==typeof p?s(Function.call,p):p,y&&r(y,d,p,t&u.U),b[d]!=p&&a(b,d,h),m&&k[d]!=p&&(k[d]=p)};i.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var i=n(54);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var i=n(56),o=n(39),a=n(67),r={};n(30)(r,n(25)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(r,{next:o(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var i=n(32),o=n(57),a=n(65),r=n(64)("IE_PROTO"),s=function(){},l="prototype",u=function(){var t,e=n(37)("iframe"),i=a.length,o="<",r=">";for(e.style.display="none",n(66).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+r+"document.F=Object"+o+"/script"+r),t.close(),u=t.F;i--;)delete u[l][a[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=i(t),n=new s,s[l]=null,n[r]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(31),o=n(32),a=n(58);t.exports=n(35)?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,l=0;s>l;)i.f(t,n=r[l++],e[n]);return t}},function(t,e,n){var i=n(59),o=n(65);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(40),o=n(47),a=n(60)(!1),r=n(64)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),l=0,u=[];for(n in s)n!=r&&i(s,n)&&u.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~a(u,n)||u.push(n));return u}},function(t,e,n){var i=n(47),o=n(61),a=n(63);t.exports=function(t){return function(e,n,r){var s,l=i(e),u=o(l.length),d=a(r,u);if(t&&n!=n){for(;u>d;)if(s=l[d++],s!=s)return!0}else for(;u>d;d++)if((t||d in l)&&l[d]===n)return t||d||0;return!t&&-1}}},function(t,e,n){var i=n(62),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(62),o=Math.max,a=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):a(t,e)}},function(t,e,n){var i=n(26)("keys"),o=n(28);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(27).document&&document.documentElement},function(t,e,n){var i=n(31).f,o=n(40),a=n(25)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e,n){var i=n(40),o=n(69),a=n(64)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,n){var i=n(49);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";var i,o=n(71)(0),a=n(29),r=n(75),s=n(76),l=n(79),u=n(33),d=r.getWeak,c=Object.isExtensible,p=l.ufstore,h={},f=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(u(t)){var e=d(t);return e===!0?p(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(this,t,e)}},v=t.exports=n(86)("WeakMap",f,g,l,!0,!0);7!=(new v).set((Object.freeze||Object)(h),7).get(h)&&(i=l.getConstructor(f),s(i.prototype,g),r.NEED=!0,o(["delete","has","get","set"],function(t){var e=v.prototype,n=e[t];a(e,t,function(e,o){if(u(e)&&!c(e)){this._f||(this._f=new i);var a=this._f[t](e,o);return"set"==t?this:a}return n.call(this,e,o)})}))},function(t,e,n){var i=n(53),o=n(48),a=n(69),r=n(61),s=n(72);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,d=4==t,c=6==t,p=5==t||c,h=e||s;return function(e,s,f){for(var g,v,m=a(e),w=o(m),y=i(s,f,3),b=r(w.length),k=0,E=n?h(e,b):l?h(e,0):void 0;b>k;k++)if((p||k in w)&&(g=w[k],v=y(g,k,m),t))if(n)E[k]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:E.push(g)}else if(d)return!1;return c?-1:u||d?d:E}}},function(t,e,n){var i=n(73);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(33),o=n(74),a=n(25)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var i=n(24);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(28)("meta"),o=n(33),a=n(40),r=n(31).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(36)(function(){return l(Object.preventExtensions({}))}),d=function(t){r(t,i,{value:{i:"O"+ ++s,w:{}}})},c=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[i].i},p=function(t,e){if(!a(t,i)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[i].w},h=function(t){return u&&f.NEED&&l(t)&&!a(t,i)&&d(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:c,getWeak:p,onFreeze:h}},function(t,e,n){"use strict";var i=n(58),o=n(77),a=n(78),r=n(69),s=n(48),l=Object.assign;t.exports=!l||n(36)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=r(t),l=arguments.length,u=1,d=o.f,c=a.f;l>u;)for(var p,h=s(arguments[u++]),f=d?i(h).concat(d(h)):i(h),g=f.length,v=0;g>v;)c.call(h,p=f[v++])&&(n[p]=h[p]);return n}:l},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var i=n(80),o=n(75).getWeak,a=n(32),r=n(33),s=n(81),l=n(82),u=n(71),d=n(40),c=u(5),p=u(6),h=0,f=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return c(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,a){var u=t(function(t,i){s(t,u,e,"_i"),t._i=h++,t._l=void 0,void 0!=i&&l(i,n,t[a],t)});return i(u.prototype,{delete:function(t){if(!r(t))return!1;var e=o(t);return e===!0?f(this).delete(t):e&&d(e,this._i)&&delete e[this._i]},has:function(t){if(!r(t))return!1;var e=o(t);return e===!0?f(this).has(t):e&&d(e,this._i)}}),u},def:function(t,e,n){var i=o(a(e),!0);return i===!0?f(t).set(e,n):i[t._i]=n,t},ufstore:f}},function(t,e,n){var i=n(29);t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(53),o=n(83),a=n(84),r=n(32),s=n(61),l=n(85),u={},d={},e=t.exports=function(t,e,n,c,p){var h,f,g,v,m=p?function(){return t}:l(t),w=i(n,c,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(h=s(t.length);h>y;y++)if(v=e?w(r(f=t[y])[0],f[1]):w(t[y]),v===u||v===d)return v}else for(g=m.call(t);!(f=g.next()).done;)if(v=o(g,w,f.value,e),v===u||v===d)return v};e.BREAK=u,e.RETURN=d},function(t,e,n){var i=n(32);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},function(t,e,n){var i=n(46),o=n(25)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var i=n(23),o=n(25)("iterator"),a=n(46);t.exports=n(41).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||a[i(t)]}},function(t,e,n){"use strict";var i=n(27),o=n(52),a=n(29),r=n(80),s=n(75),l=n(82),u=n(81),d=n(33),c=n(36),p=n(87),h=n(67),f=n(88);t.exports=function(t,e,n,g,v,m){var w=i[t],y=w,b=v?"set":"add",k=y&&y.prototype,E={},S=function(t){var e=k[t];a(k,t,"delete"==t?function(t){return!(m&&!d(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(m||k.forEach&&!c(function(){(new y).entries().next()}))){var A=new y,_=A[b](m?{}:-0,1)!=A,P=c(function(){A.has(1)}),T=p(function(t){new y(t)}),O=!m&&c(function(){for(var t=new y,e=5;e--;)t[b](e,e);return!t.has(-0)});T||(y=e(function(e,n){u(e,y,t);var i=f(new w,e,y);return void 0!=n&&l(n,v,i[b],i),i}),y.prototype=k,k.constructor=y),(P||O)&&(S("delete"),S("has"),v&&S("get")),(O||_)&&S(b),m&&k.clear&&delete k.clear}else y=g.getConstructor(e,t,v,b),r(y.prototype,n),s.NEED=!0;return h(y,t),E[t]=y,o(o.G+o.W+o.F*(y!=w),E),m||g.setStrong(y,t,v),y}},function(t,e,n){var i=n(25)("iterator"),o=!1;try{var a=[7][i]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var a=[7],r=a[i]();r.next=function(){return{done:n=!0}},a[i]=function(){return r},t(a)}catch(t){}return n}},function(t,e,n){var i=n(33),o=n(89).set;t.exports=function(t,e,n){var a,r=e.constructor;return r!==n&&"function"==typeof r&&(a=r.prototype)!==n.prototype&&i(a)&&o&&o(t,a),t}},function(t,e,n){var i=n(33),o=n(32),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(53)(Function.call,n(90).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){var i=n(78),o=n(39),a=n(47),r=n(38),s=n(40),l=n(34),u=Object.getOwnPropertyDescriptor;e.f=n(35)?u:function(t,e){if(t=a(t),e=r(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){n(22),n(92),n(42),n(94),n(97),t.exports=n(41).Set},function(t,e,n){"use strict";var i=n(93)(!0);n(50)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(62),o=n(49);t.exports=function(t){return function(e,n){var a,r,s=String(o(e)),l=i(n),u=s.length;return l<0||l>=u?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(r=s.charCodeAt(l+1))<56320||r>57343?t?s.charAt(l):a:t?s.slice(l,l+2):(a-55296<<10)+(r-56320)+65536)}}},function(t,e,n){"use strict";var i=n(95);t.exports=n(86)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(this,t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i=n(31).f,o=n(56),a=n(80),r=n(53),s=n(81),l=n(49),u=n(82),d=n(50),c=n(45),p=n(96),h=n(35),f=n(75).fastKey,g=h?"_s":"size",v=function(t,e){var n,i=f(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,d){var c=t(function(t,i){s(t,c,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=i&&u(i,n,t[d],t)});return a(c.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=this,n=v(e,t);if(n){var i=n.n,o=n.p;delete e._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),e._f==n&&(e._f=i),e._l==n&&(e._l=o),e[g]--}return!!n},forEach:function(t){s(this,c,"forEach");for(var e,n=r(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),h&&i(c.prototype,"size",{get:function(){return l(this[g])}}),c},def:function(t,e,n){var i,o,a=v(t,e);return a?a.v=n:(t._l=a={i:o=f(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=a),i&&(i.n=a),t[g]++,"F"!==o&&(t._i[o]=a)),t},getEntry:v,setStrong:function(t,e,n){d(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),p(e)}}},function(t,e,n){"use strict";var i=n(27),o=n(31),a=n(35),r=n(25)("species");t.exports=function(t){var e=i[t];a&&e&&!e[r]&&o.f(e,r,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(52);i(i.P+i.R,"Set",{toJSON:n(98)("Set")})},function(t,e,n){var i=n(23),o=n(99);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var i=n(82);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){n(22),n(92),n(42),n(101),n(102),t.exports=n(41).Map},function(t,e,n){"use strict";var i=n(95);t.exports=n(86)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(this,t);return e&&e.v},set:function(t,e){return i.def(this,0===t?0:t,e)}},i,!0)},function(t,e,n){var i=n(52);i(i.P+i.R,"Map",{toJSON:n(98)("Map")})},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}function s(){function t(){var t=0;try{t=parseInt(localStorage.getItem("videoplays"))}catch(t){console.error(t)}return isNaN(t)?0:t}function e(t){try{localStorage.setItem("videoplays",t)}catch(t){console.error(t)}}var n=t();n++,e(n)}function l(){var t=(0,x.getVideoSupport)(),e=(0,x.sniffClient)();return e.isWindows&&e.isIE&&11==e.version&&(t.hlsJS=!1),!t.hls&&t.hlsJS}function u(){window._cbv_strategies=window._cbv_strategies||[],window._cbv_strategies.push(R.WapoStrategy)}function d(t){t=t||[],Object.keys(j).forEach(function(e){t.indexOf(e)===-1&&j[e]&&(0,x.loadScript)(j[e],function(t){},function(t){console.error(e+" failed to load",t)})})}function c(t){t.forEach(function(t){(0,x.loadCSS)(t)})}function p(){if(!(window.wapoTrendingVideos&&U.length>0)){window.wapoTrendingVideos=[];var t=new XMLHttpRequest;t.open("GET",U,!0),t.onload=function(){if(t.status>=200&&t.status<400){var e=JSON.parse(t.responseText).topVideos;e.forEach(function(t){window.wapoTrendingVideos.push(t.videoId)})}},t.onerror=function(){},t.send()}}function h(){var t=[{class:"fa",fontFamily:"FontAwesome"}];return v(t)}function f(){var t=[{class:"franklin-light",fontFamily:"FranklinITCProLight"},{class:"franklin-bold",fontFamily:"FranklinITCProBold"}];return v(t)}function g(){var t=window.wp_meta_data&&window.wp_meta_data.isPWA===!0||"pwa"===window.wp_site;return!t}function v(t){var e=void 0;return t.forEach(function(t){var n=void 0;document.querySelector(".wpv-font-canary."+t.class)?n=document.querySelector(".wpv-font-canary."+t.class):(n=document.createElement("div"),n.className="wpv-font-canary "+t.class,n.style.position="absolute",n.style.width="auto",n.style.left="-99999px",n.innerHTML="test",document.body.appendChild(n));var i=getComputedStyle(n).fontFamily,o=i?i.split(","):[];t.isAvailable=o[0].indexOf(t.fontFamily)>-1,e="undefined"!=typeof e?e&&t.isAvailable:t.isAvailable}),e}function m(t){$=!0,t.find(".powa-shot-tooltip-triangle").show(),t.find(".powa-shot-tooltip").show()}function w(t){$=!1,t.find(".powa-shot-tooltip-triangle").hide(),t.find(".powa-shot-tooltip").hide()}function y(){function t(){p&&(p.className="powa-shot-click powa-shot-click-play fa fa-spinner fa-spin powa-shot-play-btn-icon")}function e(){p&&(p.className="powa-shot-click powa-shot-click-play fa fa-play powa-shot-play-btn-icon")}function n(){var t=document.createElement("div"),e=document.createElement("div");return e.innerHTML="&#9654; Play",t.appendChild(e),t.style.position="absolute",t.style.color="white",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.padding="0 20px",t.style.fontSize="25px",t.style.cursor="pointer",t.style.backgroundColor="rgba(0, 0, 0, .6)",t.style.lineHeight="43px",t.style.borderRadius="4px",t.style.fontFamily='"FranklinITCProBold", "HelveticaNeue", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',t}var i=this,o=new C.PoWaPack(this.element),a=o.find(".powa-shot-tooltip-icon, .powa-shot-sharing-title"),l=o.find(".powa-shot-copy"),u=o.find(".powa-shot-sharing-embed-code"),d=o.find(".powa-shot-sharing-button"),c=o.find(".powa-shot-tooltip"),p=this.element.querySelector(".powa-shot-play-btn-icon"),h=void 0;this.on("play",function(t){o.elements[0].classList.add("playing"),e()}),this.on("start",function(e){s(),t()}),this.on("adLoaded",function(t){o.addClass("ad-playing");var e=o.find("video"),n="live"===i.getVideoData().video_type;e.elements.length&&(n||i.hideControls(),e.textTracks&&e.textTracks[0]&&(e.textTracks[0].oldMode=e.textTracks[0].mode,e.textTracks[0].mode="hidden"))}),this.on("adEnd",function(t){o.removeClass("ad-playing");var e=o.find("video"),n=e.attr("controls"),a="live"===i.getVideoData().video_type,r=o.find(".powa-live-video-controls");e.elements.length&&(a||(r.css({display:"none"}),n||i.showControls()),e.textTracks&&e.textTracks[0]&&e.textTracks[0].oldMode&&(e.textTracks[0].mode=e.textTracks[0].oldMode,e.textTracks[0].oldMode=void 0))}),this.on("end",function(t){o.elements[0].classList.remove("playing")});var f=!1,g=(0,x.sniffClient)(),v=!g.isMobile&&!g.isTablet;g.isSafari&&11==g.version&&v&&window.PoWaSettings.safari11Hacks&&(this.once("adPause",function(t){f||!function(){f=!0;var t=n();i.element.appendChild(t);var e=function e(){i.element.removeChild(t),i.off(PoWa.EVENTS.AD_BAR_PLAY,e),i.off(PoWa.EVENTS.MEDIA_START,e),t.removeEventListener("click",o)},o=function(){i.play(),e()};i.on(PoWa.EVENTS.AD_BAR_PLAY,e),i.on(PoWa.EVENTS.MEDIA_START,e),t.addEventListener("click",o)}()}),this.once("pause",function(t){var e=i.getStatus();f||!e||e.playing||0!==e.time||!function(){f=!0;var t=n();i.element.appendChild(t);var e=function e(){i.element.removeChild(t),i.off(PoWa.EVENTS.AD_BAR_PLAY,e),i.off(PoWa.EVENTS.MEDIA_START,e),t.removeEventListener("click",o)},o=function(){i.play(),e()};i.on(PoWa.EVENTS.AD_BAR_PLAY,e),i.on(PoWa.EVENTS.MEDIA_START,e),t.addEventListener("click",o)}()}),this.once("adFirstFrame",function(t){f||!function(){f=!0;var t=n();i.element.appendChild(t),i.pause();var e=function e(){i.element.removeChild(t),i.off(PoWa.EVENTS.AD_BAR_PLAY,e),i.off(PoWa.EVENTS.MEDIA_START,e),t.removeEventListener("click",o)},o=function(){i.play(),e()};i.on(PoWa.EVENTS.AD_BAR_PLAY,e),i.on(PoWa.EVENTS.MEDIA_START,e),t.addEventListener("click",o)}()})),o.on("click",function(t){W&&T.call(i),window.PoWaSettings.client.isMobile&&(h&&window.clearTimeout(h),o.elements[0].classList.add("show-pane"),h=window.setTimeout(function(){!$&&o.elements[0].classList.remove("show-pane")},5e3))}),a.on("click",function(t){t.stopPropagation();var e=r(t.target,"powa-shot-sharing-item");if(e){var n=new C.PoWaPack(e),i=n.find(".powa-shot-tooltip"),a=i.elements[0].style.display,s="none"===a||!a;w(o),s&&m(n)}}),c.on("click",function(t){t.stopPropagation()}),l.on("click",function(t){u.elements[0].select(),document.execCommand("copy")}),d.on("click",function(t){t.stopPropagation();try{var e=void 0,n=i.element.getAttribute("data-share-title"),o=i.element.getAttribute("data-share-url"),a="width=550, height=450, top="+(screen.height/2-225)+", left="+(screen.width/2-275),r=t.target.getAttribute("data-social"),s=o?o:t.target.getAttribute("data-share-url"),l=n?n:t.target.getAttribute("data-share-title");switch(r){case"facebook":e="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(s);break;case"twitter":e="https://twitter.com/share?url="+encodeURIComponent(s)+"&text="+encodeURIComponent(l);break;case"google":e="https://plus.google.com/share?url="+encodeURIComponent(s);break;default:return}window.open(e,"_blank",a)}catch(t){console.error(t)}}),window.addEventListener("click",function(t){w(o)})}function b(t){var e=arguments.length<=1||void 0===arguments[1]?q:arguments[1],n=arguments.length<=2||void 0===arguments[2]?t.offsetWidth:arguments[2];n>e?(t.classList.remove(H.small),t.classList.add(H.large)):(t.classList.remove(H.large),t.classList.add(H.small))}function k(t){var e=arguments.length<=1||void 0===arguments[1]?Y:arguments[1],n=arguments.length<=2||void 0===arguments[2]?t.offsetWidth:arguments[2];n>e?t.setAttribute("data-breakpoint",H.large):t.setAttribute("data-breakpoint",H.small)}function E(t){var e=window.PoWaSettings.client||(0,x.sniffClient)();window.self!==window.top&&e.isIOS&&t.classList.add("powa-ios"),e.isMobile&&t.classList.add(z);var n=e.isMobile?"mobile":e.isTablet?"tablet":"deskweb";t.setAttribute("data-device-class",n),e.isSafari&&e.version>=11&&t.classList.add("powa-saf11-controls")}function S(t){b(t),E(t)}function A(t){function e(){var e=document.querySelectorAll(".powa");return[].slice.call(e).indexOf(t)}t.setAttribute("data-nth-video-on-page",e())}function _(){var t=this,e=this.element.querySelector(".powa-shot-title"),n=this.element.querySelector('[data-social="facebook"]'),i=this.element.querySelector('[data-social="twitter"]'),o=this.element.querySelector('[data-social="google"]'),a=this.element.querySelector(".powa-mail"),r=this.element.querySelector(".powa-shot-sharing-embed-code"),s=this.element.getAttribute("data-share-title"),l=this.element.getAttribute("data-share-url");s&&l&&a.setAttribute("href","mailto:?subject="+encodeURIComponent(s)+"&body="+l),this.on("start",function(u){var d="",c="",p="",h="";try{d=s?s:t.videoData.headlines.basic,c=l?l:t.videoData.short_url,p=s&&l?"":t.videoData.description?t.videoData.description.basic:t.videoData.subheadlines?t.videoData.subheadlines.basic:"",h=t.videoData._id}catch(t){console.error(t)}e.innerHTML=d,n.setAttribute("data-share-url",c),i.setAttribute("data-share-url",c),i.setAttribute("data-share-title",d),o.setAttribute("data-share-url",c),s||l||a.setAttribute("href","mailto:?subject="+encodeURIComponent(d)+"&body="+encodeURIComponent(p)+" "+c),r.setAttribute("value","<iframe width='480' height='290' scrolling='no' src='https://www.washingtonpost.com/video/c/embed/"+h+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>")})}function P(t){try{new D.PoWaAnalyticsWapo(this,{prerollOnly:t.prerollOnly,autoinit:t.autoinit,autoplay:t.autoplay,mpulse:t.mpulse})}catch(t){console.error(t)}_.call(this),y.call(this)}function T(){var t=document.querySelector("#"+this.element.id+"-powa-blurb"),e=document.createElement("div");e.classList.add("powa-qa"),e.innerHTML="Ad Request Timeout Length: "+window.PoWaSettings.advertising.requestAdsTimeout,t&&t.appendChild(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaDriveWapo=void 0;var O=n(104),C=n(7),D=n(106),R=n(113),x=n(8),M=n(105),I=(0,x.getQueryStringParameters)().hls,L="false"!==I&&"0"!==I,N=(0,x.getQueryStringParameters)().ptvqa,W="true"===N||"1"===N,j={hlsJSURL:l()&&L?(0,M.hlsJSURL)("wapo"):"",comscore:"https://d1pz6dax0t5mop.cloudfront.net/_vendor/streamsense/4.1505.18/streamsense.min.js"},V=function(){var t=window.location.host.indexOf("localhost")>-1?"/style/wapo.css":"https://d1pz6dax0t5mop.cloudfront.net/prod/wapo.css",e=document.querySelector('script[src*="powaBoot.js"]');if(e){var n=e.getAttribute("src");(n.indexOf("d1pz6dax0t5mop.cloudfront.net")>-1||0===n.indexOf("powaBoot.js"))&&(t=n.replace("powaBoot.js","wapo.css"))}return t}(),B="https://d1pz6dax0t5mop.cloudfront.net/prod/wapoFonts.css",U="https://analytics.posttv.com/trending-videos-overall.json",F="https://www.washingtonpost.com/pb/resources/assets/fonts/custom/latest/css/icons.css",$=!1,H={small:"small",large:"large"},z="mobile-player",q=923,Y=450;window.addEventListener("resize",function(t){Array.prototype.forEach.call(document.getElementsByClassName("powa"),function(t){b(t,q);var e=t.nextElementSibling;if(e&&e.classList.contains("powa-blurb")){var n=e.querySelector(".wpv-caption");n&&k(n,Y,t.offsetWidth)}})});e.PoWaDriveWapo=function(t){function e(t){i(this,e);var n=o(this,Object.getPrototypeOf(e).call(this,t));n.element=t;var a=!1;console.debug("constructing",n.getID());var r=!!t.getAttribute("data-promo-video"),s="1"===t.getAttribute("data-autoinit")||"true"===t.getAttribute("data-autoinit"),l=!r&&("1"===t.getAttribute("data-autoplay")||"true"===t.getAttribute("data-autoplay")),v="1"===t.getAttribute("data-preroll-only")||"true"===t.getAttribute("data-preroll-only"),m="0"===t.getAttribute("data-playthrough")||"false"===t.getAttribute("data-playthrough"),w="1"===t.getAttribute("data-mpulse")||"true"===t.getAttribute("data-mpulse");n.on("pane",function(t){a||(P.call(n,{prerollOnly:v,autoinit:s,autoplay:l,disablePlaythrough:m,mpulse:w}),a=!0)}),document.body.addEventListener("powaReady",function(t){t.detail.id===n.getID()&&s&&(a||(P.call(n,{prerollOnly:v,autoinit:s,autoplay:l,disablePlaythrough:m,mpulse:w}),a=!0))}),A(t),S(t);var y=[V];g()&&!f()&&y.push(B),g()&&!h()&&y.push(F),c(y);var b=v?["comscore","chartbeat"]:null;return d(b),v||p(),!b&&u(),n}return a(e,t),e}(O.PoWaDrive)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.getAttribute("id");if(!e){var n=(0,j.map)(t.dataset,B.parseString);e="powa-"+(n.uuid?n.uuid:Date.now()),t.setAttribute("id",e)}}function a(t){return t&&t instanceof HTMLElement?((0,B.ensureDataset)(t),o(t),t):null}function r(){window.PoWaSettings=window.PoWaSettings||{},PoWaSettings=(0,B.extend)({},q,PoWaSettings),PoWaSettings.client=PoWaSettings.client||(0,B.sniffClient)()}function s(t){function e(e){var n=(0,j.find)(o.playlist,function(e){return e.uuid===t._id});n&&(n.error=!0),i((0,B.extend)({error:"incomplete video data",videoData:t},e))}var n=arguments.length<=1||void 0===arguments[1]?B.noop:arguments[1],i=arguments.length<=2||void 0===arguments[2]?B.noop:arguments[2],o=Q.get(this);t=(0,B.extend)({},Y,t),t._id?t.headlines.basic?t.streams.length?t.promo_image.url?n(t):e({message:"video data missing image"}):e({message:"video data missing streams"}):e({message:"video data missing title"}):e({message:"video data missing uuid"})}function l(t){function e(t){return t?(0,j.chain)(t).reject(function(t){return t.bitrate>o[r]}).map(function(t){return(0,B.extend)(t,{bitrate:isNaN(t.bitrate)?0:t.bitrate,height:isNaN(t.height)?0:t.height,width:isNaN(t.width)?0:t.width})}).max(function(t){return t.bitrate||t.height+t.width}).value():{}}if(!t)return null;var n=p(t);if("live"===t.video_type)return{promo:n,title:n.title,image:n.image,streams:t.streams.map(function(t){return t.url})};var i=t.streams,o=PoWaSettings.maxBitrate,a=PoWaSettings.streamPreference,r=PoWaSettings.client.isMobile?"mobile":PoWaSettings.client.isTablet?"tablet":"desktop",s=(0,j.groupBy)(i,function(t){return(0,j.find)(a,function(e){return t.url.endsWith(e)})}),l=(0,j.chain)(a).map(function(t){return e(s[t])}).compact().map(function(t){return(0,B.notEmpty)(t)?t.url:null}).compact().value();return(0,B.extend)({streams:l},{promo:n},c(t),d(t),u(t))}function u(t){return{tracks:!t.additional_properties.doNotShowTranscripts&&(0,B.get)(t,"subtitles.urls.length")&&(0,j.some)(t.subtitles.urls,function(t){return"WEB_VTT"===t.format})?t.subtitles.urls:null}}function d(t){return{title:t.headlines.basic}}function c(t){var e=(0,j.find)(t.additional_properties.imageResizerUrls,function(t){return t&&t.size&&t.size===PoWaSettings.promo.size});return{image:(0,B.protocolAgnosticURL)(PoWaSettings.promo.resized!==!1&&e&&e.url?e.url:PoWaSettings.imageResizer(t.promo_image))}}function p(t){return(0,B.extend)({videoData:t},c(t),d(t))}function h(){var t=arguments.length<=0||void 0===arguments[0]?z:arguments[0],e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=Q.get(this),i=this.player?this.player.getStatus():{};switch("undefined"==typeof t?"undefined":M(t)){case"function":return t({videoData:this.videoData,id:G.get(this).elementID,isPreloadingAds:e||i.adStatus&&i.adStatus.isPreloading,isPlaythrough:n.videoStarts>1});case"string":return t.startsWith("window.")?(t=t.replace("window.",""),t=(0,B.get)(window,t),t?h.call(this,t,e):""):t;default:return""}}function f(){var t=Q.get(this),e=G.get(this);if(e.element.dataset.adCompanion){var n=e.element.dataset.adCompanion.replace(/^#/,"");
t.$adCompanionContainer=(0,I.$)("#"+n)}}function g(t){P.call(this);var e=new CustomEvent("powaError",{detail:{error:t,id:G.get(this).elementID,powaDrive:this,powa:this}}),n=document.querySelector("body");n.dispatchEvent(e),window.dispatchEvent(e)}function v(){var t=this,e=Q.get(this),n={onAdCompanions:function(t){e.$adCompanionContainer&&e.$adCompanionContainer.elements[0]&&t.adCompanions.length&&e.$adCompanionContainer.append((0,I.$)(t.adCompanions[0].content))},onAdEnd:function(){e.$adCompanionContainer&&e.$adCompanionContainer.empty&&e.$adCompanionContainer.empty()},onComplete:function(){this.next()},onError:function(){var t=this,n=(0,j.find)(e.playlist,function(e){return e.uuid===t.videoData._id});n&&(n.error=!0),this.next()},onStart:function(){var t=this,n=(0,j.find)(e.playlist,function(e){return e.uuid===t.videoData._id});n&&(n.played=!0),e.videoStarts++}};(0,j.forEach)(PoWa.EVENTS,function(e){var i="on"+(e[0].toUpperCase()+e.slice(1));n[i]&&t.player.on(e,n[i].bind(t))})}function m(t){var e=t.uuid,n=t.env;return"function"==typeof PoWaSettings.videoAPI?PoWaSettings.videoAPI({uuid:e,env:n,type:"video"}):PoWaSettings.videoAPI.uuid+e}function w(t){var e=t.playlist,n=t.env;return PoWaSettings.videoAPI({playlist:e,env:n,type:"playlist"})}function y(t){return window.powaData=window.powaData||{},t&&t._id&&(powaData[t._id]=t),t}function b(t){var e=G.get(this);return new Promise(function(n,i){var o=!e.element.dataset.hasOwnProperty("bandito")||(0,B.parseString)(e.element.dataset.bandito);o&&!e.autoplay&&PoWaSettings.banditoAPI&&(0,B.get)(t,"additional_properties.useVariants")?(0,B.ajaxGET)(PoWaSettings.banditoAPI({type:"variant",videoID:(0,B.get)(t,"additional_properties.videoId")}),function(e){if(e=e?JSON.parse(e):null,e=e.length?e[0]:null){t.additional_properties.variant=e;var i=(0,B.get)(e,"winner_title"),o=(0,B.get)(e,"winner_thumbnail");i&&(t.headlines.basic=i),o&&(t.promo_image.url=o)}n(t)},function(){return n(t)}):n(t)})}function k(){var t=this,e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return new Promise(function(n,i){var o=Q.get(t);e=Array.isArray(e)?e:[e];var a=function(t){return{uuid:t._id,played:!1,error:!1}},r=e.map(function(e){return b.call(t,e)});Promise.all(r).then(function(t){var e=(0,j.chain)(t).map(y).map(a).value();o.playlist=o.playlist||[],o.playlist=(0,j.find)(o.playlist,function(e){return e.uuid===t[0]._id})?o.playlist:e,n(t[0])}).catch()})}function E(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?B.noop:arguments[1],i=arguments.length<=2||void 0===arguments[2]?B.noop:arguments[2],o=function(t){k.call(e,t).then(n)},a=G.get(this);window.powaData=window.powaData||{};var r=t.uuid,s=t.playlist;if(r&&powaData[r])o(powaData[r]);else{var l=a.api||a.env,u=r?m({uuid:r,env:l}):w({playlist:s,env:l}),d=r||s;d=d.replace(/\W/g,""),(0,B.getJSONP)({id:d,url:u,resolve:function(t){t=t.playlistItems||t,t.length?o(t):i({uuid:r,error:"no video data",message:"No video data available for "+r+"."})},reject:i,callbackParam:"cb"})}}function S(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?B.noop:arguments[1],i=arguments.length<=2||void 0===arguments[2]?B.noop:arguments[2];s.call(this,t,function(t){e.player?(e.videoData=t,P.call(e),e.player.once(PoWa.EVENTS.LOADED,n),e.player.loadVideo(l(t))):R.call(e,t)},i)}function A(t){console.error("["+U+"] error - "+(t.message||t)),K.get(this).trigger("error",t),this.player||g.call(this,t)}function _(){var t=this,e=K.get(this),n=G.get(this);this.player.on("*",function(e,n){K.get(t).trigger(n,e)}),e.on("*",function(t,e){n.debug&&!n.debugExclusions.includes(e)&&console.warn(e,t)})}function P(){var t=G.get(this);window.powas=window.powas||{},window.powas[t.elementID]=window.powas[t.elementID]||{};var e=this.videoData?{videoData:this.videoData}:{};(0,B.extend)(window.powas[t.elementID],{powa:this,powaDrive:this},e)}function T(){var t=G.get(this),e=Q.get(this);if(!e.reportedPoWaRender){e.reportedPoWaRender=!0;var n=new CustomEvent(PoWa.EVENTS.POWA_RENDER,{detail:{id:t.elementID,powa:this}});window.dispatchEvent(n)}}function O(t){var e=this,n=G.get(this),i=p(this.videoData),o=(0,B.extend)({adTag:function(){var t=e.player.getStatus(),n=t.adStatus&&!t.adStatus.isPreloading;return n?h.call(e):null},debug:!1,id:n.elementID,hlsJSURL:(0,L.hlsJSURL)(window.PoWaSettings.org),video:l(this.videoData),ready:function(t){e.player=t,v.call(e),_.call(e),T.call(e);var i=new CustomEvent(PoWa.EVENTS.POWA_READY,{detail:{id:n.elementID,powaDrive:e,powa:e}});n.autoinitAds&&e.player.loadAd(h.call(e,z,!0),!0);var o=document.querySelector("body");o.dispatchEvent(i),window.dispatchEvent(i)},error:function(t){g.call(e,t)},poster:i.image,autoplay:!1,promo:i,ads:!0,adHacks:!0},(0,j.map)(n.element.dataset,B.parseString),t);o.id=n.elementID,o.debug=n.element.dataset.debug===$.DEBUG.FULL,new PoWa(o)}function C(){var t=Q.get(this);(0,j.forEach)(J.get(this),function(e){var n=e.event,i=e.eventHandler;return t.$promo.off(n,i)}),J.set(this,null),O.call(this,{autoplay:!0,$container:t.$container,$promo:t.$promo})}function D(){var t=this,e=K.get(this),n=Q.get(this),i=G.get(this),o=p(this.videoData);n.$container=(0,I.$)(i.element),n.$container.css((0,B.extend)({},(0,B.notEmpty)(i.style)?i.style:B.DEFAULT_STYLE,{paddingBottom:100*(i.aspectRatio||B.SIXTEEN_BY_NINE)+"%"},B.REQUIRED_STYLE)),n.$promo=new N.PoWaShot({id:i.elementID,data:o,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template}),n.$pane=new V.PoWaPane({id:i.elementID,data:o,template:PoWaSettings.pane.template}),J.set(this,(0,j.map)(N.PoWaShot.EVENTS,function(i){var o=function(n){n=n.detail?n.detail:n,i===N.PoWaShot.EVENTS.PROMO_RENDER&&T.call(t),e.trigger(i,n),i===N.PoWaShot.EVENTS.PROMO_CUSTOM&&e.trigger(n.type,n),i===N.PoWaShot.EVENTS.PROMO_PLAY&&C.call(t)};return n.$promo.on(i,o),{event:i,eventHandler:o}})),n.$container.append(n.$promo),n.$container.append(n.$pane),K.get(this).trigger("pane")}function R(t){var e=G.get(this);this.videoData=t,P.call(this),f.call(this),PoWaSettings.videoSupport=PoWaSettings.videoSupport||(0,B.getVideoSupport)();var n=(0,B.get)(PoWaSettings,"videoSupport.hls"),i=!(e.autoinit!==$.AUTOINIT.NATIVE_HLS||!n)||e.autoinit===!0;i?O.call(this):D.call(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaDrive=void 0;var x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};n(6);var I=n(7),L=n(105),N=n(12),W=n(10),j=n(9),V=n(18),B=n(8),U="PoWaDrive",F="2e78a95",$=Object.freeze({AUTOINIT:{TRUE:!0,FALSE:!1,NATIVE_HLS:"native-hls"},DEBUG:{TRUE:!0,FALSE:!1,FULL:"full"}}),H=Object.freeze({autoinit:$.AUTOINIT.NATIVE_HLS,debug:$.DEBUG.FALSE,debugExclusions:["time","adTime","progress"]}),z="window.PoWaSettings.advertising.adTag",q=Object.freeze({advertising:{},imageResizer:function(t){return t.url},maxBitrate:{mobile:300,tablet:600,desktop:2e3},promo:{size:"medium"},streamPreference:["_master.m3u8","_mobile.m3u8",".m3u8",".mp4",".webm"]}),Y=Object.freeze({additional_properties:{imageResizerUrls:[]},headlines:{},promo_image:{},streams:[],subtitles:{urls:[]}}),K=new WeakMap,Q=new WeakMap,G=new WeakMap,J=new WeakMap,X=function(){function t(e){var n=this;if(i(this,t),["getElement","getID","getVideoData","getPlaylist","setPlaylist","loadVideo","getAdTag","loadAd","startAd","skipAd","play","pause","togglePlay","seekTime","seekPosition","jumpForward","jumpBack","mute","volume","next","showPromo","hidePromo","showControls","hideControls","showSubtitles","hideSubtitles","getStatus","on","off","once","onceIf","until"].map(function(t){return n[t]=n[t].bind(n)}),K.set(this,new W.PoWaOnPoWaOff),e=a(e),!e)return g.call(this,{error:"invalid element",message:"PoWa element is invalid"}),null;var o=(0,B.extend)({},H,(0,j.map)(e.dataset,B.parseString),{element:e,elementID:e.id});if(o.env=o.env||(0,L.getEnv)(),o.debug=o.debug===$.DEBUG.TRUE||o.debug===$.DEBUG.FULL,Q.set(this,{videoStarts:0}),G.set(this,o),r.call(this),o.uuid)E.call(this,{uuid:o.uuid},function(t){s.call(n,t,R.bind(n),A.bind(n))},A.bind(this));else if(o.playlist){var l=o.playlist;E.call(this,{playlist:l},function(t){s.call(n,t,R.bind(n),A.bind(n))},A.bind(this))}else A.call(this,{error:"missing stream ID",message:'"data-uuid" not provided.'})}return x(t,null,[{key:"VERSION",get:function(){return F}}]),x(t,[{key:"getElement",value:function(){return G.get(this).element}},{key:"getID",value:function(){return G.get(this).elementID}},{key:"getVideoData",value:function(){return this.videoData}},{key:"getPlaylist",value:function(){var t=Q.get(this).playlist;return(0,j.forEach)(t,function(t){powaData[t.uuid]&&(t.videoData=powaData[t.uuid])}),t}},{key:"setPlaylist",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=Q.get(this);Array.isArray(t)&&(e.playlist=(0,j.chain)(t).map(function(t){var e="string"==typeof t?t:t._id;if(e)return"object"===("undefined"==typeof t?"undefined":M(t))&&(powaData[e]=t),{uuid:e,played:!1,error:!1}}).compact().value())}},{key:"loadVideo",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?B.noop:arguments[1],i=arguments.length<=2||void 0===arguments[2]?B.noop:arguments[2],o=function(t){A.call(e,t),i(t)};switch("undefined"==typeof t?"undefined":M(t)){case"string":this.videoData&&t===this.videoData._id?n():E.call(this,{uuid:t},function(t){S.call(e,t,n,o)},o);break;case"object":this.videoData&&t._id===this.videoData._id?n():S.call(this,t,n,o)}}},{key:"getAdTag",value:function(){return h.call(this)}},{key:"loadAd",value:function(t){this.player&&this.player.loadAd(t)}},{key:"startAd",value:function(){this.player&&this.player.startAd()}},{key:"skipAd",value:function(){this.player&&this.player.skipAd()}},{key:"play",value:function(){this.player?this.player.play():C.call(this)}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"togglePlay",value:function(){this.player?this.player.togglePlay():C.call(this)}},{key:"seekTime",value:function(t){this.player&&this.player.seekTime(t)}},{key:"seekPosition",value:function(t){this.player&&this.player.seekPosition(t)}},{key:"jumpForward",value:function(t){this.player&&this.player.jumpForward(t)}},{key:"jumpBack",value:function(t){this.player&&this.player.jumpBack(t)}},{key:"mute",value:function(t){this.player&&this.player.mute(t)}},{key:"volume",value:function(t){this.player&&this.player.volume(t)}},{key:"next",value:function(){var t=this,e=Q.get(this);if(e.playlist&&e.playlist.length>1){var n=e.playlist.findIndex(function(e){return e.uuid===t.videoData._id});if(n>=0){var i=n+1;if(i<e.playlist.length)return this.loadVideo(e.playlist[i].uuid,this.player.play),!0}}}},{key:"showPromo",value:function(){this.player&&this.player.showPromo()}},{key:"hidePromo",value:function(){this.player&&this.player.hidePromo()}},{key:"showControls",value:function(){this.player&&this.player.showControls()}},{key:"hideControls",value:function(){this.player&&this.player.hideControls()}},{key:"showSubtitles",value:function(t){this.player&&this.player.showSubtitles(t)}},{key:"hideSubtitles",value:function(){this.player&&this.player.hideSubtitles()}},{key:"getStatus",value:function(){return this.player?this.player.getStatus():{}}},{key:"on",value:function(t,e,n){K.get(this).on(t,e)}},{key:"off",value:function(t,e){K.get(this).off(t,e)}},{key:"once",value:function(t,e,n){K.get(this).once(t,e)}},{key:"onceIf",value:function(t,e,n,i){K.get(this).onceIf(t,e,n)}},{key:"until",value:function(t,e,n,i){K.get(this).until(t,e,n)}},{key:"trigger",value:function(t){K.get(this).trigger(t)}}]),t}();e.PoWaDrive=X},function(t,e,n){"use strict";function i(){var t=arguments.length<=0||void 0===arguments[0]?"powaBoot.js":arguments[0],e=document.querySelectorAll('script[src*="'+t+'"]'),n=e.length&&e[0].src?e[0].src.toLowerCase():"",i=n?n.split("//")[1].split("/").slice(1):[],o=i.reduce(function(e,n,i){return n.includes(t.toLowerCase())?i:e},0);return 0===o?"prod":"js"===i[o-1]?"local":i[o-1]}function o(){var t=arguments.length<=0||void 0===arguments[0]?"wapo":arguments[0],e=arguments.length<=1||void 0===arguments[1]?i():arguments[1],n=arguments.length<=2||void 0===arguments[2]?"0.7.7":arguments[2];if("wapo"===t)return d[t]+"/_vendor/hlsjs/"+n+"/hls.min.js";switch(e){case"local":return"https://cdn.jsdelivr.net/hls.js/latest/hls.min.js";case"prod":return d[t]+"/"+e+"/hls.min.js";default:return d[t]+"/"+e+"/hls.min.js"}}function a(){var t=arguments.length<=0||void 0===arguments[0]?"wapo":arguments[0],e=arguments.length<=1||void 0===arguments[1]?i():arguments[1];switch(e){case"local":return"/orgs/"+t+".js";case"prod":return d[t]+"/"+e+"/"+t+".js";default:return d[t]+"/"+e+"/"+t+".js"}}function r(){var t=arguments.length<=0||void 0===arguments[0]?"wapo":arguments[0],e=arguments.length<=1||void 0===arguments[1]?i():arguments[1];switch(e){case"local":return"/js/powaBoot.js";case"prod":return d[t]+"/"+e+"/powaBoot.js";default:return d[t]+"/"+e+"/powaBoot.js"}}function s(){var t=arguments.length<=0||void 0===arguments[0]?"wapo":arguments[0],e=arguments.length<=1||void 0===arguments[1]?i():arguments[1];switch(e){case"local":return"/js/powa.js";case"prod":return d[t]+"/"+e+"/powa.js";default:return d[t]+"/"+e+"/powa.js"}}function l(){var t=arguments.length<=0||void 0===arguments[0]?"wapo":arguments[0],e=arguments.length<=1||void 0===arguments[1]?i():arguments[1];switch(e){case"local":return"/powaEmbed.html";case"prod":return d[t]+"/"+e+"/powaEmbed.html";default:return d[t]+"/"+e+"/powaEmbed.html"}}function u(){var t=arguments.length<=0||void 0===arguments[0]?"wapo":arguments[0],e=arguments.length<=1||void 0===arguments[1]?i():arguments[1];switch(e){case"local":return"/powaPlaylist.html";case"prod":return d[t]+"/"+e+"/powaPlaylist.html";default:return d[t]+"/"+e+"/powaPlaylist.html"}}Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=i,e.hlsJSURL=o,e.orgDataURL=a,e.powaBootURL=r,e.powaSourceURL=s,e.powaEmbedURL=l,e.powaPlaylistURL=u,n(20);var d={adn:"https://d3hx2fmdmxvu47.cloudfront.net",demo:"https://d328y0m0mtvzqc.cloudfront.net",gruponacion:"https://d2d765ytpxgyaz.cloudfront.net",mco:"https://dv90bhm02uda6.cloudfront.net",staging:"https://d20bvihs725teq.cloudfront.net",tgam:"https://d6e4eccju4kk3.cloudfront.net",therealnews:"https://d4sgk931q91k0.cloudfront.net",wapo:"https://d1pz6dax0t5mop.cloudfront.net"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e="";if(this.shouldSendEvent142){var n=this.playerStep>0?",event145="+this.playerStep:"";e+=",event142,"+n}return this.tracker.trackingData.isPreloadingAds&&0===this.playCounter?e+=",event126":this.playCounter>0&&(e+=",event127"),""+t+e}function r(){var t=this;this.progress=new Map,b.forEach(function(e){return t.progress.set(e,!1)})}function s(){window.chartbeatVideoLoaded||(0,m.loadScript)(E,function(t){},function(t){console.error(t)}),window.chartbeatVideoLoaded=!0}function l(t,e){for(var n=e>k?1:2,i=100*t/e,o=parseInt(e/4),r=this.powaObj&&this.powaObj.powa&&this.powaObj.powa.getVideoData()&&"live"===this.powaObj.powa.getVideoData().video_type,s=0;s<b.length;s++)if(i-n<b[s]&&b[s]<i+n&&!this.progress.get(b[s]))switch(this.progress.set(b[s],!0),b[s]){case 0:var l="";this.powaObj.discovery&&(l=this.powaObj.discovery.tracking?","+this.powaObj.discovery.tracking:"",delete this.powaObj.discovery.tracking),this.playerStep++,this.timeMarkers.event9=Date.now(),this.playCounter>0?this.tracker.send(a.call(this,"event9,event116="+parseInt(e)+",event118"+l),Object.assign({},{isVisible:(0,m.isElementInViewport)(this.el),pingCount:this.pingCount,prerollAdError:this.prerollAdError,playerCounter:this.playCounter,lastEvent:this.currentEvent},h.call(this),this.tracker.trackingData,u.call(this,this.timeMarkers.event9))):this.tracker.send(a.call(this,"event9,event116="+parseInt(e)+l),Object.assign({},{isVisible:(0,m.isElementInViewport)(this.el),pingCount:this.pingCount,prerollAdError:this.prerollAdError,playerCounter:this.playCounter,lastEvent:this.currentEvent},h.call(this),this.tracker.trackingData,u.call(this,this.timeMarkers.event9))),this.currentEvent="event9",this.timeMarkers={},this.prerollAdError=void 0;break;case 25:r||this.tracker.send(a.call(this,"event10,event117="+o),Object.assign({},{isVisible:(0,m.isElementInViewport)(this.el)},h.call(this),this.tracker.trackingData)),this.playerStep++,this.currentEvent="event10";break;case 50:r||this.tracker.send(a.call(this,"event11,event117="+o),Object.assign({},{isVisible:(0,m.isElementInViewport)(this.el)},h.call(this),this.tracker.trackingData)),this.playerStep++,this.currentEvent="event11";break;case 75:r||this.tracker.send(a.call(this,"event12,event117="+o),Object.assign({},{isVisible:(0,m.isElementInViewport)(this.el)},h.call(this),this.tracker.trackingData)),this.playerStep++,this.currentEvent="event12";break;case 100:this.tracker.send(a.call(this,"event13,event117="+o),Object.assign({},{isVisible:(0,m.isElementInViewport)(this.el),lastEvent:this.currentEvent},h.call(this),this.tracker.trackingData)),this.playerStep++,this.currentEvent="event13",this.playCounter++}}function u(t){var e={};return this.timeMarkers.lastEvent?(e.timeSinceLastEvent=t-this.timeMarkers.lastEvent,this.timeMarkers.lastEvent=t):this.timeMarkers.lastEvent=t,this.timeMarkers.event125&&(e.timeSincePromoClick=t-this.timeMarkers.event125),this.timeMarkers.event32&&(e.timeSinceAdRequest=t-this.timeMarkers.event32),this.timeMarkers.event33&&(e.timeSinceAdResponse=t-this.timeMarkers.event33),this.timeMarkers.event34&&(e.timeSinceAdSkip=t-this.timeMarkers.event34),this.timeMarkers.event7&&(e.timeSinceAdStart=t-this.timeMarkers.event7),this.timeMarkers.event8&&(e.timeSinceAdEnd=t-this.timeMarkers.event8),this.timeMarkers.event33_1&&(e.timeSinceAdWaiting=t-this.timeMarkers.event33_1),this.timeMarkers.event32_2&&(e.timeSinceAdReady=t-this.timeMarkers.event32_2),this.timeMarkers.event9996_2&&(e.timeSinceNoAdInResponse=t-this.timeMarkers.event9996_2),e}function d(t){"adMute"===t.type?t.muted||P?t.muted&&!T&&(T=!0,this.tracker.send(a.call(this,"event143"))):(P=!0,this.tracker.send(a.call(this,"event144"))):this.powa.getStatus().state&&"adPlaying"!==this.powa.getStatus().state&&(t.muted||A?t.muted&&!_&&(_=!0,this.tracker.send(a.call(this,"event128"))):(A=!0,this.tracker.send(a.call(this,"event73"))))}function c(){var t=this,e=!1,n=!1,i=!1,o=!1,c=!1;this.powa.on("promoPlay",function(t){s()}),(window.PoWaSettings.muted||y.default.allowedOnPlayer(this.el,this.powaObj.videoData))&&(this.powa.on("muted",d.bind(this)),this.powa.on("adMute",d.bind(this))),this.powa.on("time",function(e){var n=e.time,i=e.duration;i&&l.call(t,n,i)}),this.powa.on("start",function(e){t.adMeta=null,t.adPlayed=null,t.adTimeout=null,t.playerStep=0,0!==t.playCounter||t.opts.prerollOnly||f.WapoVideoTracker.initChartbeatTracking(t.powaObj),t.tracker.setComscoreTag(),r.call(t),1==y.default.allowedOnPlayer(t.el,t.powaObj.videoData)&&t.tracker.send("event142"),n=!1,i=!1,o=!1,c=!1}),this.powa.on("play",function(n){t.tracker.send("onPlay"),o&&!c&&(t.tracker.send(a.call(t,"event137"),Object.assign({},h.call(t),(0,g.formatAdMeta)(n.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount,lastEvent:t.currentEvent})),c=!0),e||(e=!0,t.opts.autoplay?(t.tracker.send(a.call(t,"event75"),h.call(t)),t.trackerEnabled=!1):n.duration&&l.call(t,0,t.powa.videoData.duration/v.ONE_SECOND))}),this.powa.on("pause",function(e){t.tracker.send("onPause");var n=void 0;try{n=t.powa.getStatus().time}catch(t){n=0}!o&&n>0&&(t.tracker.send(a.call(t,"event136"),Object.assign({},h.call(t),(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount,lastEvent:t.currentEvent})),o=!0)}),this.powa.on("complete",function(e){t.tracker.setComscoreTag(),t.tracker.send("onComplete")}),this.powa.on("adStart",function(e){var n=void 0;try{n=t.powa.getStatus().adDuration}catch(t){console.error(t)}if(!(0,g.isBlankAd)(e.adMeta)){t.playerStep++;var i=Date.now();t.tracker.send(a.call(t,"event7"),Object.assign({},h.call(t),(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount,lastEvent:t.currentEvent},u.call(t,i))),t.currentEvent="event7",t.tracker.send("adPlay",{adDuration:n}),t.timeMarkers.event7=i}}),this.powa.on("adImpression",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now();t.tracker.send(a.call(t,"event7_1"),Object.assign({},h.call(t),(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount},u.call(t,n)))}}),this.powa.on("adClick",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now(),i=e.event&&e.event.duration-e.event.remaining;t.tracker.send("event7_3",Object.assign({},{adElapsed:i},h.call(t),(0,g.formatAdMeta)(e.adMeta),u.call(t,n)))}}),this.powa.on("adComplete",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=void 0;try{n=t.powa.getStatus().adDuration}catch(t){console.error(t)}t.playerStep++;var i=Date.now();t.tracker.send(a.call(t,"event8"),Object.assign({},h.call(t),{isVisible:(0,m.isElementInViewport)(t.el),lastEvent:t.currentEvent},(0,g.formatAdMeta)(e.adMeta),u.call(t,i))),t.tracker.send("adEnd",{adDuration:n}),t.currentEvent="event8",t.timeMarkers.event8=i}}),this.powa.on("adSkip",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now(),i=e.event&&e.event.duration-e.event.remaining;t.tracker.send("event34",Object.assign({},{isVisible:(0,m.isElementInViewport)(t.el),adElapsed:i},(0,g.formatAdMeta)(e.adMeta),h.call(t),u.call(t,n))),t.timeMarkers.event34=n}}),this.powa.on("adRequest",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now();t.tracker.send("event32",Object.assign({},{isVisible:(0,m.isElementInViewport)(t.el)},(0,g.formatAdMeta)(e.adMeta),h.call(t),u.call(t,n))),t.timeMarkers.event32=n}}),this.powa.on("adReady",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now();t.tracker.send("event32_2",Object.assign({},{isVisible:(0,m.isElementInViewport)(t.el)},(0,g.formatAdMeta)(e.adMeta),h.call(t),u.call(t,n))),t.timeMarkers.event32_2=n}}),this.powa.on("adLoaded",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now();t.tracker.send("event33",Object.assign({},{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount},(0,g.formatAdMeta)(e.adMeta),h.call(t),u.call(t,n))),t.timeMarkers.event33=n}}),this.powa.on("adWaiting",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now();t.tracker.send("event33_1",Object.assign({},{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount},(0,g.formatAdMeta)(e.adMeta),h.call(t),u.call(t,n))),t.timeMarkers.event33_1=n}}),this.powa.on("adRequestTimeout",function(e){(0,g.isBlankAd)(e.adMeta)||(t.adTimeout=!0,t.tracker.send("event32_1",Object.assign({},{isVisible:(0,m.isElementInViewport)(t.el)},(0,g.formatAdMeta)(e.adMeta),h.call(t))))}),this.powa.on("error",function(e){if(!t.fatalFlags.player){var n=e&&e.nonBlocking?"event9991_04":"event9999";t.tracker.send(n,{errorType:e&&e.type,errorDetails:e&&e.type,isVisible:(0,m.isElementInViewport)(t.el)}),e&&e.fatal&&(t.fatalFlags.player=!0)}}),this.powa.on("adError",function(e){if(!(0,g.isBlankAd)(e.adMeta)){var n=Date.now();t.prerollAdError=e&&e.error,e.error&&e.error.indexOf("402")>-1?t.tracker.send("event9996_1",Object.assign({},(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),errorText:e&&e.error,prerollAdError:t.prerollAdError})):e.error&&e.error.indexOf("AdError 303: No Ads VAST response after one or more Wrappers")>-1?(t.timeMarkers.event9996_2=n,t.tracker.send("event9996_2",Object.assign({},(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),errorText:e&&e.error,prerollAdError:t.prerollAdError}))):t.tracker.send("event9996",Object.assign({},(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),errorText:e&&e.error,prerollAdError:t.prerollAdError}))}}),this.powa.on("loaded",function(e){p.call(t)}),this.powa.on("adPause",function(e){n||t.tracker.send(a.call(t,"event140"),Object.assign({},h.call(t),(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount,lastEvent:t.currentEvent})),n=!0}),this.powa.on("adPlay",function(e){n&&!i&&t.tracker.send(a.call(t,"event141"),Object.assign({},h.call(t),(0,g.formatAdMeta)(e.adMeta),{isVisible:(0,m.isElementInViewport)(t.el),pingCount:t.pingCount,lastEvent:t.currentEvent})),n&&(i=!0)}),Array.prototype.forEach.call(this.el.querySelectorAll(".powa-shot-sharing-button"),function(e){e.addEventListener("click",function(n){var i=e.getAttribute("data-social");t.tracker.send("event6",Object.assign({},h.call(t),{isVisible:(0,m.isElementInViewport)(t.el),evtAction:i,evtGroup:"share-posttv",evtModule:"share-overlay"}))})}),window.PoWaSettings.client.isMobile||window.PoWaSettings.client.isTablet?this.powa.on(PoWa.EVENTS.POWA_READY,function(){t.el.querySelector(".powa-shot-image").addEventListener("click",function(e){"1"!==t.el.getAttribute("data-powa-clicked")&&(t.el.setAttribute("data-powa-clicked","1"),t.timeMarkers.event125=Date.now(),t.tracker.send(a.call(t,"event125"),Object.assign({},h.call(t),{prerollAdError:t.prerollAdError})),t.currentEvent="event125")})}):this.el.querySelector(".powa-shot-image").addEventListener("click",function(e){"1"!==t.el.getAttribute("data-powa-clicked")&&(t.el.setAttribute("data-powa-clicked","1"),t.timeMarkers.event125=Date.now(),t.tracker.send(a.call(t,"event125"),Object.assign({},h.call(t),{prerollAdError:t.prerollAdError})),t.currentEvent="event125")}),this.powa.once("powaBucket",function(e){if(window.event139Sent)return!0;var n=(0,m.get)(window,"PoWaSettings.buckets.viewportAutoplay"),i=n.displayName+":"+n._bucket+":"+n.getFacet();t.timeMarkers.event139=Date.now(),t.tracker.send("event139",Object.assign({bucketData:i},h.call(t))),t.currentEvent="event139",window.event139Sent=!0}),this.el.addEventListener("stickyClose",function(e){t.tracker.send("event129,event148="+e.detail,h.call(t,{stickyEngaged:e.detail,sticky:!0}))},!1)}function p(){var t=this.powa.videoData,e={events:S};this.opts.prerollOnly?e.flags={sendToComscore:!1,sendToNielsen:!1,sendToVideotracker:!1,sendToOmniture:!1,sendToNewRelic:!1,sendToMpulse:!1}:this.opts.mpulse&&(e.flags={sendToMpulse:!0});var n=(0,g.getTrackingData)(Object.assign({},t,{el:this.el,playCounter:this.playCounter}));this.tracker=new f.WapoVideoTracker(e,n),this.trackerEnabled=!this.opts.autoplay}function h(t){var e=this.tracker&&this.tracker.trackingData||{},n=this.powa&&this.powa.videoData||{},i=this.powa?this.powa.getStatus():{},o=i.adStatus&&i.adStatus.adTagRequest;return void 0===o&&(o=this.powa.getAdTag()),this.adMeta=this.adMeta?this.adMeta:i.adStatus&&i.adStatus.adMeta?i.adStatus.adMeta:null,this.adPlayed=this.adPlayed?this.adPlayed:"adPlaying"===i.state||null,(0,g.formatEvars)(Object.assign({},t,e,n,{adTag:o},{sticky:this.el.classList.contains("wpv-sticky-engaged")}),this.powa,this.playCounter,Object.assign({},{blankAd:(0,g.isBlankAd)(this.adMeta),adPlayed:this.adPlayed,prerollAdError:this.prerollAdError,reason:localStorage.getItem("ptvadsreason"),timeout:this.adTimeout}))}Object.defineProperty(e,"__esModule",{value:!0}),e.PoWaAnalyticsWapo=void 0;var f=n(107),g=n(110),v=n(108),m=n(8),w=n(111),y=i(w),b=[0,25,50,75,100],k=120,E="https://static.chartbeat.com/js/chartbeat_video.js";window.chartbeatVideoLoaded=window.chartbeatVideoLoaded||!1;var S={event5_2:{name:"Promo Rendered",videotracker:!0,newrelic:!0},event5_3:{name:"Promo Viewable",videotracker:!0},event6:{name:"Share Button Clicked",videotracker:!0,omniture:!0,nielsen:!0},event125:{name:"PostTV Promo Clicked",videotracker:!0,newrelic:!0,omniture:!0,mpulse:!0},event7:{name:"Video Ad Start",omniture:!0,videotracker:!0,nielsen:!0,newrelic:!0,mpulse:!0},event7_1:{name:"Video Ad Impression",videotracker:!0,newrelic:!0},event7_3:{name:"Video Ad Click",videotracker:!0,newrelic:!0},event8:{name:"Video Ad Complete",omniture:!0,videotracker:!0,nielsen:!0,newrelic:!0,mpulse:!0},event9:{name:"Video Start",omniture:!0,videotracker:!0,nielsen:!0,newrelic:!0,mpulse:!0},event10:{name:"Video 25% complete",omniture:!0,videotracker:!0,mpulse:!0},event11:{name:"Video 50% complete",omniture:!0,videotracker:!0,mpulse:!0},event12:{name:"Video 75% complete",omniture:!0,videotracker:!0,mpulse:!0},event13:{name:"Video Complete",omniture:!0,videotracker:!0,mpulse:!0},event32:{name:"Ad Request Made",newrelic:!0,videotracker:!0},event32_1:{name:"Ad Request Timeout",newrelic:!0,videotracker:!0},event32_2:{name:"Ad Ready",newrelic:!0,videotracker:!0},event33:{name:"Ad Tag Received",newrelic:!0,videotracker:!0},event33_1:{name:"Waiting For Ad Start",newrelic:!0,videotracker:!0},event34:{name:"Skip Ad Button Clicked",newrelic:!0,videotracker:!0,omniture:!0,nielsen:!0},event73:{name:"Unmute",videotracker:!0,newrelic:!0,omniture:!0},event128:{name:"Mute",videotracker:!0,newrelic:!0,omniture:!0},event75:{name:"Autoplay",omniture:!0,videotracker:!0},event129:{name:"Sticky Player Close",omniture:!0},event136:{name:"User Pause Video",omniture:!0},event137:{name:"User Unpause Video",omniture:!0},event139:{name:"Bucket Allocated",omniture:!0,videotracker:!0},event140:{name:"Pause Preroll",omniture:!0},event141:{name:"Unpause Preroll",omniture:!0},event142:{name:"Autoplay Article",newrelic:!0,videotracker:!0},event143:{name:"Mute Preroll",omniture:!0},event144:{name:"Unmute Preroll",omniture:!0},event9996:{name:"Video ad error",videotracker:!0,newrelic:!0},event9996_1:{name:"Ad Timeout",videotracker:!0,newrelic:!0},event9996_2:{name:"No Ads in response",videotracker:!0,newrelic:!0},event999:{name:"Cannot retreieve videoData",videotracker:!0},event9990:{name:"Playback timeout",videotracker:!0},event9991_01:{name:"Error loading plugin",videotracker:!0},event9991_02:{name:"Error loading skin",videotracker:!0},event9991_03:{name:"Could not load plugin.  File not found",videotracker:!0},event9993:{name:"Player buffered",videotracker:!0},event9992:{name:"Player buffering",videotracker:!0},event9995:{name:"Missing streams",videotracker:!0},event9994:{name:"Setup error",videotracker:!0},event9995_02:{name:"Video is using youtube",videotracker:!0},event9999:{name:"Video Error",videotracker:!0,newrelic:!0},event9991_04:{name:"Non-blocking error",videotracker:!0},event126:{name:"Prefetch Flag",videotracker:!0,newrelic:!0,omniture:!0},event127:{name:"Playthrough Flag",videotracker:!0,omniture:!0},onPause:{name:"stop",comscore:!0},adPlay:{name:"adPlay",comscore:!0},adEnd:{name:"stop",comscore:!0},onPlay:{name:"play",comscore:!0},onComplete:{name:"stop",comscore:!0}},A=!1,_=!1,P=!1,T=!1;e.PoWaAnalyticsWapo=function t(e,n){var i=this;if(o(this,t),!e)throw"No PoWaDrive given";var a=e.getID();if(!window.powas&&!window.powas[a])throw"No PoWa exists with id "+a;this.opts=n||{},this.progress,this.el=document.getElementById(a),this.videoEl,this.playerStep,this.powa=e,this.powaObj=window.powas[a],this.playCounter=0,this.timeMarkers={},this.fatalFlags={player:!1,ads:!1},this.adMeta,this.adPlayed,this.adTimeout,this.shouldSendEvent142=1==y.default.allowedOnPlayer(this.el,this.powaObj.videoData),p.call(this);try{this.tracker.send("event5_2",{timeSinceDomContentLoaded:Date.now()-window.performance.timing.domInteractive})}catch(t){console.warn(t)}"true"===this.el.getAttribute("data-viewable-fired")?this.tracker.send("event5_3",h.call(this)):this.powa.once("powaViewable",function(t){i.tracker.send("event5_3",h.call(i))}),c.call(this)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.WapoVideoTracker=void 0;var a=function(){function t(t,e){
for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(108),s=n(8),l=n(109),u=i(l);e.WapoVideoTracker=function(){function t(e,n){o(this,t),this.options=Object.assign({},r.DEFAULT_OPTIONS,e),this.options.flags=Object.assign({},r.DEFAULT_FLAGS,e.flags),this.trackingData=Object.assign({},r.DEFAULT_TRACKINGDATA,n),this.options.flags.sendToMpulse&&(this.mpulse=new u.default),this.setComscoreTag(),this.debugTracking="1"===(0,s.getQueryStringParameters)().wpvDebugTracking||"true"===(0,s.getQueryStringParameters)().wpvDebugTracking}return a(t,null,[{key:"initChartbeatTracking",value:function(t){var e=window._cbv||(window._cbv=[]);e.push(t)}}]),a(t,[{key:"canOmniture",value:function(){return window.s&&"function"==typeof window.s.sendDataToOmniture}},{key:"setComscoreTag",value:function(){window.ns_&&"function"==typeof window.ns_.StreamingTag&&(this.comscoreTag=new window.ns_.StreamingTag({customerC2:"3005617"}))}},{key:"updateTrackingData",value:function(t){Object.assign(this.trackingData,t)}},{key:"send",value:function(t,e){var n="string"==typeof t?t.split(",")[0]:t,i=this.options.events[n]||{},o=Object.assign({},this.trackingData,e,{evtTime:Date.now()});this.debugTracking&&console.debug("debug send",i,t,n,e),i.omniture===!0&&this.options.flags.sendToOmniture&&this.sendDataToOmniture(i.name,t,o),i.videotracker===!0&&this.options.flags.sendToVideotracker&&this.sendDataToVideotracker(i.name,n,o),i.comscore===!0&&this.options.flags.sendToComscore&&this.sendDataToComscore(i.name,n,o),i.nielsen===!0&&this.options.flags.sendToNielsen&&this.sendDataToNielsen(i.name,n,o),i.newrelic===!0&&this.options.flags.sendToNewRelic&&this.sendDataToNewrelic(i.name,n,o),i.mpulse===!0&&this.options.flags.sendToMpulse&&this.sendDataToMpulse(i.name,n,o)}},{key:"sendDataToOmniture",value:function(t,e,n){if(!this.canOmniture())return!1;var i=Object.assign({},this.getEvarsFromTrackingData(this.trackingData),n);window.s.sendDataToOmniture(t,e,i,{wait:!0})}},{key:"getEvarsFromTrackingData",value:function(t){var e={},n=Object.keys(r.OMNITURE_EVARS);return n.forEach(function(n){var i=r.OMNITURE_EVARS[n];t[i]&&(e[n]=t[i])}),Object.assign({},r.OMNITURE_EVARS,e)}},{key:"sendDataToVideotracker",value:function(t,e,n){var i=Object.assign({},n,{evtName:t,evtType:"string"==typeof e?e:e[0]||""});Object.keys(i).forEach(function(t,e){/mediaUrl|adMeta|lastEvent/.test(t)&&delete i[t]}),i.hidden=document.hidden,i.visibilityState=document.visibilityState,(0,s.getJSONP)({url:r.VIDEOTRACKER_URL,resolve:function(t){t.length||console.error("Could not send to video tracker")},reject:function(t){return console.error("Could not send to video tracker")},callbackParam:"cbVideoTracker",id:"tracker-"+Date.now(),data:i})}},{key:"sendDataToComscore",value:function(t,e,n){function i(){return{ns_st_ci:n.videoId||"*null",ns_st_cl:n.durationInSeconds*r.ONE_SECOND||"*null",ns_st_st:"*null",ns_st_pu:"*null",ns_st_pr:"*null",ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ge:"*null",ns_st_ti:"*null",ns_st_ia:"*null",ns_st_ce:"*null",ns_st_ddt:"*null",ns_st_tdt:"*null",c3:"*null",c4:"*null",c6:"*null"}}function o(){return{ns_st_cl:n.adDuration*r.ONE_SECOND||"*null"}}if(window.ns_&&"function"==typeof window.ns_.StreamingTag)switch(this.comscoreTag||(this.comscoreTag=this.setComscoreTag()),t){case"play":this.comscoreTag.playVideoContentPart(i());break;case"adPlay":this.comscoreTag.playVideoAdvertisement(o());break;case"stop":this.comscoreTag.stop()}}},{key:"sendDataToNielsen",value:function(t,e,n){if("event9"===e){var i="ci=us-904793",o="&c6=vc,b01",a="&cc=1",r="&rnd="+Math.ceil(1e9*Math.random()),s="&tl=dav0-"+encodeURIComponent(n.title||""),l="&cg="+encodeURIComponent(n.category||""),u="//secure-us.imrworldwide.com/cgi-bin/m?"+i+o+a+r+s+l,d=new Image;d.src=u}}},{key:"sendDataToNewrelic",value:function(t,e,n){if(window.newrelic&&"function"==typeof window.newrelic.addPageAction){var i=Object.assign({},n,{evtType:"string"==typeof e?e:e[0]||""});i.hidden=document.hidden,i.visibilityState=document.visibilityState,window.newrelic.addPageAction(t,i)}}},{key:"sendDataToMpulse",value:function(t,e,n){if(this.debugTracking&&console.debug("sendDataToMpulse"),!window.BOOMR)return void(this.debugTracking&&console.debug("No BOOMR on page"));var i={};i[e]=n.timeSinceLastEvent||0,this.mpulse.addEvent(n.videoId,i,n)}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.VIDEOTRACKER_URL="//videotracker.washingtonpost.com/index.html",e.ONE_SECOND=1e3,e.DEFAULT_OPTIONS={events:{}},e.DEFAULT_FLAGS={sendToComscore:!0,sendToNielsen:!0,sendToVideotracker:!0,sendToOmniture:!0,sendToNewRelic:!0,sendToMpulse:!1},e.DEFAULT_TRACKINGDATA={page:void 0,channel:void 0,title:void 0,type:void 0,adDuration:void 0,playerType:void 0},e.OMNITURE_EVARS={eVar1:"page",eVar2:"channel",eVar6:"title",eVar8:"producer",eVar12:"videoId",eVar13:"title",eVar17:"videoType",eVar42:"videoSource",eVar47:"subsection",eVar49:"playerType",eVar58:"washingtonpost.com",prop58:"washingtonpost.com"},e.MPULSE_INTERVAL=15e3,e.MPULSE_FILTERS=["videoId","webview","videoType","embedContext","isIframe","sticky","isPreloadingAd","playerType","url","lastEvent"]},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){var t=this;window.mpulseInterval=window.setInterval(function(){Object.keys(window.mpulseEvents).forEach(function(e){t.setDimensionsByUuid(e);var n=t.popEventsForUuid(e);if(window.BOOMR&&window.BOOMR.sendTimers&&window.BOOMR.sendMetrics&&n.length){var i=t.formatTimersToSend(n);window.BOOMR.sendTimers(i),window.BOOMR.sendTimers(t.formatMetricsToSend(i))}})},s.MPULSE_INTERVAL)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(108),l=function(){function t(){o(this,t),window.mpulseEvents=window.mpulseEvents||{},!window.mpulseInterval&&a.call(this)}return r(t,[{key:"createUuid",value:function(t,e){return window.mpulseEvents[t]={},window.mpulseEvents[t].params=e||{},window.mpulseEvents[t].eventsWaiting=[],window.mpulseEvents[t]}},{key:"getByUuid",value:function(t){return window.mpulseEvents[t]?window.mpulseEvents[t]:null}},{key:"addEvent",value:function(t,e,n){var i=this.getByUuid(t);i||(i=this.createUuid(t,n)),i&&i.eventsWaiting.push(e)}},{key:"formatTimersToSend",value:function(t){return Object.assign.apply(Object,[{}].concat(i(t)))}},{key:"formatMetricsToSend",value:function(t){return Object.keys(t).forEach(function(e){t[e]=1}),t}},{key:"popEventsForUuid",value:function(t){var e=this.getByUuid(t);if(e&&e.eventsWaiting){var n=e.eventsWaiting;return e.eventsWaiting=[],n}return null}},{key:"setDimensionsByParams",value:function(t){s.MPULSE_FILTERS.forEach(function(e){window["mpulseVideo_"+e]=t[e]})}},{key:"setDimensionsByUuid",value:function(t){var e=this.getByUuid(t);e&&e.params&&this.setDimensionsByParams(e.params)}}]),t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return t.isChrome?"chrome":t.isSafari?"safari":t.isSilk?"silk":t.isIE?"ie":t.isFirefox?"firefox":t.isAndroindBrowser?"android":t.isSamsungBrowser?"samsung":""}function a(t){return t.isAndroid?"android":t.isKindle?"kindle":t.isMac?"mac":t.isLinux?"linux":t.isIOS?"ios":t.isWindows?"windows":t.isChromeOs?"chromeOS":""}function r(t){var e=t||"16:9",n=e.split(":");return n.length>1&&parseInt(n[0])<parseInt(n[1])?"vertical":"horizontal"}function s(t){var e=window!=window.parent?window.parent:window,n=t.getBoundingClientRect(),i=e.pageYOffset||document.documentElement.scrollTop;return n.top+i}function l(){return"amp"===T&&/freshcontent=1/.test(document.referrer)?"ampfresh":"amp"===T?"amphtml":T?T:window.self===window.top&&document.domain.indexOf("washingtonpost.com")>-1?"www.washingtonpost.com":window.self!==window.top&&"document.domain"==document.domain&&document.domain===window.top.document.domain?"www.washingtonpost.com":void 0}function u(t,e){var n="The Washington Post";return e===n&&t?"editors credit":"None"}function d(t,e,n){var i=new Date(e).toLocaleDateString("en-US"),o=t?t.toLowerCase()+":":"";return o+"video - "+i+" - "+n}function c(t,e){var n=!1,i=e||"";return"android"===t&&i.indexOf("Version")>-1?n=!0:"ios"===t&&i.indexOf("Version")===-1&&(n=!0),n}function p(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t&&t.el,n="posttv-embed"+(T?"-"+T:"");return e.getAttribute("data-player-type")?n=e.getAttribute("data-player-type"):"true"===e.getAttribute("data-discovery")?n="posttv-embed-playlist":(0,S.get)(window,"window.wp_meta_data.isHomepage")===!0?n="posttv-embed-hp":window.self!==window.top?n="posttv-embed-iframe":window.wp_pb&&/video-leaf-page/.test(window.wp_pb.pageName)&&(n="posttv-leaf"),n}function h(){var t=arguments.length<=0||void 0===arguments[0]?"powaBoot.js":arguments[0],e=document.querySelectorAll('script[src*="'+t+'"]'),n=e.length&&e[0].src?e[0].src.toLowerCase():"",i=n?n.split("//")[1].split("/").slice(1):[],o=i.reduce(function(e,n,i){return n.indexOf(t.toLowerCase())>-1?i:e},0);return 0===o?"prod":"js"===i[o-1]?"local":i[o-1]}function f(){var t=arguments.length<=0||void 0===arguments[0]?"powaBoot.js":arguments[0],e=document.querySelectorAll('script[src*="'+t+'"]'),n=e.length&&e[0].src?e[0].src.toLowerCase():"",i=(0,S.getQueryStringParameters)(n&&n.split("?")[1]?n.split("?")[1]:"");return i._?i._:"none"}function g(t){return window!=window.parent?null:"undefined"!=typeof t.nthVideoOnPage&&"undefined"!=typeof t.offsetTop?t.sticky||t.stickyEngaged?t.nthVideoOnPage+":"+Math.floor(t.offsetTop)+":sticky":t.nthVideoOnPage+":"+Math.floor(t.offsetTop):""}function v(t){var e=(0,S.get)(window,"PoWaSettings.buckets["+t+"]");if(!e)return"";var n=t,i=e._bucket,o=e.getFacet()||"false",a=e.getPrefix();return n+":"+i+":"+o+":"+a}function m(t){var e=new Date(t);return e.getTime()}function w(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e={};try{var n=window.PoWaSettings.client,i=a(n),u=n.isMobile?"mobile":n.isTablet?"tablet":"desktop";e=Object.assign(e,{browser:o(n),browserVersion:n.version,os:i,webview:c(i,window.navigator.userAgent),deviceType:u})}catch(t){console.warn("Error when accessing window.PoWaSettings",t)}try{var d=P.default.allowedOnPlayer(t.el,t);e=Object.assign(e,{articleAutoplay:d,shape:r(t.el.getAttribute("data-aspect-ratio")),nthVideoOnPage:parseInt(t.el.getAttribute("data-nth-video-on-page")),offsetTop:s(t.el),sticky:!!t.el.classList.contains("wpv-sticky-engaged"),isPreloadingAds:"1"===t.el.getAttribute("data-autoinit-ads")||"true"===t.el.getAttribute("data-autoinit-ads")})}catch(t){console.warn("Error when attempting to grab root powa element",t)}var g=window;//!= window.parent ? window.parent : window; // see if iframe
if("undefined"!=typeof g.s)try{e=Object.assign(e,{page:g.s.pageName,channel:g.s.channel,type:g.s.prop3})}catch(t){console.warn("Error when accessing window.s",t)}try{var v=window.powas[t.el.id],w=v.powa.getStatus();e=Object.assign(e,{adDuration:w.adDuration?w.adDuration:void 0})}catch(t){console.warn("Error when accessing player")}return Object.assign(e,{vendor:"PoWa",title:t.headlines&&t.headlines.basic?t.headlines.basic:"",videoId:t._id||"",videoName:t.headlines&&t.headlines.basic?t.headlines.basic:"",videoType:t.liveEventConfig&&t.liveEventConfig.streams.length?"livestream":"video",videoSource:t.source&&t.source.name||"",dateFirstPublished:m(t.first_publish_date),dateLastPublished:m(t.last_updated_date),creativeType:"",subsection:t.additional_properties&&t.additional_properties.subsection?t.additional_properties.subsection:"",url:window.location.href.split("?")[0],urlQueryString:window.location.search.split("?")[1],urlHash:window.location.hash.split("#")[1],HTTP_REFERER:document.referrer,playerType:p(t),xWpSplit:(0,S.getCookie)("X-WP-Split")||"",sessionId:(0,S.getCookie)("s_vi")||"",durationInSeconds:t.duration?t.duration/1e3:0,embedContext:T,site:l(),isIframe:window.self!==window.top,coastguard:window.coastguard?1:0,templateName:window.wp_pb&&window.wp_pb.pageName||"",playCounter:t.playCounter,haveNewRelic:"object"===E(window.newrelic),ptvenv:h(),cachetoken:f(),powaVersion:window.PoWa&&window.PoWa.VERSION}),Object.keys(e).forEach(function(t,n){null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t]}),e}function y(t){function e(){var t=n.adWrapperCreativeIds||[],e=n.creativeId||"";return t.push(e),t.filter(function(t){return!!t}).join(",")}var n=t||{};return{vpaid:n.vpaid,numberOfRedirects:n.adWrapperIds?n.adWrapperIds.length:"",adTimeoutLength:n.adTimeoutLength||"",adId:n.id||"",adQueryId:n.adQueryId||"",creativeId:e(),title:n.title||"",description:n.description||"",mediaUrl:n.mediaUrl,adSystem:n.adSystem||"",adMeta:JSON.stringify(n),isPreloadingAd:n.isPreloading}}function b(t,e,n){function i(n,i,a){var r="";return i&&(r+=Math.round(i)+":"),r+="undefined"!=typeof t.adTag?""===t.adTag?"noad":n&&"undefined"!=typeof a&&a<1?"prefetched":"notfetched":"undefined",r+=o.blankAd?":reqblank":o.adPlayed?":reqshow":o.prerollAdError?":error":e&&e.element&&t&&!window.PoWaSettings.advertising.adAllowed(e.element,t)?":noreq":o.timeout?":reqTimeout":":undefined"}var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a={},r="",s="";s=e&&e.getStatus().adDuration;try{r=t.credits.by[0].name}catch(t){console.warn(t)}if(!r)try{r=t.additional_properties.lastPublishedBy.name+" "+t.additional_properties.lastPublishedBy.lastname}catch(t){console.warn(t)}var c=d(t.subsection,t.dateLastPublished,t.title);return Object.assign({},a,{eVar5:v("viewportAutoplay"),eVar8:r,eVar13:c,eVar36:g(t),eVar37:parseInt(t.duration/A.ONE_SECOND)+":"+t.shape,eVar41:t.additional_properties&&t.additional_properties.videoCategory||"",eVar43:u(r,t.videoSource),eVar44:t.os+" "+t.browser+" "+t.browserVersion,eVar48:i(t.isPreloadingAds,s,n),eVar48Debug:!!e+", "+(e&&!!e.player)+", "+(e&&e.player&&E(e.player.adTag)),eVar49:t.playerType,eVar50:"powa:html5",eVar58:l(),prop58:l()})}function k(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=["715998959","138210079292"];return"string"==typeof t.creativeId?e.includes(t.creativeId):null}Object.defineProperty(e,"__esModule",{value:!0});var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.getTrackingData=w,e.formatAdMeta=y,e.formatEvars=b,e.isBlankAd=k;var S=n(8),A=n(108),_=n(111),P=i(_),T=function(){return window.wp_meta_data&&window.wp_meta_data.isPWA===!0?"pwa":"pwa"===window.wp_site?"pwa":/^(fbInstant|amp|pwa)$/.test((0,S.getQueryStringParameters)().embedContext)?(0,S.getQueryStringParameters)().embedContext.toLowerCase():""}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(9),r=n(8),s=n(112),l={VIEWABLE:"powaViewable"},u={facets:{TRUE_STICKY:45,TRUE_NO_STICKY:[46,90],FALSE_STICKY:[91,95],FALSE_NO_STICKY:[96,100]},prefix:"20171221",facetStorage:!0};window.PoWaSettings=window.PoWaSettings||{},PoWaSettings.buckets=PoWaSettings.buckets||{},PoWaSettings.buckets.viewportAutoplay=new s.Bucket("viewportAutoplay",u);var d=(0,a.map)((0,r.getQueryStringParameters)(),r.parseString),c=d.autoplay,p=0!=c&&"0"!==c&&(1==c||"1"===c||null),h=d.muted,f=0!=h&&"0"!==h&&(1==h||"1"===h||null),g="function"==typeof window.wpvidAutoplayDisabled&&window.wpvidAutoplayDisabled(),v=!0,m=!0,w=!0,y=function(){function t(e){if(i(this,t),!e.id&&!e.powa)throw"Invalid settings to setup Viewport Autoplay";this.start=this.start.bind(this),this._el=document.getElementById(e.id),this._powa=e.powa;var n=t.allowedOnPlayer(this._el,(0,r.get)(this._powa,"videoData"));n===!0&&((0,r.isElementInViewport)(this._el)?this.start():this._powa.once(l.VIEWABLE,this.start))}return o(t,[{key:"start",value:function(){var t=this;this._powa.play(),(PoWaSettings.client.isMobile||PoWaSettings.client.isTablet)&&this._powa.once(PoWa.EVENTS.MEDIA_CLICK,function(e){t._powa.mute()})}}],[{key:"allowedOnPage",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if("boolean"==typeof p)return p;var e=document.referrer||d.referrer||"";try{window.URL&&(e=new URL(e).origin+"/")}catch(t){}var n=/(facebook\.com|\/t\.co\/|reddit\.com|linkedin\.com|youtube\.com|digg\.com)/,i=n.test(e),o=1==(0,r.getCookie)("rplsb");PoWaSettings.client=PoWaSettings.client||(0,r.sniffClient)();var a=(!(PoWaSettings.client.isMobile||PoWaSettings.client.isTablet)||w)&&!PoWaSettings.client.isIE,s=(0,r.get)(window,"wp_pb.pageName")||d.pageName||"",l=s.startsWith("article")&&"article-enterprise"!==s,u=!t||(PoWaSettings.buckets.viewportAutoplay.in("TRUE_STICKY")||PoWaSettings.buckets.viewportAutoplay.in("TRUE_NO_STICKY"));return!!i&&!o&&a&&l&&u}},{key:"allowedOnPlayer",value:function(e,n){e&&n||console.warn("allowedOnPlayer() missing either el or videojson, will not function correctly");var i=e.getAttribute("data-nth-video-on-page"),o="function"==typeof window.wpvidAutoplayDisabled&&window.wpvidAutoplayDisabled(),a=(0,r.get)(n,"additional_properties.advertising.enableAutoPreview",!1)===!1;return t.allowedOnPage()?"true"==e.getAttribute("data-viewport-autoplay")?o?"ops-disable":!a||"editorial-disable":"false_"+(parseInt(i)+1):"0"!==i&&null}}]),t}();e.default=y,window.PoWaSettings=window.PoWaSettings||{},PoWaSettings.autoplay=function(){return g?"ops-disable":"boolean"==typeof p?p:(!window.wp_pb||"video-leaf-page"!==window.wp_pb.pageName)&&("function"==typeof y.allowedOnPage?y.allowedOnPage():v)}(),PoWaSettings.muted=function(){return!g&&("boolean"==typeof f?f:(!window.wp_pb||"video-leaf-page"!==window.wp_pb.pageName)&&("function"==typeof y.allowedOnPage?y.allowedOnPage():m))}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Bucket=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(8),r={prefix:"powaBucket"},s=1,l=100,u=365,d="Bucket";e.Bucket=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(i(this,t),this.settings=Object.assign({},r,n),this.localStorageSupport=(0,a.isLocalStorageSupported)(),!e)throw"Invalid settings to setup Bucket";this.name="powaBucket__"+e,this.facetStorageName="powaBucket_"+e,this.displayName=e,this._initFacets(this.settings.facets),this._migrateToInternal();var o=this._getExistingBucket();o?(this._bucket=o,this._facet=this.getFacet()):(o=this._setNewBucket(),this.newAllocation=!0),this.settings.facetStorage&&this._setFacetStorage()}return o(t,[{key:"in",value:function(){var t=void 0,e=void 0,n=void 0;if(0===arguments.length){if(t=this.facets.true,!t)return console.warn("["+d+"] in() called without arguments, but no true facet defined -- returning false"),!1;e=t[0],n=t[1]}else if(1===arguments.length&&"string"==typeof arguments[0]){if(t=this.facets[arguments[0]],!t)return console.warn("["+d+"] in() called with facet "+arguments[0]+", but no such facet found -- returning false"),!1;e=t[0],n=t[1]}else arguments.length>=2&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e=arguments[0],n=arguments[1]);return(0,a.isNumWithin)(this._bucket,e,n)}},{key:"getFacet",value:function(){var t=this,e=void 0;return Object.keys(this.facets).forEach(function(n){t.in(n)&&(e=n)}),e}},{key:"getPrefix",value:function(){return this.settings.prefix}},{key:"getBucket",value:function(){return this._bucket}},{key:"_initFacets",value:function(t){var e=this;if(this.facets={},Object.keys(t).forEach(function(n){var i=t[n];"number"==typeof i&&(0,a.isNumWithin)(i,s,l)?e.facets[n]=[s,i]:e.facets[n]=i}),this.facets.hasOwnProperty("true")&&!this.facets.hasOwnProperty("false")){var n=t.true,i=n+1;this.facets.false=[i,l]}}},{key:"_getExistingBucket",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.name:arguments[0],e=this._getStorage(t)||"",n=e.split("|");if(2===n.length&&n[0]===this.settings.prefix){var i=parseInt(n[1]);return(0,a.isInteger)(i)&&(0,a.isNumWithin)(i,s,l)?i:void 0}}},{key:"_setNewBucket",value:function(t){var e=t||(0,a.getRandomNumber)(s,l);this._bucket=e,this._facet=this.getFacet();var n=this.settings.prefix+"|"+e;return this._setStorage(this.name,n),e}},{key:"_setFacetStorage",value:function(){var t=this._facet?this._facet+"|":"",e=""+t+this.settings.prefix;this._setStorage(this.facetStorageName,e)}},{key:"_getStorage",value:function(t){return this.localStorageSupport?localStorage.getItem(t):(0,a.getCookie)(t)}},{key:"_setStorage",value:function(t,e){this.localStorageSupport?localStorage.setItem(t,e):(0,a.setCookie)(t,e,u)}},{key:"_migrateToInternal",value:function(){var t=this._getExistingBucket(this.facetStorageName),e=this._getExistingBucket(this.name);t&&"undefined"==typeof e&&(this._bucket=t,this._facet=this.getFacet(),this._setNewBucket(t))}}]),t}()},function(t,e){"use strict";function n(t){this._player=t,this._startedPlayTs,this._lastPlayTs,this._totaTimeSincePlay=0,this._sawPreroll=!1,this._complete=!1;var e=this;t&&(t.powa.on("start",function(t){e._startedPlayTs=Date.now()}),t.powa.on("play",function(t){e._lastPlayTs=Date.now()}),t.powa.on("complete",function(t){e._complete=!0}),t.powa.on("adStart",function(t){e._sawPreroll=!0}))}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.WapoStrategy=n,n.ContentType={AD:"ad",CONTENT:"ct"},n.AdPosition={PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"},n.VideoState={UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"},n.prototype.isReady=function(){return"undefined"!=typeof this._player.powa},n.prototype.getTitle=function(){try{return this._player.videoData.headlines.basic}catch(t){return""}},n.prototype.getVideoPath=function(){try{return this._player.powa.videoData._id}catch(t){return""}},n.prototype.getContentType=function(){try{return this._player.powa.getStatus().adStatus.running?n.ContentType.AD:n.ContentType.CONTENT}catch(t){return n.ContentType.CONTENT}},n.prototype.getAdPosition=function(){return n.AdPosition.PREROLL},n.prototype.getTotalDuration=function(){try{return this._video.videoData.duration}catch(t){return 0}},n.prototype.getState=function(){if(this._complete)return n.VideoState.COMPLETED;try{var t=this._player.powa.getStatus().state;switch(t){case"playing":return n.VideoState.PLAYED;case"paused":return n.VideoState.STOPPED;case"idle":return n.VideoState.UNPLAYED}}catch(t){return""}},n.prototype.getCurrentPlayTime=function(){try{return this._player.powa.getStatus().time}catch(t){return 0}},n.prototype.getBitrate=function(){},n.prototype.getThumbnailPath=function(){try{return this._player.powa.element.querySelector(".powa-shot-image").style.backgroundImage.replace(/^url\("https?\:\/\//,"").replace(/^"\)/,"")}catch(t){return""}},n.prototype.getPlayerType=function(){try{return this._player.videoData.type}catch(t){return""}},n.prototype.getViewStartTime=function(){return this._startedPlayTs?Date.now()-this._startedPlayTs:0},n.prototype.getViewPlayTime=function(){try{if("playing"===this._player.powa.getState()&&this._lastPlayTs)return this._totaTimeSincePlay+Date.now()-this._lastPlayTs}catch(t){return this._totaTimeSincePlay}},n.prototype.getViewAdPlayTime=function(){return this._sawPreroll&&this._lastPlayTs?Date.now()-this._startedPlayTs:0},n.verify=function(t){return t&&"object"===i(t.powa)&&"object"===i(t.powaDrive)&&"object"===i(t.videoData)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(){var t=0;try{t=parseInt(localStorage.getItem("videoplays"))}catch(t){console.error(t)}return isNaN(t)?0:t}function a(){var t=o();return t%1===0}function r(t){return window.wapoTrendingVideos&&window.wapoTrendingVideos.indexOf(t._id)>-1}var s=n(7),l=n(9),u=n(8),d=n(115),c=n(116),p=n(117),h=n(118),f=n(119),g=i(f),v=n(120),m=n(121),w=i(m),y=n(111),b=i(y);n(122),n(123);var k=(0,l.map)((0,u.getQueryStringParameters)(),u.parseString);window.PoWaSettings=window.PoWaSettings||{};var E=k.ptvads;try{E=E||localStorage.getItem("ptvadsMode")}catch(t){console.error(t)}PoWaSettings.advertising=PoWaSettings.advertising||{adBar:!0,adAllowed:function(t,e){if(!t&&!e)throw"Invlalid params to determine is ad is allowed";var n="1"===t.getAttribute("data-preroll-only");return"block"!==E&&(!!k.adTag||(!!n||(!e||!e.additional_properties||0!=e.additional_properties.playVideoAds)&&("force"===E||(!!r(e)||!!a()))))},adTag:function(){return function(t){function e(t){console.debug("[shouldPlayAd]",t);try{localStorage.setItem("ptvadsreason",t)}catch(t){console.error(t)}}var n=o(),i=document.getElementById(t.id),s=t.videoData,l="1"===i.getAttribute("data-preroll-only"),u=b.default.allowedOnPlayer(i,s);try{if(k.hasOwnProperty("bypassBlockPreroll")===!1&&"function"==typeof window.blockPreroll&&window.blockPreroll(s)===!0)return e("false, blocked by blockPreroll()"),""}catch(t){console.error(t)}if("block"===E)return e("false, ptvads block",this),"";var c=window.wp_meta_data&&window.wp_meta_data.clavis&&Array.isArray(window.wp_meta_data.clavis.keywords)?window.wp_meta_data.clavis.keywords:void 0,p=s&&s.streams&&s.streams[0]?s.streams[0].height/s.streams[0].width:.5625;if(k.adTag)return e("true, adTag querystring param"),decodeURIComponent(k.adTag);if(l){var h=i.adSettings||{};h.articleAutoplay=!1,k.adSetZone&&(h.adSetZone=k.adSetZone),c&&(h.haystack=h.haystack||[],h.haystack.push(c)),h.aspectRatio=p,"function"==typeof window.directToDFPCheck&&window.directToDFPCheck(h.adSetZone)===!0&&(console.debug("turning off indexTag for",h.adSetZone),h.indexTag=!1);var f=new d.WapoVideoAdTagUrl(h).getAdTagUrl();return e("true, is preroll plugin",{adTagUrl:f}),f}if(0==s.additional_properties.playVideoAds)return e("false, disabled in data"),"";var g=t.isPreloadingAds?PoWaSettings.advertising.prefetchAdTimeouts.requestAdsTimeout:PoWaSettings.advertising.adTimeouts.requestAdsTimeout,v=k.adSetZone||s.additional_properties.videoAdZone,m="",w=!0;if("how-to-adult"===s.additional_properties.videoCategory&&(console.debug("forcing how-to-adult"),v="wpni.video.style/howtoadult",w=!1),u===!0&&(console.debug("turning off indexTag for autoplay"),w=!1),"function"==typeof window.directToDFPCheck&&window.directToDFPCheck(v)===!0&&(console.debug("turning off indexTag for",v),w=!1),v&&v.split("/")[1]){var y=v.split("/");v=y[0];for(var S=1;S<y.length;S++)m="/"+y[S]}var A={uuid:t.videoData&&t.videoData._id,adSetZone:v,primarySiteNode:m,haystack:[s.headlines.basic,s.description&&s.description.basic,c],indexTag:w,tubeMogul:!1,isTrending:r(t),requestAdsTimeout:g,aspectRatio:p,isPreloadingAds:t.isPreloadingAds,isPlaythrough:t.isPlaythrough,articleAutoplay:u},_=new d.WapoVideoAdTagUrl(A).getAdTagUrl();return"force"===E?(e("true, ptvads force"),_):r(t)?(e("true, is trending"),_):a()?(e("true, due for ad",{videosPlayed:n,adTagUrl:_}),_):(e("false, not due for ad",{videosPlayed:n}),"")}}(),moatID:"washingtonpostjsvideo715452244896",adTimeouts:{vastLoadTimeout:5,loadVideoTimeout:8,requestAdsTimeout:8},prefetchAdTimeouts:{vastLoadTimeout:10,loadVideoTimeout:10,requestAdsTimeout:10}},PoWaSettings.imageResizer=PoWaSettings.imageResizer||function(t){var e=arguments.length<=1||void 0===arguments[1]?800:arguments[1],n=t.url,i=void 0===n?"https://www.washingtonpost.com/posttv/resources/img/posttv/posttv_error_black.jpg":n,o=t.height,a=void 0===o?9:o,r=t.width,s=void 0===r?16:r,l=void 0,u=void 0,d=void 0;return s>a?(d=a/s,l=e,u=e*d):(d=s/a,u=e,l=e*d),"https://img.washingtonpost.com/wp-apps/imrs.php?src="+i+"&w="+l+"&h="+u},PoWaSettings.maxBitrate=PoWaSettings.maxBitrate||{mobile:300,tablet:600,desktop:2e3},PoWaSettings.org=PoWaSettings.org||"wapo",PoWaSettings.promo=PoWaSettings.promo||{size:"medium",style:{},template:function(t){function e(t){var e=(0,l.find)(t.streams,function(t){return"gif-mp4"===t.stream_type});return e?e.url:null}function n(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1],n=(0,u.get)(t,"videoData.promo_image.url"),i=n&&n.endsWith(".gif")?n:null,o=(0,u.get)(t,"videoData.streams"),a=o&&(0,u.get)(t,"videoData.additional_properties.gifAsThumbnail")?(0,l.find)(o,function(t){return t.height&&t.width&&"gif"===t.stream_type}):null,r=(0,u.get)(t,"videoData.additional_properties.imageResizerUrls"),s=r?(0,l.find)(r,function(t){return t&&t.size&&t.size===PoWaSettings.promo.size}):null;return i?i:e&&a&&a.url?a.url:s&&s.url?s.url:PoWaSettings.imageResizer((0,u.get)(t,"videoData.promo_image"))}function i(t){var e='<span class="powa-custom-btn-text"></span> ',n=(0,u.get)(t,"videoData.duration")?'<span class="franklin-light powa-shot-duration">'+(0,u.formatTime)(t.videoData.duration/u.ONE_SECOND)+"</span>":null;return'<i class="powa-shot-click powa-shot-click-play fa fa-play powa-shot-play-btn-icon" aria-hidden="true"></i>'+(e?" "+e:"")+(n?" "+n:"")}function o(t){return'\n\t\t\t\t<div class="powa-shot-image powa-shot-click powa-shot-click-play" style="background-image: url(\''+n(t)+'\')">\n\t\t\t\t\t<div class="powa-shot-play-btn powa-shot-click powa-shot-click-play">'+i(t)+'</div>\n\t\t\t\t\t<div class="powa-shot-logo" data-logo="'+t.logo+'"></div>\n\t\t\t\t</div>\n\t\t\t'}function a(t){return'\n\t\t\t\t<div class="powa-shot-image powa-shot-click powa-shot-click-play" style="background-image: url(\''+n(t,!1)+'\')">\n\t\t\t\t\t<video class="powa-shot-promo-video" src="'+t.promoVideo+'" playsinline muted autoplay loop></video>\n\t\t\t\t\t<div class="powa-shot-play-btn powa-shot-click powa-shot-click-play">'+i(t)+'</div>\n\t\t\t\t\t<div class="powa-shot-logo" data-logo="'+t.logo+'"></div>\n\t\t\t\t</div>\n\t\t\t'}function r(t){return window.powaData[(0,u.get)(t,"videoData._id")].showErrorPane=!0,'\n\t\t\t\t<div class="powa-unsupported-error">\n\t\t\t\t\t<div>This browser does not support HLS video streaming.<br>Switch to another browser to watch.</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="powa-shot-image" style="background-image: url(\''+n(t)+'\')">\n\t\t\t\t\t<div class="powa-shot-logo" data-logo="'+t.logo+'"></div>\n\t\t\t\t</div>\n\t\t\t'}return t.logo="The Washington Post"===(0,u.get)(t,"videoData.source.name")?"wapo-"+(0,u.get)(t,"videoData.additional_properties.videoCategory"):"",t.promoVideo=t.promoVideo||e((0,u.get)(t,"videoData",{})),"live"!==(0,u.get)(t,"videoData.video_type")||PoWaSettings.videoSupport.hls||PoWaSettings.videoSupport.hlsJS?t.promoVideo&&(0,u.get)(t,"videoData.additional_properties.gifAsThumbnail")?a(t):o(t):r(t)}},PoWaSettings.pane=PoWaSettings.pane||{template:function t(){function e(t){var e=t.description?t.description.basic:t.subheadlines?t.subheadlines.basic:"";return""+encodeURIComponent(e+" "+t.short_url)}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.videoData||{},o="&lt;iframe width='480' height='290' scrolling='no' src='https://www.washingtonpost.com/video/c/embed/"+i._id+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;",t=void 0;return t=PoWaSettings.videoSupport.hlsJS===!1&&""===PoWaSettings.videoSupport.hls&&"live"===i.video_type?'\n\t\t\t<div class="powa-shot-masthead">\n\t\t\t\t<div class="powa-shot-title shadow franklin-light">'+(n.title?n.title:"")+"</div>\n\t\t\t\t</div>":'\n\t\t\t<div class="powa-shot-masthead">\n\t\t\t\t<div class="powa-shot-title shadow franklin-light">'+(n.title?n.title:"")+'</div>\n\t\t\t\t<div class="powa-shot-sharing">\n\t\t\t\t\t<div class="franklin-bold powa-shot-sharing-embed powa-shot-sharing-item">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class="powa-shot-sharing-title">Embed</span>\n\t\t\t\t\t\t\t<i class="fa fa-code icon-code powa-shot-tooltip-icon shadow"></i>\n\t\t\t\t\t\t\t<div class="powa-shot-tooltip-triangle"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="powa-shot-sharing-embed-popup powa-shot-tooltip">\n\t\t\t\t\t\t\t<input class="powa-shot-sharing-embed-code" type="text" value="'+o+'"><!--\n\t\t\t\t\t\t\t--><span class="franklin-bold powa-shot-copy">Copy</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="franklin-bold powa-shot-sharing-social powa-shot-sharing-item">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class="powa-shot-sharing-title">Share</span>\n\t\t\t\t\t\t\t<i class="fa fa-share icon-share-alt powa-shot-tooltip-icon shadow"></i>\n\t\t\t\t\t\t\t<div class="powa-shot-tooltip-triangle"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="powa-shot-sharing-social-popup powa-shot-tooltip">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li class="powa-sharing-social-item"><i data-social="facebook" data-share-url="'+i.short_url+'" class="powa-shot-sharing-button fa fa-facebook icon-facebook powa-shot-sharing-item"></i></li>\n\t\t\t\t\t\t\t\t<li class="powa-sharing-social-item"><i data-social="twitter" data-share-url="'+i.short_url+'" data-share-title="'+i.headlines.basic+'" class="powa-shot-sharing-button fa fa-twitter icon-twitter powa-shot-sharing-item"></i></li>\n\t\t\t\t\t\t\t\t<li class="powa-sharing-social-item"><i data-social="google" data-share-url="'+i.short_url+'" class="powa-shot-sharing-button fa fa-google-plus icon-google-plus powa-shot-sharing-item"></i></li>\n\t\t\t\t\t\t\t\t<li class="powa-sharing-social-item powa-mail-wrap">\n\t\t\t\t\t\t\t\t\t<a class="powa-sharing-button powa-mail" target="_top" href="mailto:?subject='+encodeURIComponent(i.headlines.basic)+"&body="+e(i)+'">\n\t\t\t\t\t\t\t\t\t\t<i class="fa fa-envelope icon-envelope powa-shot-sharing-item"></i>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>',t.trim()}},PoWaSettings.streamPreference=PoWaSettings.streamPreference||["_master.m3u8","_mobile.m3u8",".m3u8",".mp4",".webm"],PoWaSettings.banditoAPI=PoWaSettings.banditoAPI||function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];switch(t.type){case"variant":return"https://www.washingtonpost.com/bandito/tests-pb/?ids="+t.videoID+"&meta=1";case"served":return"https://loxodo-ct.ext.nile.works/api/save-event";case"clicked":return"https://loxodo-ct.ext.nile.works/api/save-event"}},PoWaSettings.videoAPI=PoWaSettings.videoAPI||function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(k.wpvInternalApi)return"http://internal-posttv-api-internal-unpublished-1793588436.us-east-1.elb.amazonaws.com/posttv-api/api/v1/ansvideos/findByUuid?uuid="+t.uuid;if(k.wpvBeta)return"https://www.washingtonpost.com/posttv-beta/ans/findByUuid/"+t.uuid+"?"+(t.playlist?"&recommendedPlaylist=1":"");if(k.qa1)return"https://videoapi-qa.washingtonpost.com/posttv-api-qa1/api/v1/ansvideos/findByUuid?uuid="+t.uuid;if("sandbox"===t.env)switch(t.type||"video"){case"playlist":return"https://video-api.sandbox.washpost.arcpublishing.com/api/v1/ans/playlists/findByPlaylist?name="+t.playlist;case"recommended":return PoWaSettings.videoAPI({uuid:t.uuid,env:"sandbox"})+"&recommendedPlaylist=1";case"video":return"https://video-api.sandbox.washpost.arcpublishing.com/api/v1/ansvideos/findByUuid?uuid="+t.uuid;case"videos":var e=t.uuids.reduce(function(t,e){return(t.length?"&":"")+"uuids="+e},"");return"https://video-api.sandbox.washpost.arcpublishing.com/api/v1/ansvideos/findByUuids?"+e}else switch(t.type||"video"){case"playlist":return"https://posttvapi.washingtonpost.com/posttv-api/api/v1/ans/playlists/findByPlaylist?name="+t.playlist;case"recommended":return PoWaSettings.videoAPI({uuid:t.uuid})+"?recommendedPlaylist=1";case"video":return"https://www.washingtonpost.com/video/ans/findByUuid/"+t.uuid;case"videos":var n=t.uuids.reduce(function(t,e){return""+t+(t?"&":"")+"uuids="+e},"");return"https://posttvapi.washingtonpost.com/posttv-api/api/v1/ansvideos/findByUuids?"+n}},window.addEventListener("powaRender",function(t){var e=(0,u.get)(t,"detail.id"),n=(0,u.get)(t,"detail.powa"),i=n.getElement(),o=k.wpv_debug||i.getAttribute("data-debug"),a="1"===o||"true"===o,r=i&&i.getAttribute("data-blurb");r&&new g.default({id:e,powa:n});var s=a||"bandito"===k.wpv_debug||"bandito"===i.dataset.debug;new c.Bandito({id:e,powa:n,debug:s}),new w.default({id:e,powa:n,debug:a})}),window.addEventListener("powaReady",function(t){var e=(0,u.get)(t,"detail.id"),n=(0,u.get)(t,"detail.powa"),i=void 0,o=(0,s.$)("#"+e),a=document.getElementById(e),r=a&&"true"===a.getAttribute("data-viewport-autoplay");n.on("start",function(t){var a=o.hasClass("custom-controls");i=(0,u.get)(n.getVideoData(),"video_type"),"live"===i?a||(o.addClass("custom-controls"),o.removeClass("native-controls"),n.hideControls(),new v.LiveControl({id:e,powa:n})):(o.addClass("native-controls"),o.removeClass("custom-controls"))}),new p.Playthrough({id:e,powa:n,playthroughFetchPercentage:.8}),new h.Discovery({id:e,powa:n}),r&&new b.default({id:e,powa:n});var l=(0,u.get)(window,"PoWaSettings.buckets.viewportAutoplay"),d=l.newAllocation;d&&n.trigger("powaBucket")}),PoWaSettings.safari11Hacks=!1,PoWaSettings.decorator=PoWaSettings.decorator||function(t,e){var n="1"===k.wpv_debug||"true"===k.wpv_debug,i="false"!==k.wpv_autoinit,o="false"!==k.wpv_autoinitAds,a=0===e,r=window.PoWaSettings.canAutoplay,s=t.getAttribute("data-viewport-autoplay"),l=null===s||"undefined"==typeof s;i&&a&&b.default.allowedOnPage()===!0&&l&&null===t.getAttribute("data-preroll-only")&&(t.setAttribute("data-autoinit",!0),t.setAttribute("data-viewport-autoplay",!0),t.setAttribute("data-muted",window.PoWaSettings.muted)),i&&null===t.getAttribute("data-autoinit")&&t.setAttribute("data-autoinit",a||!r);var u=t.getAttribute("data-autoinit"),d="1"===u||"true"===u;if(o&&null===t.getAttribute("data-autoinit-ads")&&a&&d&&(n&&console.debug("setting data-autoinit-ads=1"),t.setAttribute("data-autoinit-ads",1)),n&&t.setAttribute("data-debug",1),null===t.getAttribute("data-mpulse")){var c=window.wp_pb&&"string"==typeof window.wp_pb.pageName?window.wp_pb.pageName:"";0!==c.indexOf("article-business")&&0!==c.indexOf("article-politics")||t.setAttribute("data-mpulse","true")}"function"==typeof window.wpvidAutoplayDisabled&&window.wpvidAutoplayDisabled()&&t.setAttribute("data-sticky-player","0"),b.default.allowedOnPage(!1)===!1&&t.setAttribute("data-sticky-player-mobile","0")}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.WapoVideoAdTagUrl=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(8);e.WapoVideoAdTagUrl=function(){function t(e){i(this,t),this.options=Object.assign({adSetZone:"wpni.video.oodef",primarySiteNode:"",allowAdSetPostfix:!0,haystack:[],isTrending:!1,adTagSuffix:"vid=15,30",indexTag:!1,tubeMogul:!0,isPrefetching:!1},e),this.queryString=(0,r.getQueryStringParameters)(),this.referrerUrl=window.self!==window.top?document.referrer:window.location.href,this.isTablet="object"===o(window.isMobile)?window.isMobile.tablet():/iPad/i.test(navigator.userAgent),this.isMobile="object"===o(window.isMobile)?window.isMobile.any()&&!this.isTablet:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),this.localStorageSupport=(0,r.isLocalStorageSupported)(),this.custParamChunks=this.getCustParamChunks()}return a(t,[{key:"getDecoratedAdSetZone",value:function(){var t=this.options.adSetZone;return this.options.allowAdSetPostfix&&t.indexOf("_")===-1&&t.indexOf("/")===-1&&(t+=this.getAdSetPostfix()),this.options.primarySiteNode&&(t+=this.options.primarySiteNode),t}},{key:"getDFPChunks",value:function(){return["sz=640x480","iu="+encodeURIComponent("/701/"+this.getDecoratedAdSetZone()),"ciu_szs=300x250","cust_params="+encodeURIComponent(this.custParamChunks.join("&")),"impl=s","gdfp_req=1","env=vp","output=vast","unviewed_position_start=1","url=%5bREFERRER_URL%5d","description_url=%5bREFERRER_URL%5d&","correlator="+(new Date).getTime()]}},{key:"getIndexTagChunks",value:function(t){return["ix_id=%5Bindex_epr%5D","ix_v=8.8","ix_u="+encodeURIComponent(this.referrerUrl),"ix_vt="+encodeURIComponent(t),"ix_s="+(this.isMobile?"190982":"190981"),"ix_vasd=0","ix_pod=1","ix_vpos=preroll","ix_vastp=2~3~5~6","ix_vami="+(this.isMobile?"video/mp4~video/webm~application/javascript":"video/mp4~video/webm~application/javascript~video/x-flv~application/x-shockwave-flash"),"ix_api="+(this.isMobile?"2":"1~2"),"ix_maxd=30"]}},{key:"getAdTagUrl",value:function(){if(this.queryString.hasOwnProperty("bypassBlockPreroll")===!1&&"function"==typeof window.blockPreroll&&window.blockPreroll()===!0||this.queryString.hasOwnProperty("no_preroll"))return"";var t="//pubads.g.doubleclick.net/gampad/ads?"+this.getDFPChunks().join("&"),e="//as-sec.casalemedia.com/playlist?"+this.getIndexTagChunks(t).join("&");return this.options.indexTag?e:t}},{key:"getCustParamChunks",value:function(){var t=[];this.options.isTrending?t.push("tv=y"):t.push("tv=n");var e=this.getExclusionCategories(this.options.haystack);e&&e.length>0&&t.push("excl_cat="+e),this.options.adTagSuffix&&t.push(this.options.adTagSuffix),t.push("vid_pt=powa_html5"),t.push("vid_id="+(this.options.uuid||"")),this.options.tubeMogul===!1&&t.push("tm=0");var n=this.getAdTargeting();n.ksg&&t.push("ksg="+n.ksg),n.ct&&t.push("ct="+n.ct),n.ca&&t.push("ca="+n.ca),console.debug("ad_to="+this.options.requestAdsTimeout),this.options.requestAdsTimeout&&t.push("ad_to="+this.options.requestAdsTimeout);var i=this.getEmbedDomain();if(i){var o=i.indexOf("washingtonpost.com")>-1;t.push("embed_domain="+(o?"":"other,")+i)}return"number"==typeof this.options.aspectRatio&&t.push("shape="+(this.options.aspectRatio>1?"vertical":"horizontal")),this.options.isPreloadingAds?t.push("pf=y"+(this.options.isPlaythrough?"-playthrough":"-click")):t.push("pf=n"+(this.options.isPlaythrough?"-playthrough":"-click")),"undefined"!=typeof this.options.articleAutoplay&&null!==this.options.articleAutoplay&&(!window.PoWaSettings.buckets.viewportAutoplay||this.options.articleAutoplay!==!0&&this.options.articleAutoplay!==!1?(console.debug("sending cust param chunk for articleAutoplay","wpvid_autoplay="+this.options.articleAutoplay),
t.push("wpvid_autoplay="+this.options.articleAutoplay)):(console.debug("sending cust param chunk for articleAutoplay","wpvid_autoplay="+window.PoWaSettings.buckets.viewportAutoplay.getFacet().toLowerCase()),t.push("wpvid_autoplay="+window.PoWaSettings.buckets.viewportAutoplay.getFacet().toLowerCase()))),t}},{key:"getExclusionCategories",value:function(t){var e=void 0;try{window.vidExclusions&&t.length>0&&(e=window.vidExclusions(t))}catch(t){self.debug&&console.error("Unable to find exclusion categories",t)}return e&&e.length>0?e.join(","):void 0}},{key:"getAdTargeting",value:function(){var t=this.getCaValue();return{ksg:this.localStorageSupport&&localStorage.getItem("kxsegs")?localStorage.getItem("kxsegs"):window.Krux&&window.Krux.segments?window.Krux.segments.join(","):void 0,ct:window.wp_meta_data&&window.wp_meta_data.clavis&&window.wp_meta_data.clavis.ct?window.wp_meta_data.clavis.ct.join(","):void 0,ca:t?t.join(","):void 0}}},{key:"getCaValue",value:function(){var t=[],e=[],n=[],i=[],o=this.getCookie;if(this.localStorageSupport){if(localStorage.getItem("targeting_aux_map")){e=localStorage.getItem("targeting_aux_map").split(","),t.concat(e);for(var a=0;a<e.length;a++)t.push(e[a].toString().toLowerCase())}if(localStorage.getItem("usersegmentsAdops")){var r=localStorage.getItem("usersegmentsAdops").substr(1),s=r.substr(0,r.length-1),l="";n=s.split(",");for(var u=0;u<n.length;u++)"1"===n[u].charAt(n[u].length-1)&&(l=n[u].substr(0,n[u].length-3).substr(1),i.push(l));for(var d=0;d<i.length;d++)t.push(i[d])}}else if(o("targeting_aux_map")){e=o("targeting_aux_map").split(","),t.concat(e);for(var c=0;c<e.length;c++)t.push(e[c].toString().toLowerCase())}else if(o("0668")&&o("0862")&&o("6136")&&o("8936")&&o("9868")&&o("7204")&&o("2467")&&o("6362")&&o("3552")&&o("3433")&&o("7543")&&o("8636")&&o("5723")&&o("2748")&&o("5263")&&o("3522")){"1"===o("0668")&&n.push("0668"),"1"===o("0862")&&n.push("0862"),"1"===o("6136")&&n.push("6136"),"1"===o("8936")&&n.push("8936"),"1"===o("9868")&&n.push("9868"),"1"===o("7204")&&n.push("7204"),"1"===o("2467")&&n.push("2467"),"1"===o("6362")&&n.push("6362"),"1"===o("3552")&&n.push("3552"),"1"===o("3433")&&n.push("3433"),"1"===o("7543")&&n.push("7543"),"1"===o("8636")&&n.push("8636"),"1"===o("5723")&&n.push("5723"),"1"===o("2748")&&n.push("2748"),"1"===o("5263")&&n.push("5263"),"1"===o("3522")&&n.push("3522");for(var p=0;p<n.length;p++)t.push(n[p])}if(window.wp_meta_data&&window.wp_meta_data.clavis&&window.wp_meta_data.clavis.auxiliaries)for(var h=0;h<window.wp_meta_data.clavis.auxiliaries.length;h++)t.push(window.wp_meta_data.clavis.auxiliaries[h].toString().toLowerCase());return t}},{key:"getEmbedDomain",value:function(){var t=window.self!==window.top?document.referrer:window.location.href;try{if(t=t.split("/")[2],t=t.split(":")[0]){var e=t.split("."),n=e.length;n>=2&&(t=e[n-2]+"."+e[n-1])}}catch(t){console.debug(t)}return t}},{key:"getCookie",value:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null}},{key:"getAdSetPostfix",value:function(){return/^fbInstant$/.test(this.queryString.embedContext)?"_fb":/^amp$/.test(this.queryString.embedContext)?"_amp":this.isTablet?"_tablet":this.isMobile?"_mweb":""}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Bandito=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(8),r="BANDITO",s=Object.freeze({debug:!1});e.Bandito=function(){function t(e){var n=this;return i(this,t),this.settings=(0,a.extend)({},s,e),["_handlePromoRender","_handlePromoViewable","_track","_variantImpression","_variantClick"].forEach(function(t){return n[t]=n[t].bind(n)}),this.id=e.id,this.powa=e.powa,this.variant=(0,a.get)(this.powa.getVideoData(),"additional_properties.variant"),this.variant?(this.settings.debug&&console.debug("["+r+"][constructor] has variant",this.variant),this.promoRendered=!1,this.promoViewable=!1,this.powa.on("promoRender",this._handlePromoRender),this.powa.once("powaViewable",this._handlePromoViewable),void 0):(this.settings.debug&&console.debug("["+r+"][constructor] no variant"),null)}return o(t,[{key:"_handlePromoRender",value:function(t){this.settings.debug&&console.debug("["+r+"][_handlePromoRender] "+(t.visible?"VISIBLE":"HIDDEN")),t.visible&&(this.promoRendered=!0,this.promoViewable&&this._variantImpression())}},{key:"_handlePromoViewable",value:function(){this.settings.debug&&console.debug("["+r+"][_handlePromoViewable]"),this.promoViewable=!0,this.promoRendered&&this._variantImpression()}},{key:"_variantImpression",value:function(){this.settings.debug&&console.debug("["+r+"][_variantImpression]"+(this.variant.winner_title?" title: "+this.variant.winner_title:"")+(this.variant.winner_thumbnail?" thumbnail: "+this.variant.winner_thumbnail:""));var t="served",e={event:t,test_id:this.variant._id,variant_id:this.variant.winner};this.powa.once("promoPlay",this._variantClick),this._track(t,e)}},{key:"_variantClick",value:function(){this.settings.debug&&console.debug("["+r+"][_variantClick]");var t="clicked",e={event:t,test_id:this.variant._id,variant_id:this.variant.winner};this._track(t,e)}},{key:"_track",value:function(t,e){this.settings.debug&&console.debug("["+r+"][_track] "+t,e);var n=this.settings.debug?console.debug:a.noop,i=this.settings.debug?console.debug:a.noop;(0,a.ajaxPOST)(PoWaSettings.banditoAPI({type:t}),e,n,i)}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Playthrough=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(8),r=n(9),s=Object.freeze({playthroughFetchPercentage:.8,error:console.error});e.Playthrough=function(){function t(e){var n=this;i(this,t),this.settings=(0,a.extend)({},s,e),this.dataset=this.settings.powa?this.settings.powa.getElement().dataset:{},this.dataset=(0,r.map)(this.dataset,a.parseString);var o=(0,a.get)(e.powa.getVideoData(),"additional_properties.embedContinuousPlay");return this.dataset.playthrough&&o?(["recommendedURL","fetchRecommendedPlaylist","time"].forEach(function(t){return n[t]=n[t].bind(n)}),this.id=e.id,this.powa=e.powa,(0,r.forEach)(PoWa.EVENTS,function(t){n[t]&&n.powa.on(t,n[t])}),void 0):null}return o(t,[{key:"recommendedURL",value:function(t){return PoWaSettings.videoAPI({uuid:t,type:"recommended",env:this.dataset.env})}},{key:"fetchRecommendedPlaylist",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?a.noop:arguments[1],n=arguments.length<=2||void 0===arguments[2]?a.noop:arguments[2];(0,a.getJSONP)({url:this.recommendedURL(t),resolve:function(i){i.length?e(i):n({uuid:t,error:"Failed recommendedPlaylist API call",message:"No video data available for "+t+"."})},reject:n,callbackParam:"cb",id:t.replace(/-/g,"")})}},{key:"time",value:function t(e){var n=e.duration,t=e.time;t&&n&&t/n>this.settings.playthroughFetchPercentage&&(this.powa.off(PoWa.EVENTS.TIME,this.time),this.fetchRecommendedPlaylist((0,a.get)(this,"powa.videoData._id"),this.powa.setPlaylist,this.settings.error))}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=find(t.additional_properties.imageResizerUrls,function(t){return t&&t.size&&t.size===PoWaSettings.promo.size}),n=e&&e.url?e.url:PoWaSettings.imageResizer(t.promo_image);return n.replace(P,"")}function a(t,e,n){function i(){var s=Date.now();if(s>=o+n)t.scrollLeft=e;else{var l=(s-o)/n;t.scrollLeft=a+r*l,requestAnimationFrame(i)}}var o=Date.now(),a=t.scrollLeft,r=e-a;requestAnimationFrame(i)}function r(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n='\n\t\t<div class="'+S.PLAYLIST_ITEM+'" id="'+(S.PLAYLIST_ITEM+"_"+t._id)+'" data-uuid="'+t._id+'">\n\t\t\t<div class="powa-discovery-playlist-item-promo" style="background-image: url(\''+o(t)+'\')">\n\t\t\t\t<div class="powa-discovery-playlist-item-overlay">\n\t\t\t\t\t<div class="powa-discovery-playlist-item-playing powa-discovery-hidden">Now Playing</div>\n\t\t\t\t\t<div class="powa-discovery-playlist-item-duration">'+(0,p.formatTime)(t.duration/p.ONE_SECOND)+'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="powa-discovery-playlist-item-blurb '+(e?"franklin-bold":"")+'">'+t.headlines.basic+"</div>\n\t\t</div>\n\t";return n.trim()}function s(){return'<div class="powa-discovery-extras-break"></div>'}function l(t){t=Array.isArray(t)?t:[t];var e=t.reduce(function(t,e,n){return""+t+(t?s():"")+r(e,0===n)},""),n='\n\t\t<div class="powa-discovery-chapter">\n\t\t\t<div id="chapter-playlist_'+t[0]._id+'" class="powa-discovery-chapter-playlist">'+e+"</div>\n\t\t</div>\n\t\t";return n.trim()}function u(){return'<div class="powa-discovery-chapter-break"></div>'}function d(t){var e=t.playlistItems.reduce(function(t,e,n){return""+t+(t?u():"")+l([e])},""),n='\n\t\t<div class="powa-discovery franklin-light">\n\t\t\t<div class="powa-discovery-header">\n\t\t\t\t<div class="powa-discovery-title franklin-bold">'+t.playlistName+'</div>\n\t\t\t\t<div class="powa-discovery-controls">\n\t\t\t\t\t<div class="powa-discovery-control powa-discovery-control-left"><i class="powa-discovery-control-icon fa fa-arrow-left"></i></div>\n\t\t\t\t\t<div class="powa-discovery-control powa-discovery-control-right"><i class="powa-discovery-control-icon fa fa-arrow-right"></i></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="powa-discovery-playlist-wrapper">\n\t\t\t\t<div class="powa-discovery-playlist">\n\t\t\t\t\t'+e+"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t";return n.trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.Discovery=void 0;var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=n(8),h=n(7),f=n(9),g="event121",v="event122",m=20,w=p.ONE_SECOND/2,y=p.ONE_SECOND/2,b='\n\t.franklin-bold {\n\t    font-family: "FranklinITCProBold", "Helvetica Neue Bold", "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif;\n\t}\n\n\t.franklin-light {\n\t    font-family: "FranklinITCProLight", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif;\n\t}\n\n\t.powa-discovery-hidden {\n\t\tdisplay: none;\n\t}\n\n\t.powa-discovery-tinted {\n\t\tbackground: rgba(0,0,0, 0.5);\n\t}\n\n\t.powa-discovery {\n\t\tbackground-color: #FAFAFA;\n\t\tborder: 1px solid #E1E1E1;\n\t\tborder-radius: 0 0 4px 4px;\n\t\tbox-sizing: border-box;\n\t\tcolor: #222222;\n\t\tfont-size: 14px;\n\t\tpadding-bottom: '+m+"px;\n\t}\n\n\t.powa-discovery-header {\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tfont-size: 18px;\n\t\tpadding: "+m+"px;\n\t\twidth: 100%;\n\t}\n\n\t.powa-discovery-title {\n\t}\n\n\t.powa-discovery-controls {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\n\t.powa-discovery-control {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.powa-discovery-control-icon {\n\t\tcursor: pointer;\n\t\tmargin: 0 "+m/2+"px;\n\t}\n\n\t.powa-discovery-control-left {\n\t\tjustify-content: flex-end;\n\t}\n\n\t.powa-discovery-control-right {\n\t\tjustify-content: flex-start;\n\t}\n\n\t.powa-discovery-playlist-wrapper {\n\t\toverflow-x: scroll;\n\t}\n\n\t.powa-discovery-playlist {\n\t\tdisplay: flex;\n\t\twidth: auto;\n\t}\n\n\t.powa-discovery-chapter {\n\t\tpadding-right: "+m+"px;\n\t}\n\n\t.powa-discovery-chapter:first-of-type {\n\t\tpadding-left: 15px;\n\t}\n\n\t.powa-discovery-chapter:last-of-type {\n\t\tpadding-right: 15px;\n\t}\n\n\t.powa-discovery-chapter-break {\n\t\tbackground-color: black;\n\t\tborder-radius: 1px;\n\t\theight: auto;\n\t\tmargin-right: "+m+"px;\n\t\tpadding: 1px;\n\t}\n\n\t.powa-discovery-extras-break {\n\t\tbackground-color: darkgray;\n\t\tborder-radius: 1px;\n\t\theight: 84px;\n\t\tmargin-right: "+m+"px;\n\t\tpadding-right: 1px;\n\t}\n\n\t.powa-discovery-chapter-playlist {\n\t\tdisplay: flex;\n\t}\n\n\t.powa-discovery-playlist-item {\n\t\tmargin-right: "+m+"px;\n\t\twidth: 150px;\n\t\ttransition: all "+w/p.ONE_SECOND+"s;\n\t}\n\n\t.powa-discovery-playlist-item:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t.powa-discovery-playlist-item-hidden {\n\t\topacity: 0;\n\t\twidth: 0;\n\t}\n\n\t.powa-discovery-playlist-item-promo {\n\t\tcursor: pointer;\n\t\tmargin-bottom: "+m/2+"px;\n\t\twidth: 100%;\n\t\theight: 84px;\n\t\tbackground-size: cover;\n\t\tbackground-position: center;\n\t}\n\n\t.powa-discovery-playlist-item-overlay {\n\t\tdisplay: flex;\n\t\talign-items: flex-end;\n\t\theight: 100%;\n\t\tcolor: white;\n\t\tfont-size: 12px;\n\t\tline-height: 20px;\n\t\ttext-shadow: 1px 1px 5px black;\n\t}\n\n\t.powa-discovery-playlist-item-playing {\n\t\tmargin-left: 10px;\n\t\tmargin-bottom: 8px;\n\t}\n\n\t.powa-discovery-playlist-item-duration {\n\t\tmargin-left: 10px;\n\t\tmargin-bottom: 8px;\n\t}\n\n\t.powa-discovery-playlist-item-blurb {\n\t\ttransition: opacity "+y/p.ONE_SECOND+"s;\n\t\tline-height: 17px;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t}\n\n\t.powa-discovery-playlist-item-blurb-hidden {\n\t\topacity: 0;\n\t}\n\n\t@media only screen and (min-width: 480px) {\n\t\t.powa-discovery {\n\t\t\tfont-size: 16px;\n\t\t}\n\n\t\t.powa-discovery-chapter:first-of-type {\n\t\t\tpadding-left: "+m+"px;\n\t\t}\n\n\t\t.powa-discovery-chapter:last-of-type {\n\t\t\tpadding-right: "+m+"px;\n\t\t}\n\n\t\t.powa-discovery-extras-break {\n\t\t\theight: 101px;\n\t\t}\n\n\t\t.powa-discovery-playlist-item {\n\t\t\twidth: 180px;\n\t\t}\n\n\t\t.powa-discovery-playlist-item-promo {\n\t\t\theight: 101px;\n\t\t}\n\n\t\t.powa-discovery-playlist-item-duration {\n\t\t\tfont-size: 13px;\n\t\t}\n\n\t\t.powa-discovery-playlist-item-blurb {\n\t\t\tline-height: 20px;\n\t\t}\n\t}\n",k='\n\t@font-face {\n\t\tfont-family: "FranklinITCProBold";\n\t\tsrc: url("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Bold/e9e4c4dc-e548-4fef-9aa1-80c9cd0f02ce-2.eot");\n\t\tsrc: url("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Bold/e9e4c4dc-e548-4fef-9aa1-80c9cd0f02ce-2.eot?") format("embedded-opentype"),\n\t\t\turl("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Bold/e9e4c4dc-e548-4fef-9aa1-80c9cd0f02ce-3.woff") format("woff"),\n\t\t\turl("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Bold/e9e4c4dc-e548-4fef-9aa1-80c9cd0f02ce-1.ttf") format("truetype"),\n\t\t\turl("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Bold/e9e4c4dc-e548-4fef-9aa1-80c9cd0f02ce-4.svg#web") format("svg");\n\t\tfont-style: normal;\n\t\tfont-weight: normal;\n\t}\n\n\t@font-face {\n\t\tfont-family: "FranklinITCProLight";\n\t\tsrc: url("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Light/b147bee6-eb48-46e1-86e1-2538a46794b6-2.eot");\n\t\tsrc: url("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Light/b147bee6-eb48-46e1-86e1-2538a46794b6-2.eot?") format("embedded-opentype"),\n\t\t\turl("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Light/b147bee6-eb48-46e1-86e1-2538a46794b6-3.woff") format("woff"),\n\t\t\turl("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Light/b147bee6-eb48-46e1-86e1-2538a46794b6-1.ttf") format("truetype"),\n\t\t\turl("https://d1pz6dax0t5mop.cloudfront.net/fonts/Franklin-ITC-Pro-Light/b147bee6-eb48-46e1-86e1-2538a46794b6-4.svg#web") format("svg");\n\t\tfont-style: normal;\n\t\tfont-weight: normal;\n\t}\n',E=Object.freeze({error:console.error}),S=Object.freeze({PLAYLIST_ITEM:"powa-discovery-playlist-item"}),A=Object.freeze((0,f.map)(S,function(t){return"."+t})),_=Object.freeze({}),P=/^http:/;e.Discovery=function(){function t(e){var n=this;return i(this,t),this.settings=(0,p.extend)({},E,e),this.dataset=this.settings.powa?this.settings.powa.getElement().dataset:{},this.dataset=(0,f.map)(this.dataset,p.parseString),this.dataset.discovery?((0,p.addCSS)(b),["ensureFonts","setTracking","setNowPlaying","checkForExtras","onStart","playlistURL","fetchPlaylist","extrasURL","fetchExtras","handlePlaylist","createUI","playlistItemClickHandler","controlLeftClicked","controlRightClicked","handleEvents"].forEach(function(t){return n[t]=n[t].bind(n)}),this.id=e.id,this.powa=e.powa,this.$player=(0,h.$)("#"+this.id),this.powaObj=window.powas[this.id],this.powaObj.discovery={},this.fetchPlaylist(this.dataset.playlist,function(t){n.handlePlaylist(t),n.createUI(t),n.handleEvents(),n.onStart()},this.settings.error),this.ensureFonts(),void 0):null}return c(t,[{key:"ensureFonts",value:function(){var t=!1;(0,p.hasFont)("FranklinITCProBold",function(e){e||t||(t=!0,(0,p.addCSS)(k))}),(0,p.hasFont)("FranklinITCProLight",function(e){e||t||(t=!0,(0,p.addCSS)(k))})}},{key:"setTracking",value:function(t){this.powaObj.discovery.tracking=this.playlist.reduce(function(e,n){var i=n.videoData,o=n.extras;return e?e:t===i._id?g:o.reduce(function(e,n){return e?e:t===n._id?v:""},"")},"")}},{key:"setNowPlaying",value:function(t){var e=this.$discovery.find(".powa-discovery-playlist-item-playing"),n=this.$discovery.find("#powa-discovery-playlist-item_"+t),i=this.$discovery.find(".powa-discovery-playlist-item-overlay .powa-discovery-tinted"),o=this.$discovery.find(".powa-discovery-playlist-item-duration .powa-discovery-hidden");i.removeClass("powa-discovery-tinted"),o.removeClass("powa-discovery-hidden"),e.addClass("powa-discovery-hidden"),n.find(".powa-discovery-playlist-item-overlay").addClass("powa-discovery-tinted"),n.find(".powa-discovery-playlist-item-duration").addClass("powa-discovery-hidden"),n.find(".powa-discovery-playlist-item-playing").removeClass("powa-discovery-hidden")}},{key:"checkForExtras",value:function(t){var e=this,n=this.playlist.find(function(e){var n=e.videoData,i=e.extras;return n._id===t&&!i.length});if(n)if((0,p.get)(n,"videoData.related_content.basic")){var i=n.videoData.related_content.basic.filter(function(t){return t.referent&&"video"===t.referent.type}).map(function(t){return t.referent.id});i.length?this.fetchExtras(i,function(i){n.extras=i,e.powa.setPlaylist(e.playlist.reduce(function(t,e){var n=[e.videoData].concat(e.extras);return t.concat(n)},[]));var o=(0,h.$)(i.reduce(function(t,e){return""+t+s()+r(e)},""));o.on("click",e.playlistItemClickHandler);var a=o.find(".powa-discovery-playlist-item-blurb"),l=(0,h.$)("#chapter-playlist_"+t);a.hide(),a.addClass("powa-discovery-playlist-item-blurb-hidden"),o.addClass("powa-discovery-playlist-item-hidden"),requestAnimationFrame(function(){l.append(o),requestAnimationFrame(function(){o.removeClass("powa-discovery-playlist-item-hidden"),setTimeout(function(){return requestAnimationFrame(function(){a.show(),requestAnimationFrame(function(){return a.removeClass("powa-discovery-playlist-item-blurb-hidden")})})},w)})})}):console.debug("no extras")}else console.debug("no related content")}},{key:"onStart",value:function(){var t=this;this.powa.on(PoWa.EVENTS.START,function(e){var n=(0,p.get)(t.powa,"videoData._id");n&&(t.setTracking(n),t.setNowPlaying(n),t.checkForExtras(n))})}},{key:"playlistURL",value:function(t){return PoWaSettings.videoAPI({playlist:t,type:"playlist",env:this.dataset.api||this.dataset.env})}},{key:"fetchPlaylist",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?p.noop:arguments[1],n=arguments.length<=2||void 0===arguments[2]?p.noop:arguments[2];(0,p.getJSONP)({url:this.playlistURL(t),resolve:function(i){i.playlistItems&&i.playlistItems.length?e(i):n({playlistID:t,error:"Failed playlist API call",message:"No playlistItems available for '"+t+"'."})},reject:n,callbackParam:"cb",id:t.replace(/\W/g,"")})}},{key:"extrasURL",value:function(t){return PoWaSettings.videoAPI({uuids:t,type:"videos",env:this.dataset.api||this.dataset.env})}},{key:"fetchExtras",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?p.noop:arguments[1],n=arguments.length<=2||void 0===arguments[2]?p.noop:arguments[2];(0,p.getJSONP)({url:this.extrasURL(t),resolve:function(i){i.length?e(i):n({uuids:t,error:"Failed extras API call",message:"No data available for '"+t+"'."})},reject:n,callbackParam:"cb",id:(0,p.hash)(t)})}},{key:"handlePlaylist",value:function(t){this.powa.setPlaylist(t.playlistItems),this.playlist=t.playlistItems.map(function(t){return{videoData:t,extras:[]}})}},{key:"createUI",value:function(t){this.$discovery=(0,h.$)(d(t)),this.$discovery.css((0,p.extend)({width:this.$player.width+"px"},_)),this.$scroller=this.$discovery.find(".powa-discovery-playlist-wrapper"),this.$controlLeft=this.$discovery.find(".powa-discovery-control-left"),this.$controlRight=this.$discovery.find(".powa-discovery-control-right"),this.$player.after(this.$discovery)}},{key:"playlistItemClickHandler",value:function(t){var e=t.currentTarget.getAttribute("data-uuid");e&&this.powa.loadVideo(e,this.powa.play)}},{key:"controlLeftClicked",value:function(){var t=this.$discovery.elements[0].getBoundingClientRect().left,e=this.$discovery.find(A.PLAYLIST_ITEM),n=e.width(),i=e.elements.reduce(function(e,i){var o=i.getBoundingClientRect().left-t+window.pageXOffset;return o>=-n&&o<m?o:e},0),o=this.$scroller.elements[0],r=o.scrollLeft+i-3*m;a(o,r,p.ONE_SECOND/4)}},{key:"controlRightClicked",value:function(){var t=this.$discovery.elements[0].getBoundingClientRect().left,e=this.$discovery.find(A.PLAYLIST_ITEM),n=e.width(),i=e.elements.reduce(function(e,i){var o=i.getBoundingClientRect().left-t+window.pageXOffset;return o>=-m&&o<n?o:e},0),o=this.$scroller.elements[0],r=o.scrollLeft+i+n-m;a(o,r,p.ONE_SECOND/4)}},{key:"handleEvents",value:function(){var t=this;this.$player.on(PoWa.EVENTS.RESIZE,function(e){return t.$discovery.css({width:e.width+"px"})});var e=this.$discovery.find(A.PLAYLIST_ITEM);e.on("click",this.playlistItemClickHandler),this.$controlLeft.on("click",this.controlLeftClicked),this.$controlRight.on("click",this.controlRightClicked)}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t='\n\t\t<div class="powa-blurb-wrap powa-blurb inline-video-caption">\n\t\t\t<p class="franklin-light">\n\t\t\t\t<span class="powa-tease"></span>\n\t\t\t\t<span class="powa-byline franklin-light"></span>\n\t\t\t</p>\n\t\t</div>\n\t';return t.trim()}function a(t){var e=arguments.length<=1||void 0===arguments[1]?d:arguments[1],n=arguments.length<=2||void 0===arguments[2]?t.offsetWidth:arguments[2];n>e?(t.classList.remove(c.small),t.classList.add(c.large)):(t.classList.remove(c.large),t.classList.add(c.small))}function r(){var t=this,e=this._$el.elements[0];a(e),window.addEventListener("resize",function(t){a(e)}),this._powa.on("start",function(e){console.debug("loaded"),t.update()})}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(8),u=n(7),d=450,c={small:"small",large:"large"},p="\n\t.powa-blurb-wrap.pb-caption {\n\t\tpadding: 0;\n\t\tline-height: 16px;\n\t\tmargin: 0;\n\t}\n\t.powa-blurb-wrap.powa-blurb.inline-video-caption p {\n\t\tline-height: 16px;\n\t}\n\t.powa-blurb-wrap p {\n\t\tpadding: 0;\n\t\tfont-size: 14px;\n\t\tmargin: 0;\n\t\tcolor: black;\n\t}\n\t.powa-byline {\n\t\tfont-size: 12px;\n\t\tcolor: #a3a3a3;\n\t\tpadding: 2px 0;\n\t\tmargin: 0;\n\t\tdisplay: inline-block;\n\t}\n",h=function(){function t(e){if(i(this,t),!e.id&&!e.powa)throw"Invalid settings to setup Blurb";(0,l.addCSS)(p),this._powa=e.powa,this._settings=e,this._$powaEl=(0,u.$)(e.powa.getElement()),this._$el=(0,u.$)(o()),this._$tease=this._$el.find(".powa-tease"),this._$byline=this._$el.find(".powa-byline"),this.update(),this._$powaEl.after(this._$el);var n=this._$powaEl;n.parent().hasClass("wpv-fixed")&&n.parent().parent().hasClass("wpv-wrap")&&(n=n.parent().parent()),n.after(this._$el),r.call(this)}return s(t,[{key:"update",value:function(){for(var t=window.powas[this._settings.id].videoData,e=t.description&&t.description.basic||"",n=t.credits&&t.credits.by||[],i=t.credits&&t.credits.by&&t.credits.by[0].org,o="The Washington Post"===i&&!t.additional_properties.gifAsThumbnail,a=o&&t.promo_image.credits.by&&t.promo_image.credits.by[0].name||"",r=[],s=0;s<n.length;s++)n[s].name&&r.push(n[s].name),n[s].org&&!i&&(i=n[s].org);var l=r.length>0&&a?"Video: ":"",u=r.length>0&&a?"/Photo: ":a?"Photo: ":"",d=""+l+r.join(", ")+u+a;i&&(d.length>0&&(d+="/"),d+=""+i),this.updateTease(e),this.updateByline(d)}},{key:"updateTease",value:function(t){this._$tease.html(t)}},{key:"updateByline",value:function(t){this._$byline.html("("+t+")")}}]),t}();e.default=h},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e='\n\t<div class="powa-live-video-controls">\n\t\t\t<div class="powa-live-media-controls">\n\t\t\t\t<div class="powa-live-playpause">\n\t\t\t\t\t<i class="powa-live-control-bar-play fa fa-play playing" aria-hidden="true";"></i>\n\t\t\t\t\t<i class="powa-live-control-bar-play fa fa-pause playing aria-hidden="true"></i>\n\t\t\t\t\t<span class="powa-live-live-label">\n\t\t\t\t\t\t<i class="powa-live fa fa-circle" aria-hidden="true"></i> LIVE\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="powa-live-right-controls">\n\t\t\t\t\t<div class="powa-live-vol-on-mute">\n\t\t\t\t\t\t<div class="powa-live-volup"><i class="powa-live fa fa-volume-up" aria-hidden="true"></i></div>\n\t\t\t\t\t\t<div class="powa-live-mute" style="display: none;"><i class="powa-live fa fa-volume-off" aria-hidden="true"></i></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input id="powa-live-vol" class="powa-live" type="range" min="0" max="100" value="50" step="1">\n\t\t\t\t\t<div class="powa-live-fullscreen"><i class="powa-live fa fa-arrows-alt" aria-hidden="true"></i></div>\n\t\t\t\t\t<div class="powa-live-closedcap"><i class="powa-live fa fa-cc" aria-hidden="true"></i></div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="powa-live-cc-menu-container"></div>\n\t';return e}Object.defineProperty(e,"__esModule",{value:!0}),e.LiveControl=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(8),s=n(7),l=n(9),u="#4285f4",d="#5a5a5a",c="\n\n.powa-live-video-controls {\n\tvisibility: hidden;\n\tposition: absolute;\n\twidth: 100%;\n\tleft: 0;\n\tbottom: 0;\n\ttransition: all .25s ease-in-out;\n\t/*z-index is because a special index is required for controls to show in fullscreen*/\n\tz-index: 2147483647;\n}\n\n.powa-live-media-controls {\n\tcolor: "+d+';\n\tfont-family: Segoe, "Helvetica Neue", Roboto, Arial, Helvetica, sans-serif;\t\n\tdisplay: flex;\n\tjustify-content: space-between;\n\theight: 32px;\n\tmin-width: 48px;\n\tline-height: 32px;\n\tbackground-color: rgb(250, 250, 250);\n\tfont-size: 12px;\n\toverflow: hidden;\n\ttransition: opacity 0.3s;\n}\n\n.powa-live-right-controls {\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n}\n.powa-live-live-label {\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tcolor: #de1323;\n\tfont-size: 12px;\n\tletter-spacing: 2px;\n}\n.powa-live-playpause {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 16px;\n}\n\n.powa-live-control-bar-play.fa.fa-play.paused {\n\tcursor: pointer;\t\n\tdisplay: flex;\n\tjustify-content: center;\n\twidth: 32px;\n\tcolor: '+d+";\n}\n\n.powa-live-control-bar-play.fa.fa-pause.paused {\n\tdisplay: none;\n}\n\n.powa-live-control-bar-play.fa.fa-play.playing {\n\tdisplay: none;\n}\n\n.powa-live-control-bar-play.fa.fa-pause.playing {\n\tcursor: pointer;\t\n\tdisplay: flex;\n\tjustify-content: center;\n\twidth: 32px;\n\tcolor: "+d+";\n}\n\n.powa-live.fa.fa-circle {\n\twidth: 16px;\n}\n.powa-live-vol-on-mute {\n\tfont-size: 20px;\n\twidth: 24px;\n}\n.powa-live.fa.fa-arrows-alt {\n\twidth: 24px;\n\tfont-size: 16px;\n\ttransform: translateY(1px);\n}\n.powa-live.fa.fa-cc {\n\twidth: 32px;\n\tfont-size: 16px;\n}\n\ninput[type=range].powa-live {\n\t-webkit-appearance: none;\n\theight: 14px;\n\tpadding: 0;\n\twidth: 100px;\n\toutline: none;\n\tmargin: 0 10px 0 5px;\n\tbackground: transparent;\n}\n\ninput[type=range].powa-live::-webkit-slider-thumb {\n\t-webkit-appearance: none;\n\tbox-sizing: content-box;\n\theight: 10px;\n\twidth: 10px;\n\tborder-radius: 100%;\n\tbackground-color: "+u+";\n\tcursor: pointer;\n\tmargin-top: -4px;\n\tborder: 0;\n\tbox-shadow: 0 0 1px 0px rgba(0,0,0,0.1);\n}\n\ninput[type=range].powa-live::-moz-range-thumb {\n\theight: 10px;\n\twidth: 10px;\n\tborder-radius: 100%;\n\tbackground-color: "+u+";\n\tcursor: pointer;\n\tmargin-top: -4px;\n\tborder: 0;\n\tbox-shadow: 0 0 1px 0px rgba(0,0,0,0.1);\n\n}\n\ninput[type=range].powa-live::-ms-thumb {\n\tdisplay: inline-block;\n\theight: 10px;\n\twidth: 10px;\n\tborder-radius: 100%;\n\tbackground-color: "+u+";\n\tcursor: pointer;\n\tmargin-top: 5px; \n\tborder: 0;\n\tbox-shadow: 0 0 1px 0px rgba(0,0,0,0.1);\n}\n\ninput[type=range].powa-live::-webkit-slider-runnable-track {\n\theight: 3px;\n\tborder-color: transparent;\n\tcolor: transparent;\n\tbackground-color: "+d+";\t\n\tborder-radius: 10px;\n}\n\ninput[type=range].powa-live::-moz-range-track {\n\theight: 3px;\n\tbackground-color: "+d+";\t\n\tborder-radius: 10px;\n}\n\ninput[type=range].powa-live::-ms-track {\n\tborder-color: transparent;\n\tcolor: transparent;\n\theight: 3px;\n\tbackground-color: "+d+";\t\n\tborder-radius: 10px;\n}\n\ninput[type=range].powa-live::-ms-fill-lower, input[type=range].powa-live::-moz-range-progress {\n\tbackground-color: "+u+';\n}\n\ninput[type=range].powa-live::-ms-tooltip {\n\tdisplay: none;\n}\n\ninput[type=range].powa-live::-moz-focus-outer {\n\tborder: 0;\n}\n\n.powa-live-cc-menu {\n\tfont-family: Segoe, "Helvetica Neue", Roboto, Arial, Helvetica, sans-serif;\n\tposition: absolute;\n    bottom: 4px;\n    right: 4px;\n    background-color: #fafafa;\n    max-width: 50%;\n    max-height: 250px;\n    min-width: 150px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    white-space: nowrap;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 8px 20px 1px, rgba(0, 0, 0, 0.12) 0px 3px 28px 2px, rgba(0, 0, 0, 0.4) 0px 5px 10px -3px;\n\tborder-radius: 1px;\n\tpadding: 0;\n\tz-index: 2147483649;\n}\n.powa-live-cc-menu li:hover {\n\tbackground-color: #e0e0e0;\n}\n.powa-live-cc-menu li {\n    display: block;\n    text-align: start;\n    line-height: 40px;\n    padding: 0 16px;\n\ttext-overflow: ellipsis;\n\twidth: 100%\n}\n.powa-live-cc-menu li div:hover {\n\tbackground-color: #e0e0e0;\n}\n.powa-live-cc-menu li div {\n\tfont-size: 14px;\t\n\tborder: none;\n\tcolor: '+d+";\n    cursor: pointer;\n\tbackground-color: transparent;\n\ttext-align: left;\n\tmargin-left: 16px;\n}\n.powa-live.fa.fa-check {\n\tposition: absolute;\n\tmargin-top: 13.5px;\n\ttransform: translateX(-16px);\n\tfont-size: 12px;\n}\n.powa-live.fa.fa-check.unselected {\n\tcolor: transparent;\n}\n.powa-live.fa.fa-check.selected {\n\tcolor: "+d+";\n}\n.powa:-webkit-full-screen {\n\twidth: 100%;\n\theight: 100%;\n  }\n\n  .powa-live-controls:-moz-full-screen {\n\tposition: fixed;\n  }\n  .powa-live-controls:-webkit-full-screen {\n\tposition: fixed;\n  }\n  .powa-live-controls:-ms-fullscreen {\n\tposition: fixed;\n  }\n  .powa-live-controls:fullscreen {\n\tposition: fixed;\n  }\n  \n",p=Object.freeze({
error:console.error});e.LiveControl=function(){function t(e){var n=this;i(this,t),this.settings=(0,r.extend)({},p,e),this.dataset=this.settings.powa?this.settings.powa.getElement().dataset:{},this.dataset=(0,l.map)(this.dataset,r.parseString),(0,r.addCSS)(c),["setStillLive","createUI","playPause","volOffOn","fullScreen","volControl","hideControls","showControls","handleEvents","showClosedCaption"].forEach(function(t){return n[t]=n[t].bind(n)}),this.id=e.id,this.powa=e.powa,this.$player=(0,s.$)("#"+this.id),this.setStillLive(),this.createUI(),this.$controls=this.$player.find(".powa-live-video-controls"),this.$controlBarPlay=this.$player.find(".powa-live-control-bar-play"),this.$play=this.$player.find(".powa-live-control-bar-play.fa.fa-play"),this.$pause=this.$player.find(".powa-live-control-bar-play.fa.fa-pause"),this.setVisibleHidden(),this.handleEvents(),this.volControl()}return a(t,[{key:"setStillLive",value:function(){this.isStillLive="live"===(0,r.get)(this.powa.getVideoData(),"video_type")}},{key:"createUI",value:function(){var t=(0,r.sniffClient)();this.$liveControl=(0,s.$)(o()),this.$liveControl.hide(),this.$player.find(".powa-video").after(this.$liveControl),this.powa.getStatus().subtitles||this.$player.find(".powa-live-closedcap").css({display:"none"}),t.isMobile&&(this.$player.find(".powa-live-vol-on-mute").css({display:"none"}),this.$player.find("#powa-live-vol").css({display:"none"}))}},{key:"showControls",value:function(){this.isStillLive&&this.$controls.show()}},{key:"hideControls",value:function(){this.isStillLive&&(this.$controls.hide(),this.powa.off(window.PoWa.EVENTS.END,this.hideControls))}},{key:"setVisibleHidden",value:function(){function t(){o.on("mouseover",u),o.on("mouseout",d)}function e(){o.off("mouseout",d),o.off("mouseover",u)}var n,i=this,o=this.$player,a=this.$player.find(".powa-live.fa-cc"),s=this.$player.find(".powa-live-cc-menu-container"),l=(0,r.sniffClient)(),u=function(){i.$controls.css({visibility:"visible"})},d=function(){i.$controls.css({visibility:"hidden"})},c=function(){n&&window.clearTimeout(n),i.$controls.css({visibility:"visible"}),n=window.setTimeout(function(){i.$controls.css({visibility:"hidden"})},5e3)};this.$pause.on("click",function(){e(),window.clearTimeout(n),i.$controls.css({visibility:"visible"})}),a.on("click",function(){e(),i.$controls.css({visibility:"visible"})}),this.$play.on("click",function(){t()}),s.on("click",function(){var e=i.$play.hasClass("playing");e===!0&&t()}),l.isMobile?o.on("touchstart",c):t()}},{key:"playPause",value:function(){if(this.isStillLive){var t=this.powa.getStatus();t.playing===!0?(this.$controlBarPlay.removeClass("playing"),this.$controlBarPlay.addClass("paused"),this.powa.pause()):(this.$controlBarPlay.removeClass("paused"),this.$controlBarPlay.addClass("playing"),this.powa.play())}}},{key:"volOffOn",value:function(){var t=this.powa.getStatus().muted,e=this.$player.find(".powa-live-mute"),n=this.$player.find(".powa-live-volup");t===!1?(this.powa.mute(),n.hide(),e.show()):(this.powa.mute(),e.hide(),n.show())}},{key:"volControl",value:function(){function t(t){var n=Math.round(t.value/t.getAttribute("max")*1*100),i="linear-gradient(90deg,"+u+" "+n+"%,"+d+" "+(n+1)+"%)",o="input[id="+t.id+"]::",a="";a+=o+e+"{background: "+i+";} ",document.getElementById("s"+t.id).textContent=a}var e="-webkit-slider-runnable-track",n=this.$player.find("input[type=range]").elements,i=this.powa.volume,o=function(){function e(){var t=n[0].value;i(t/100)}var o=window.getComputedStyle(n[0],"::-webkit-slider-thumb").background;o||(n[0].style.WebkitAppearance="slider-horizontal");var a=document.createElement("style");a.id="s"+n[0].id,document.head.appendChild(a),n[0].addEventListener("input",function(){t(n[0])},!1),1*n[0].value&&t(n[0]),n[0].addEventListener("input",e,!1)};o()}},{key:"fullScreen",value:function(){var t=this;if(this.isStillLive){var e,n=this.$player,i=(0,r.sniffClient)(),o=function(){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},a=function(){e&&window.clearTimeout(e),t.$controls.css({visibility:"visible"}),e=window.setTimeout(function(){t.$controls.css({visibility:"hidden"})},5e3)};if(o())document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),window.clearTimeout(e),n.off("mousemove",a),this.$player.removeClass("native-controls"),this.$player.addClass("custom-controls");else{var s=n.elements[0],l=this.$player.find(".powa-video").elements[0];s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullScreen?s.webkitRequestFullScreen():s.msRequestFullscreen?s.msRequestFullscreen():l.webkitEnterFullScreen&&l.webkitEnterFullscreen(),i.isMobile&&(this.$player.removeClass("custom-controls"),this.$player.addClass("native-controls")),n.on("mousemove",a)}}}},{key:"showClosedCaption",value:function(){var t=this;if(this.isStillLive){var e,n=this.powa.getStatus().subtitles,i=n.subtitles.length,o=this.$player.find(".powa-live-cc-menu-container"),a=[],r=function(n,i,o){var r=document.createElement("li"),s=r.appendChild(document.createElement("div"));return s.setAttribute("id",n),s.className="powa-live-cc-button",i.length>0&&s.setAttribute("lang",i),s.value=o,s.appendChild(document.createTextNode(o)),s.insertAdjacentHTML("afterbegin",'<i class="powa-live fa fa-check unselected" aria-hidden="true";"></i>'),s.addEventListener("click",function(n){for(var i=0;i<a.length;i++)document.getElementsByClassName("powa-live fa-check")[i].className="powa-live fa fa-check unselected";n.target.children[0].className="powa-live fa fa-check selected","cc-off"===n.currentTarget.id?t.powa.hideSubtitles():t.powa.showSubtitles(n.currentTarget.lang),e.css({display:"none"})}),a.push(s),r};if(!this.$player.find(".powa-live-cc-menu").elements.length&&n){var s=document.createDocumentFragment();e=s.appendChild(document.createElement("ul")),e.className="powa-live-cc-menu",e.appendChild(r("cc-off","","Off"));for(var l=0;l<i;l++)n&&e.appendChild(r("cc-"+n.subtitles[l],n.subtitles[l],n.subtitles[l]));o.append(e),this.$player.find("#cc-off").elements[0].children[0].className="powa-live fa fa-check selected"}(this.$player.find(".powa-live-cc-menu").elements.length>0||e)&&(e=this.$player.find(".powa-live-cc-menu"),e.css({display:"block"==e.css("display")?"none":"block"}))}}},{key:"handleEvents",value:function(){var t=this.$player.find(".powa-live-vol-on-mute"),e=this.$player.find(".powa-live-closedcap"),n=this.$player.find(".powa-live-fullscreen");this.powa.on(window.PoWa.EVENTS.START,this.setStillLive),this.powa.on(window.PoWa.EVENTS.FIRST_FRAME,this.showControls),this.powa.once(window.PoWa.EVENTS.END,this.hideControls),this.powa.on(window.PoWa.EVENTS.AD_START,this.hideControls),this.powa.on(window.PoWa.EVENTS.MEDIA_START,this.showControls),this.$controlBarPlay.on("click",this.playPause),t.on("click",this.volOffOn),n.on("click",this.fullScreen),e.on("click",this.showClosedCaption)}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){var i,o,a,r=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)};return function(){var u=Date.now();s||n.leading!==!1||(s=u);var d=e-(u-s);return i=this,o=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||n.trailing===!1||(r=setTimeout(l,d)),a}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(8),s={VIEWABLE:"powaViewable"},l=.5,u="PoWaViewable",d=function(){function t(e){if(i(this,t),!e.id&&!e.powa)throw"Invalid settings to setup PoWaViewable";this._el=document.getElementById(e.id),this._powa=e.powa,this.debug=e.debug,(0,r.isElementInViewport)(this._el,l)&&this.trigger(),window.IntersectionObserver?(this.handleIntersectionBound=this.handleIntersection.bind(this),this.observer=new IntersectionObserver(this.handleIntersectionBound,{threshold:l}),this.observer.observe(this._el)):(this.handleScrollBound=o(this.handleScroll.bind(this),100),window.addEventListener("scroll",this.handleScrollBound,!1))}return a(t,[{key:"handleIntersection",value:function(t){this.debug&&console.debug("["+u+"] handleIntersection");var e=t[0].intersectionRatio>=l;e&&this.trigger()}},{key:"handleScroll",value:function(t){this.debug&&console.debug("["+u+"] handleScroll()"),!this._started&&(0,r.isElementInViewport)(this._el,l)&&this.trigger()}},{key:"trigger",value:function(){this.debug&&console.debug("["+u+"] trigger()"),this._powa.trigger(s.VIEWABLE),this._el.setAttribute("data-viewable-fired",!0)}}]),t}();e.default=d},function(t,e){"use strict";function n(t){return Array.isArray?Array.isArray(t):t instanceof Array}function i(t,e,i){i=i||!1,t=n(t)?t:[t];var o=[],a=i?"":"(|s|es|ed|ing|er)",r=t.length;if(r&&e){for(;r--;)o.push(t[r]+a);return o="\\b"+o.join("\\b|\\b")+"\\b",new RegExp(o,"i").test(e)}return!1}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};try{window.top.videoExclusions={vid_excl_cat:[]}}catch(t){}window.urlCheck=function(t,e){var n=window.location.href||document.referrer,i=e&&"object"===("undefined"==typeof e?"undefined":o(e))?e:null,a=null!==i&&"variable"===i.type?new RegExp("[\\?&;]"+t+"=([^&#?]*)"):new RegExp(t),r=a.exec(n);return null===r?null:r[r.length-1]},window.wpvidAutoplayDisabled=function(t){var e=(new Date).getTime(),n=15110496e5,i=15146784e5;if(e>n&&e<i&&window.wp_meta_data&&wp_meta_data.contentName&&"the-switch"===wp_meta_data.contentName[0])return!0;var o=15123456e5,a=15146784e5;if(e>o&&e<a&&window.wp_meta_data&&wp_meta_data.contentName&&"on-leadership"===wp_meta_data.contentName[0])return!0;var r=15117588e5,s=15146784e5;if(e>r&&e<s&&window.wp_meta_data&&wp_meta_data.contentName&&"innovations"===wp_meta_data.contentName[0])return!0;var l=15123456e5,u=15131232e5;if(e>l&&e<u&&window.wp_meta_data&&wp_meta_data.contentName&&"on-small-business"===wp_meta_data.contentName[0])return!0;var d=15130368e5,c=15146784e5;if(e>d&&e<c&&window.urlCheck("/lifestyle/travel/"))return!0;if(e>d&&e<c&&window.urlCheck("/lifestyle/wellness/"))return!0;var p=15130368e5,h=15146784e5;if(e>p&&e<h&&window.urlCheck("/lifestyle/food/"))return!0;var f=15130368e5,g=15146784e5;if(e>f&&e<g&&window.urlCheck("/news/wonk/"))return!0;var v=15123456e5,m=15146784e5;if(e>v&&e<m&&window.wp_meta_data&&wp_meta_data.contentName&&"get-there"===wp_meta_data.contentName[0])return!0;var w=15131232e5,y=15132096e5;if(e>w&&e<y&&(window.urlCheck("/business/")||window.urlCheck("/business/capital-business/")||window.urlCheck("/business/on-small-business/")||window.urlCheck("/news/energy-environment/")||window.urlCheck("/news/digger/")||window.urlCheck("/news/wonk/")||window.urlCheck("/business/on-leadership/")||window.urlCheck("/business/get-there/")))return!0;var b=15105312e5,k=15146784e5;return!!(e>b&&e<k&&window.wp_meta_data&&wp_meta_data.contentName&&"capital-weather-gang"===wp_meta_data.contentName[0])},window.blockPreroll=function(t){var e=(new Date).getTime(),n=15129504e5,i=15136416e5;if(e>n&&e<i&&window.urlCheck("/lifestyle/travel/"))return!0;var o=15131232e5,a=15132096e5;if(e>o&&e<a&&(window.urlCheck("/business/")||window.urlCheck("/business/capital-business/")||window.urlCheck("/business/on-small-business/")||window.urlCheck("/news/energy-environment/")||window.urlCheck("/news/digger/")||window.urlCheck("/news/wonk/")||window.urlCheck("/business/on-leadership/")||window.urlCheck("/business/get-there/")))return!0;var r=15131232e5,s=15132096e5;if(e>r&&e<s&&window.wp_meta_data&&wp_meta_data.isHomepage===!0)return!0;var l=1513296e6,u=15133824e5;if(e>l&&e<u&&window.wp_meta_data&&wp_meta_data.isHomepage===!0)return!0;var d=1513728e6,c=15138144e5;return!!(e>d&&e<c&&window.wp_meta_data&&wp_meta_data.isHomepage===!0)||!!/breitbart\.com|alternet\.org|commondreams\.org|dailykos\.com|proudemocrat\.com|redstate\.com|theblaze\.com|therightscoop\.com|wonkette\.com/i.test(document.referrer)},window.vidExclusions=function(t){var e,n=[],o={natural_disaster:["deepwater","oil spill","shell","exxon","citgo","bp","chevron","hess","sunoco","disaster","fire","explosion","oil","coal","death","dead","quake","earthquake","tsunami","tornado","hurricane","flood","bed bug","infestation","gas","tropical storm","Irma","Harvey"],human_disaster:["massacre","oreilly","Ailes","o'reilly","fox news","abuse","death","trafficking","dead","gunshot","murderer","porn","sex tape","sexting","sexual abuse","molestation","assault","child abuse","sex abuse","ISIS","ISIL","Islamic State","Al Qaeda","Syria","Syrian","Assad","shooter","shooting","migrants","aylan kurdi","refugee crisis","drown","shoot","vatican","spanair","aground","rescue","attack","disaster","explosion","war","hostage","terror","terrorist","bomb","blast","mining","miner","violence","riot","crash","9/11","sept. 11","september 11","behead","United 93","pistorius","ebola","rape","rapist","amtrak","derailment","benghazi","misconduct"],financial_crisis:["corrupt","lawsuit","goldman","aig","foreclosure","enron","sec","mortgage","Insurance","health","bank","wall street","protest","labor strike","union strike","labor issue","union issue","teacher strike","teachers strike","election"],inappropriate:["porn","deepwater","gambling","sex","alcohol","pornography"]},a=window.wp_meta_data&&window.wp_meta_data.contentType&&"MediaGallery"===window.wp_meta_data.contentType[0],r=window.wp_meta_data&&window.wp_meta_data.contentType&&"VideoStory"===window.wp_meta_data.contentType[0];(a||r)&&n.push("media"),(/washingtonpost\.com|personalpost|obituaries|weather|jobs\/search/.test(window.commercialNode)||r)&&n.push("intrusive");for(e in o)o.hasOwnProperty(e)&&i(o[e],t)&&n.push(e);return n},window.directToDFPCheck=function(t){return"wpni.video.technology/smarterliving"===t||"wpni.video.style/howtoadult"===t||"wpni.video.style/foodhacks"===t||"wpni.video.paywall"===t}},function(t,e){}]));